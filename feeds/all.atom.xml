<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>5566</title><link href="/" rel="alternate"></link><link href="aady5566.github.io/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2017-03-29T00:00:00+08:00</updated><entry><title>SF7 Beyond Linearity</title><link href="/sf7-beyond-linearity.html" rel="alternate"></link><published>2017-03-29T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-03-29:sf7-beyond-linearity.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');
&lt;/script&gt;

&lt;script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/8.3.1/markdown-it.js"&gt;
&lt;/script&gt;

&lt;p&gt;雖然感覺光研究線性模型就能做出很多變化，不過事實是它永遠不夠（科學家也不會甘於用線性模型解釋所有世俗現象）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The truth is never linearity, yet the linearity assumption is good enough (sometimes)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;這裡稍微整理一下非線性模型的做法及評估方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Basis Functions&lt;/li&gt;
&lt;li&gt;special case:&lt;ul&gt;
&lt;li&gt;Polynomial Regression&lt;/li&gt;
&lt;li&gt;Step Functions: cut the variable into distinct regions&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Regression Splines&lt;/li&gt;
&lt;li&gt;keyword: knots, $df$&lt;/li&gt;
&lt;li&gt;In R: &lt;code&gt;lm(wage ~ bs(age, knots = c(25, 40, 60)), data = Wage)&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;Smoothing Splines&lt;/li&gt;
&lt;li&gt;keyword: $\lambda$, $df_\lambda$ (effective degree of freedom)&lt;/li&gt;
&lt;li&gt;In R: &lt;code&gt;fit = smooth.spline(age, wage, df = 16)&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;Local Regression&lt;/li&gt;
&lt;li&gt;In R: &lt;code&gt;loess()&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;Generalized Addictive Models (GAM)&lt;/li&gt;
&lt;li&gt;In R: &lt;code&gt;lm(y ~ f_1(x_1)+ f_2(x_2)+f_3(x_3))&lt;/code&gt; ; &lt;code&gt;plot.gam()&lt;/code&gt; &lt;/li&gt;
&lt;li&gt;In R: MGCB package&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;Polynomial Regression&lt;/h2&gt;
&lt;p&gt;我們將一般的回歸式進行延伸：&lt;/p&gt;
&lt;p&gt;$y_i = \beta_0+ \beta_1x_i + \beta_2x_i^2+ \beta_3x_i^3+ ... + \beta_dx_i^d + \epsilon_i$&lt;/p&gt;
&lt;p&gt;一般來說，我們不會讓 $d$ 大於 3 或 4，因為太大的指數會使得模型過於彈性，曲線會長得非常奇怪。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489731662936_+2017-03-17+2.20.38.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;根據 $x_i$ 我們已經得到實線適配的結果，接著我們想要得到該線的信賴區間（虛線）。其實利用最小平方法計算時，就可以得到係數 $\hat{\beta_j}$ 的變異量了，而估計的信賴區間可藉由 &lt;em&gt;pointwise&lt;/em&gt; standard error ($Var[\hat{f}(x_0)]$) 就能得到。實際上，兩倍標準誤就是信賴區間了。&lt;/p&gt;
&lt;p&gt;如果我們再敏感一點，其實會看到原始資料在 Wage 250 的位置有明顯的分群，假如我們想看各個年齡層在收入大於250的機率，可以用 logistic regression model:&lt;/p&gt;
&lt;p&gt;$Pr(y_i &amp;gt; 250|x_i)=\frac{exp(\beta_0+ \beta_1x_i + \beta_2x_i^2+ \beta_3x_i^3)}{1+exp(\beta_0+ \beta_1x_i + \beta_2x_i^2+ \beta_3x_i^3)}$&lt;/p&gt;
&lt;p&gt;在 R 的實作上：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;fit &lt;span class="o"&gt;=&lt;/span&gt; glm&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;I&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;wage&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="m"&gt;250&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt; poly&lt;span class="p"&gt;(&lt;/span&gt;age&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; data&lt;span class="o"&gt;=&lt;/span&gt;Wage&lt;span class="p"&gt;,&lt;/span&gt; family&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;binomial&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
preds &lt;span class="o"&gt;=&lt;/span&gt; predict&lt;span class="p"&gt;(&lt;/span&gt;fit&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kt"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;age&lt;span class="o"&gt;=&lt;/span&gt;age.grid&lt;span class="p"&gt;),&lt;/span&gt;se&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
preds&lt;span class="o"&gt;$&lt;/span&gt;se.fit
se.bands &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; preds&lt;span class="o"&gt;$&lt;/span&gt;fit &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="kp"&gt;cbind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;fit&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;lower&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;-2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;preds&lt;span class="o"&gt;$&lt;/span&gt;se.fit&lt;span class="p"&gt;,&lt;/span&gt;upper&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;preds&lt;span class="o"&gt;$&lt;/span&gt;se.fit&lt;span class="p"&gt;)&lt;/span&gt;
prob.bands &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;se.bands&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="kp"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;se.bands&lt;span class="p"&gt;))&lt;/span&gt;
matplot&lt;span class="p"&gt;(&lt;/span&gt;age.grid&lt;span class="p"&gt;,&lt;/span&gt;prob.bands&lt;span class="p"&gt;,&lt;/span&gt;col&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;lwd&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;lty&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;type&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;l&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;ylim&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kt"&gt;c&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;就能繪出類似這樣的結果&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489732046752_+2017-03-17+2.27.09.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;hr /&gt;
&lt;h2&gt;Step function&lt;/h2&gt;
&lt;p&gt;有時也被稱作 piece-wise constant function。概念其實和 Polynomial Regression 類似，只是將資料進行人為的分類，也就是把&lt;strong&gt;連續變項轉成次序類別變項&lt;/strong&gt;，用新的變數 (dummy variable) 來進行模型適配。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489732571779_+2017-03-17+2.35.57.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;$I(\cdot)$ 稱為 indicator function, 當條件成立為 1 不成立 0，其實就是 dummy variable。
step function 常用的領域為生物統計及流行病學。這裡特別注意，&lt;strong&gt;除非這些斷點本身有意義，否則不建議用 step function 對原始資料進行切割&lt;/strong&gt;，因為這樣可能會有資訊遺漏的風險。  &lt;/p&gt;
&lt;h2&gt;Regression Splines&lt;/h2&gt;
&lt;p&gt;可以看成是 polynomial regression 和 step function 結合的進階版：&lt;/p&gt;
&lt;p&gt;$y_i = \begin{cases} \begin{align} \beta_{01}+ \beta_{11}x_i + \beta_{21}x_i^2+ \beta_{31}x_i^3 +\epsilon &amp;amp; \text{ if } x_i &amp;lt;c \newline \beta_{02}+ \beta_{12}x_i + \beta_{22}x_i^2+ \beta_{32}x_i^3 +\epsilon &amp;amp; \text{ if } x_i \geq c \end{align} \end{cases}$&lt;/p&gt;
&lt;p&gt;從上圖可看到，原本的 polynomial regression 因為後面的條件 (knot)，被分拆成兩個新的 regression models，因此我們又稱之為 piecewise polynomials。不過光這樣切，其實會有個問題，圖形會變得不連續：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489734662113_+2017-03-17+3.10.48.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;好的做法是讓他在 knots 的位置能夠&lt;strong&gt;連續且平滑&lt;/strong&gt;，我們必須做一些條件的限制。以此例，是 degree = 3 的函數，為了能夠使曲線&lt;strong&gt;連續且平滑&lt;/strong&gt;，我們必須讓 age = 50 在一次及二次微分後的函數的值是一樣的，也就是說我們的 piecewise polynomials 會變成：&lt;/p&gt;
&lt;p&gt;$y_i = \begin{cases} \begin{align} \color{royalblue}{\beta_{0}}+ \color{royalblue}{\beta_{1}}x_i + \color{royalblue}{\beta_{2}}x_i^2+ \beta_{31}x_i^3 +\epsilon &amp;amp; \text{ if } x_i &amp;lt;c \newline \color{royalblue}{\beta_{0}}+ \color{royalblue}{\beta_{1}}x_i + \color{royalblue}{\beta_{2}}x_i^2+ \beta_{32}x_i^3 +\epsilon &amp;amp; \text{ if } x_i \geq c \end{align} \end{cases}$&lt;/p&gt;
&lt;p&gt;自由度會從原本的 $df=8$ 變成 $df=5$，繪圖的結果會變成就會連續平滑了：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489736664477_+2017-03-17+3.43.46.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;不過到底要怎麼決定節點數及節點的位置呢？&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;最簡單的方式就是讓電腦算給你（不負責任的做法…）&lt;/li&gt;
&lt;li&gt;直接肉眼觀察曲線的長相&lt;/li&gt;
&lt;li&gt;進行交叉驗證：90% 資料做訓練，去比對不同的節點位置或節點數的模型平均的 test RSS 大小，選擇最小 RSS 模型。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通常 regression splines 的結果會優於 polynomial regression，由於兩者的自由度都一樣，但是 splines 多了節點使得曲線更彈性。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;Smoothing Splines&lt;/h2&gt;
&lt;p&gt;除了上述平滑曲線的方式，還有另外一種做法：&lt;strong&gt;在有限制的情況下&lt;/strong&gt;使 $RSS$ 越小越好。如果我們只用原始的 $RSS$ 概念，$RSS \text{ (loss function)} = \sum_{i=1}^{n} (y_i - g(x_i))^{2}$ ，因為要符合最小的結果，一定能透過內差法找出最適合的 $g(x_i)$ 使 $RSS$ 為零，這會導致&lt;strong&gt;過度適配&lt;/strong&gt;。
其中一種方式就是，加入一個非負整數的調節參數 $\lambda$：&lt;/p&gt;
&lt;p&gt;$RSS=\sum_{i=1}^{n} (y_i - g(x_i))^{2}+\lambda\int g''(t)^2dt$&lt;/p&gt;
&lt;p&gt;$\lambda\int g''(t)^2dt$ 作為懲罰項（限制 $g()$ 的變動大小），二次微分的用意就是看曲線的凹凸性，也就是&lt;strong&gt;斜率的變化&lt;/strong&gt;，我們假想兩種情況，如下圖所示：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489980932597_+2017-03-20+11.35.17.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;以圖 Ａ 來說，函數 $g(t)$ 附近的斜率相當平滑，斜率變化趨近於常數，反觀圖 B，函數 $g(t)$ 附近的斜率變化大，會使得 $g''(t)$ 變得很大。因此 $\lambda$ 的目的就是就是在限制 $g''(t)$ 的收縮，如果 $\lambda \rightarrow \infty$ ，也就是把吸收了大量的懲罰效果，最後的結果就是使曲線變成直線。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Choosing the parameter&lt;/strong&gt; $\lambda$
有兩種做法可以決定 $\lambda$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;tune effective degrees of freedom&lt;/em&gt; ($df_{\lambda}$) rather than $\lambda$&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;這裡不做證明，但可以得到結論是
$\lambda \text{ increases from 0 to } \infty \text{ as }df_{\lambda} \text{ decreases from n to 2}$
 $n \text{: the number of unique }x_i$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;example R: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;smooth.spline(x, y, df=16) # max df: length(unique(x), min df: 2
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;LOOCV: &lt;/p&gt;
&lt;p&gt;$RSS_{cv}(\lambda)=\sum_{i=1}^{n}(y_i-\hat{g}_{\lambda}^{-i}(x_i))^2$, &lt;/p&gt;
&lt;p&gt;$\hat{g}_{\lambda}^{(-i)} \text{ indicates smoothing spline function }$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;example R:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;smooth.spline(x, y, cv=T)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;下圖我們可以看到兩種方式的結果：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1488941055307_+2017-03-08+10.43.51.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;hr /&gt;
&lt;h2&gt;Local Regression&lt;/h2&gt;
&lt;p&gt;這非常有意思，我們先看圖：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_0F0C14060C90D53DF47003597DA26CF0958D1C97F2F1E27102920E96348CCFF1_1489983340362_+2017-03-20+12.15.30.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;可以把它看成是單點估計的回歸，作法如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;$k$ 為分群數，$n$ 樣本數，決定訓練集的比例 $s = k/n$ ，找出離目標點 $x_i$ 的 $s$ 比例的觀察值作為訓練集，$s$ 取得越小，適配模型會越區域化、曲線的跳動頻繁，反之，$s$ 取得越大，適配模型會越整體化，曲線越平滑。&lt;/li&gt;
&lt;li&gt;對於這 $s$ 的每個點 $x$ 根據離 $x_i$ 的距離重新賦值 $K_{i0}=K(x_i,x_0)$ ，離 $x_i$ 最遠的點為 0&lt;/li&gt;
&lt;li&gt;利用 2. 適配 weighted leasted squares regression:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$\sum_{i=1}^{n}K_{i0}(y_i-\beta_0-\beta_1x_i)^2$&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;由 $\hat{f}(x_0)=\hat{\beta_0}+\hat{\beta_1}x_0$ 得到點估計 $\hat{x}_0$ &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;這種過程屬於 memory-based procedure，除此之外，考量 step-size 也是蠻重要的，也就是選擇 moving fitting 的過程需要多少個目標點 $x_i$。
另外一點要注意的是，&lt;strong&gt;不建議&lt;/strong&gt;在高維度（$p&amp;gt;3 \text{ or } 4$）的回歸進行臨近點分群回歸，因為隨著維度增加，鄰近目標點 $x_0$ 的 $x$ 會越來越少，適配模型效果會非常的差&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Theoretically the same approach can be implemented in higher dimensions, using linear regressions fit to p-dimensional neighborhoods. However, local regression can perform poorly if p is much larger than about 3 or 4 because there will generally be very few training observations close to $x_0$.  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Generalized Addictive Models (GAM)&lt;/h2&gt;
&lt;p&gt;GAM 概念其實蠻直覺的，原始的線性迴歸公式：&lt;/p&gt;
&lt;p&gt;$y_i = \beta_0+ \beta_1x_i + \beta_2x_i^2+ \beta_3x_i^3+ ... + \beta_dx_i^d + \epsilon_i$&lt;/p&gt;
&lt;p&gt;我們可以直接針對各獨變項給予非線性函數：&lt;/p&gt;
&lt;p&gt;$y_i=\beta_0+\sum_{j=1}^{p}f_j(x_{ij})+\epsilon = \beta_0+ f_1(x_{i1})+ f_2(x_{i2})+...+f_p(x_{ip})+\epsilon_i$&lt;/p&gt;
&lt;p&gt;但有沒有發現，變項間的交互作用項消失了，當然我們可以自己將 $f_{jk}(X_j,X_k)$ 放入模型，這個而適配交互作用項，可以透過上述的 local regression 或是 splines 做法啦！&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Stat"></category></entry><entry><title>SF6 Linear Model Selection</title><link href="/sf6-linear-model-selection.html" rel="alternate"></link><published>2017-03-22T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-03-22:sf6-linear-model-selection.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');
&lt;/script&gt;

&lt;script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/8.3.1/markdown-it.js"&gt;
&lt;/script&gt;

&lt;h1&gt;Methods of model selection:&lt;/h1&gt;
&lt;p&gt;今天要介紹模型的適選，主要有三種大方向：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Subset selection&lt;/li&gt;
&lt;li&gt;Shrinkage methods&lt;/li&gt;
&lt;li&gt;Dimension reduction methods&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下來就依照這三個方向進行介紹&lt;/p&gt;
&lt;h1&gt;Subset selection&lt;/h1&gt;
&lt;h2&gt;Best Subset Selection&lt;/h2&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1486696508901_+2017-02-10+11.14.57.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;intercept model&lt;/li&gt;
&lt;li&gt;training error&lt;/li&gt;
&lt;li&gt;testing error (indirect and direct estimate)  &lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;當預測因子大於40不建議用 best subset selection (迭代次數 $2^{40}$)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h2&gt;Forward Stepwise Selection&lt;/h2&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1486696930600_+2017-02-10+11.21.56.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;迭代次數相對較少，只有 $\frac{p^2+p}{2}$ 次 &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h2&gt;Backward Stepwise Selection&lt;/h2&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1486697066225_+2017-02-10+11.24.14.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;限制： n 必須大於 p （否則沒辦法計算 最小平方法）  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h1&gt;Choosing Optimal Model&lt;/h1&gt;
&lt;h2&gt;Indirect estimate of testing error&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;$C_p = \frac{1}{n}(RSS+2d\hat{\sigma}^2)$&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;n: observation, d: numbers of predictors, $\hat{\sigma}^2$: estimate of the variance of the error&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;$AIC = \frac{1}{n\hat{\sigma}^2}(RSS+2d\hat{\sigma}^2) = -2logL+2\cdot d$&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;L: maximum likelihood estimate; 右式為一般 的 AIC通則+，左式則是線性迴歸特例公式&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;$BIC=\frac{1}{n}(RSS+log(n)d\hat{\sigma}^2)$&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;當 n &amp;gt; 7 時，對於 predictor 較多的 model 懲罰更大。使用 BIC 會更偏好參數少的 model&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;$\text{Adjusted } R^2 = 1- \frac{RSS/(n-d-1)}{TSS/(n-1)}$&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;Direct estimate of testing error&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Validation&lt;/li&gt;
&lt;li&gt;Cross Validation&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1486696080537_+2017-02-10+11.06.56.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h1&gt;Shrinkage Methods&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Ridge regression&lt;/li&gt;
&lt;li&gt;Lasso&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Recall least square fitting procedure, RSS: &lt;/p&gt;
&lt;p&gt;$RSS = \sum_{i=1}^{n}(y_i-\beta_0-\sum_{j=1}^{p}\beta_jx_{ij})^2$&lt;/p&gt;
&lt;p&gt;Ridge regression:&lt;/p&gt;
&lt;p&gt;$RSS + \lambda\sum_{j=1}^{p}\beta_{j}^2$&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$\lambda\sum_{j=1}^{p}\beta_{j}^2$： shrinkage penalty  &lt;/p&gt;
&lt;p&gt;$\lambda$： tunning parameter（ $\lambda = 0$ 為 ordinary least square fitting, $\lambda$ 越大，係數會越小，逐漸逼近0）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487835450668_+2017-02-23+3.37.15.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;$\hat{\beta}$: least squares coefficient estimates  &lt;/p&gt;
&lt;p&gt;$\hat{\beta}_{\lambda}^{R}$: ridge regression coefficient  &lt;/p&gt;
&lt;p&gt;$\vert\vert\beta\vert\vert_2 =\sqrt{\sum_{j=1}^{p}\beta_{j}^2}$   &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;LASSO:&lt;/p&gt;
&lt;p&gt;$RSS + \lambda\sum_{j=1}^{p}|\beta_j|$&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ridge regression 的變形 (1996 invented)
當 $\lambda$ 夠大，可以讓係數變成0 而不是趨近於0 (&lt;strong&gt;sparsity&lt;/strong&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487837715966_+2017-02-23+4.15.07.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h2&gt;Issue of scale equivariant&lt;/h2&gt;
&lt;p&gt;Scale equivariant: 已知 $X_i$ 利用最小平方法所得出的係數為 $\beta_i$。 若 $X_i$ 乘上定值 $c$ ，則得到的係數 $\hat{\beta_i}$ 會變成原本的 $1/c$ 倍。即 $X_i\beta_i$ 會是定值。
但在 Ridge regression 或是 LASSO 沒有這樣的特性，因此最好的做法，是在對 predictors 事前的標準化：  &lt;/p&gt;
&lt;p&gt;$\tilde{x_{ij}}=\frac{x_{ij}}{\sqrt{\frac{1}{n}\sum_{i=1}^n(x_{ij}-\bar{x}_j)^2}}$&lt;/p&gt;
&lt;h2&gt;Trade-off between Ridge regression and Least squares&lt;/h2&gt;
&lt;p&gt;Bias-Variance trade-off:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;least squares: high variance and low bias (complex model)  &lt;/li&gt;
&lt;li&gt;ridge regression: high bias and low variance (simple model)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487836778224_+2017-02-23+3.59.28.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h2&gt;Visualize the variable selection property&lt;/h2&gt;
&lt;p&gt;Another formula for the LASSO and ridge regression:&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487837823987_+2017-02-23+4.16.49.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487837893419_+2017-02-23+4.18.00.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h2&gt;如何選擇 ridge regression 或 LASSO?&lt;/h2&gt;
&lt;p&gt;dense model (gene) → ridge regression
sparse model (gender) → LASSO&lt;/p&gt;
&lt;h2&gt;What’s about choosing the $\lambda$ (Tuning parameter) ?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Cross Validation:&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;資料先分成訓練、測試集&lt;/li&gt;
&lt;li&gt;訓練集建模 (ridge or LASSO)&lt;/li&gt;
&lt;li&gt;訓練模型含有若干 $\lambda$ 值&lt;/li&gt;
&lt;li&gt;將不同 $\lambda$ 所得的模型預測結果與測試集 得到 RMSE&lt;/li&gt;
&lt;li&gt;找出 min(RMSE) 的 $\lambda$ 值，該模型的係數&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;code demo&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;leaps&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kn"&gt;library&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;ISLR&lt;span class="p"&gt;)&lt;/span&gt;
Hitters &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; na.omit&lt;span class="p"&gt;(&lt;/span&gt;Hitters&lt;span class="p"&gt;)&lt;/span&gt;
trainNum &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;dim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Hitters&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="kp"&gt;set.seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
trainIdx &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;sample&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;dim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;Hitters&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;trainNum&lt;span class="p"&gt;,&lt;/span&gt;replace&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;F&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# training model (use the best lambda to get coef)&lt;/span&gt;
lasso.tr &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; glmnet&lt;span class="p"&gt;(&lt;/span&gt;x&lt;span class="p"&gt;[&lt;/span&gt;trainIdx&lt;span class="p"&gt;,],&lt;/span&gt;y&lt;span class="p"&gt;[&lt;/span&gt;trainIdx&lt;span class="p"&gt;])&lt;/span&gt;
lasso.tr &lt;span class="c1"&gt;# 88 values of lambda&lt;/span&gt;
&lt;span class="c1"&gt;# cross validation?&lt;/span&gt;
pred &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; predict&lt;span class="p"&gt;(&lt;/span&gt;lasso.tr&lt;span class="p"&gt;,&lt;/span&gt;x&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;trainIdx&lt;span class="p"&gt;,])&lt;/span&gt;
&lt;span class="kp"&gt;dim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;pred&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# compute 92 times&lt;/span&gt;
rmse &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="kp"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;y&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;trainIdx&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;pred&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="kp"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
plot&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kp"&gt;log&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;lasso.tr&lt;span class="o"&gt;$&lt;/span&gt;lambda&lt;span class="p"&gt;),&lt;/span&gt;rmse&lt;span class="p"&gt;,&lt;/span&gt;type&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;xlab&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;log(lambda)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
lam.best &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; lasso.tr&lt;span class="o"&gt;$&lt;/span&gt;lambda&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="kp"&gt;order&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;rmse&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
coef&lt;span class="p"&gt;(&lt;/span&gt;lasso.tr&lt;span class="p"&gt;,&lt;/span&gt;s&lt;span class="o"&gt;=&lt;/span&gt; lam.best&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# after obtained the training model, we can set a lambda value which is got from the above method and finally got the coef&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h1&gt;Dimension Reduction Methods&lt;/h1&gt;
&lt;p&gt;概念：利用原始自變量的線性轉換所生成新的自變量
原理：利用自變量間的相關，聚合新的自變量，減少共線性
目的：將原本的 $p$ 個變量 縮減到 $m$ 個變量, $m &amp;lt; p$&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487839208963_+2017-02-23+4.39.52.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h2&gt;Principle Component Regression:&lt;/h2&gt;
&lt;p&gt;第一主成份：統計學家常用的假設，變異最大的方向向量（high variance is probably going to be associated with the response）&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487839331978_+2017-02-23+4.41.57.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;缺點: 只考慮自變量的線性轉換，未考慮自變量與應變量間的關係，導致模型可能出現 full model is the best model 的狀況，無法化簡主成份模型應有的效果：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_675D8EAEE35D72F3DF626C18BB07F441157F58865CAEC85F97D5D9051B1B596F_1487839631957_+2017-02-23+4.46.59.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h2&gt;Partial Least Squares&lt;/h2&gt;
&lt;p&gt;根據 PCR 得到的 $Z_1,...,Z_m$ 和 $y$ 的關係，篩選出 subset $Z_j$
屬於 supervised learning procedure&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Stat"></category></entry><entry><title>SF3 Linear Regression</title><link href="/sf3-linear-regression.html" rel="alternate"></link><published>2017-03-17T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-03-17:sf3-linear-regression.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');
&lt;/script&gt;

&lt;script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/8.3.1/markdown-it.js"&gt;
&lt;/script&gt;

&lt;p&gt;最簡單的線性迴歸模型： $Y = \beta_0 + \beta_1X + \epsilon$ （假設此真理）&lt;/p&gt;
&lt;p&gt;那我們實際上能得到的是： $\hat{y} = \hat{\beta_0} + \hat{\beta_1}x$ (這裡的 $\beta$ 為用觀察值 training data 得到的估計值)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;衡量模型的好壞，可以看殘差：  &lt;/p&gt;
&lt;p&gt;$\text{residual: }e_i = \ y_i - \hat{y_i}$  &lt;/p&gt;
&lt;p&gt;$\text{residual sum of square (RSS):  }$  &lt;/p&gt;
&lt;p&gt;$RSS = e_1^2+...+e_n^2 = \ [y_1-(\hat{\beta_0} + \hat{\beta_1}x_1)]+...+[y_n-(\hat{\beta_0} + \hat{\beta_1}x_n)]$  &lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1480518037424_+2016-11-30+11.00.22.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;也就是如圖下&lt;strong&gt;每個資料點到藍色線的垂直距離平方的總和&lt;/strong&gt;&lt;/p&gt;
&lt;h2&gt;評估參數估計的精準度&lt;/h2&gt;
&lt;p&gt;由樣本標準差（ $SD = \sqrt{\sum{(x-\bar{x})}/n-1}$ ）得到樣本標準誤 （$SE = SD/\sqrt{n}$） &lt;/p&gt;
&lt;p&gt;ref: &lt;a href="http://ncalculators.com/math-worksheets/calculate-standard-error.htm"&gt;Standard error 如何計算&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;看到 $SE(\hat{\beta_1})^2$ ，若分子和 irreducible error 有關，原始資料的變異越大，也代表斜率變異越大（越不準）。而分母則是看 predictor 的離散程度，分散程度越高，斜率會比較有鑑別度（分母的值越大，所產生的 SE 也較小）&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1480521057926_+2016-11-30+11.50.37.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;SE 可用來作為判斷 CI 的指標，而 CI 代表著 估計參數所涵蓋真實參數的可能性有多少，解釋如下：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1480520971162_+2016-11-30+11.49.10.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h1&gt;Hypothesis Testing &amp;amp; Confidence Intervals&lt;/h1&gt;
&lt;h2&gt;Residual standard error&lt;/h2&gt;
&lt;p&gt;$RSS = \sum_{i=1}^n(y_i-\hat{y_i})^2$ ，從此公式可看出 RSS 的大小會受到樣本數的影響
因此評估一個整體模型的好壞 ( overall accuracy of the model ) 可以用：&lt;/p&gt;
&lt;p&gt;$\text{Residual standard error: }RSE = \sqrt{RSS/n-2}$&lt;/p&gt;
&lt;h2&gt;Confidence Intervals vs. Hypothesis Testing&lt;/h2&gt;
&lt;p&gt;其實 CI 就已經是在做檢定了，以課堂例子 95%信賴區間為 [0.042, 0.053]，也就是說真實的參數 $\beta_1$ 沒有包含到 0 點的位置。換句話說，假設檢定虛無假設 $H_0: \hat{\beta_1} = 0$ 已經被拒絕了。而且 [0.042, 0.053] 同時也說明這個參數的&lt;strong&gt;效果&lt;/strong&gt;有多大。&lt;/p&gt;
&lt;h2&gt;R-squared ( fraction of variance explained )，解釋變異量&lt;/h2&gt;
&lt;p&gt;除了 RSE 可以用來衡量整體模型的好壞外，另一種方式是計算解釋變異量：&lt;/p&gt;
&lt;p&gt;$\text{R-squared: }R^2 = \frac{TSS - RSS}{TSS} = 1 - \frac{RSS}{TSS}, TSS = \sum_{i=1}^n(y_i-\bar{y})^2$&lt;/p&gt;
&lt;p&gt;&lt;em&gt;TSS: total sum of square&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;上述公式不難理解， $RSS$ 說明的是誤差項，也就是模型無法解釋的部分，$\frac{RSS}{TSS}$ 即為整個模型無法解釋的比例，全部減去這個比例就是模型能解釋的比例了。&lt;/p&gt;
&lt;p&gt;而最簡單的線性回歸的相關 r 的平方也會是線性回歸模型的解釋變異量（$r^2 = R^2$） &lt;/p&gt;
&lt;p&gt;$\text{Correlation R: }\frac{\sum_{i=1}^n(x_i-\bar{x})(y_i-\bar{y})}{\sqrt{\sum_{i=1}^n(x_i-\bar{x})^2}\sqrt{\sum_{i=1}^n(y_i-\bar{y})^2}}$&lt;/p&gt;
&lt;h1&gt;Multiple Linear Regression&lt;/h1&gt;
&lt;p&gt;$Y = \beta_0 + \beta_1X_1 + \beta_2X_2+ ...+ \beta_pXp +\epsilon$&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481039936178_+2016-12-06+11.58.34.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;最理想的情境是所有的 predictors 彼此是獨立無關的，如果 predictors 有相關，在解釋 coefficients 上會有問題，因為某一個 $X_i$ 對 $Y$ 有影響時，其他的 $X$ 是不固定的，很難解釋 $X_i$ 如何真正影響 $Y$ 。
一定要&lt;strong&gt;避免因果關係&lt;/strong&gt;的宣稱！&lt;/p&gt;
&lt;h2&gt;Coefficient&lt;/h2&gt;
&lt;p&gt;Coefficient: A regression coefficient $\beta_j$ estimates the expected change in $Y$ per unit change in $X_j$, &lt;strong&gt;with all other predictors held fixed&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;舉個例子：
$Y$ 是你口袋裡的銅幣金額， $X_1$ 是口袋內銅板的個數， $X_2$ 為 1 元、 5 元、10 元的個數。兩個獨變項皆會影響依變項，但獨變項卻有著某種相關存在。( interaction effect )&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Essentially, all models are wrong, but some are useful - George Box&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Some important questions&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;是否存在至少一個獨變項可以用來預測依變項？&lt;/li&gt;
&lt;li&gt;可以用 F 檢定回答&lt;/li&gt;
&lt;li&gt;&lt;em&gt;F-statistic&lt;/em&gt;: $F = \frac{(TSS-RSS)/p}{RSS/(n-p-1)}\sim F_{p,n-p-1}$ (分母的 p+1 加入了 intercept )&lt;/li&gt;
&lt;li&gt;要如何選擇用 full model 還是 reduced model？&lt;/li&gt;
&lt;li&gt;這問題等同於 deciding on the important variables&lt;/li&gt;
&lt;li&gt;如何評估一個模型適配資料的程度？&lt;/li&gt;
&lt;li&gt;如何評估模型預測的準確度？&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Deciding on the important variables&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Forward selection&lt;/strong&gt;: 
null model ( only intercept and without any predictors ) 為 based model，一次放入一個 predictors 看哪個 RSS 最小，得到解後，再加入下一個 predictors 也是比較 RSS 最小的可能，直到所有的 predictors 出現沒有顯著的結果則停止。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Backward selection&lt;/strong&gt;:
概念相同，但反過來從 full model 開始慢慢刪去不適切的 predictors。&lt;/p&gt;
&lt;h2&gt;Qualitative predictors&lt;/h2&gt;
&lt;p&gt;若某獨變項有 k levels，則需要 k-1 個 dummy variable，其中一個是 baseline level，
也就是只有截距項。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481039883460_+2016-12-06+11.57.50.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;上述的例子就是拿 AA 當成 baseline level，檢定結果如下：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481039890873_+2016-12-06+11.57.45.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;觀察第二列，發現 係數 -18.69 並沒有達顯著，這個顯著就是和 baseline AA 作比較，所以選取 baseline level 是很重要的事。這裡會影響的就是 contrasts ( which baseline level be chosen )，但整體的 RSS並不會因為選哪個獨變項作為 baseline level 而有所差異。&lt;/p&gt;
&lt;h1&gt;Extensions of the Linear Model&lt;/h1&gt;
&lt;h2&gt;Interaction&lt;/h2&gt;
&lt;p&gt;$Y = \beta_0 + \beta_1X_1 + \beta_2X_2 + \beta_3X_1X_2 = \beta_0 + (\beta_1+\beta_3X_2)X_1 + \beta_2X_2$
當獨變項間相關很高時，要考慮有交互作用的可能。&lt;/p&gt;
&lt;p&gt;假如加入的交互作用項而使得模型表現 $R^2$ 從 89.7 上升至 96.8，我們可以計算上升增加解釋變異量的比例：$\frac{R_2^2-R_1^2}{100-R_1^2}$ = 69.8%（分母為原模型不可解釋變異量、分子為新模型解釋變異量的增量，結合後的意思即為&lt;strong&gt;新模型（交互作用變項）解釋原模型不可解釋的佔比&lt;/strong&gt;。）&lt;/p&gt;
&lt;p&gt;有時會得到一這樣的結果：交互作用有顯著、主要效果沒顯著。這時候我們可以&lt;strong&gt;只放交互作用項&lt;/strong&gt;在模型中嗎？不行。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hierarchy principle: If we include an interaction in a model, we should also include the main effect, even if the p-values associated with their coefficients are not significant.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;對此，合理的解釋是因為我們很難在沒有主效果變項的情況下解釋交互作用項的變化。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Interactions between qualitative and quantitative variables&lt;/strong&gt;
只有主效果： $Y=\beta_0+\beta_1X_1+\beta_2X_{2c}$&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481039811967_+2016-12-06+11.56.01.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;有交互作用項： $Y = \beta_0+\beta_1X_1+\beta_2X_{2c}+\beta_3X_1X_{2c}$&lt;/p&gt;
&lt;p&gt;當 $X_{2c} = 0,1$ 可看成兩個 model :  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;$Y = (\beta_0+\beta_2)+(\beta_1+\beta_3)X_1$&lt;/li&gt;
&lt;li&gt;$Y = \beta_0+\beta_1X_1$&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;這裡其實暗示著為何加入 interaction 項時，線段的截距和斜率不等值如下圖：&lt;/p&gt;
&lt;h2&gt;Non-linearity&lt;/h2&gt;
&lt;p&gt;Non-linear effects
$Y = \beta_0 + \beta_1X_1 + \beta_2X_1^2 + \epsilon$ ( polynomial degree 2 多項式次數 2 )&lt;/p&gt;
&lt;h2&gt;Generalizations of the Linear Model&lt;/h2&gt;
&lt;p&gt;Classification problems: Logistic regression, svm
Non-linearity: kernel smoothing, splines generalized additive models and nearest neighbor methods.
Interactions: Tree-based models, bagging, random forests and boosting
Regularized fitting: Ridge regression and lasso&lt;/p&gt;
&lt;h2&gt;Note&lt;/h2&gt;
&lt;p&gt;ISLR Section 3.3.3&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;檢查獨變項和依變項是不是線性關係&lt;/strong&gt;
Residual plot: $\hat{e}=(y_i-\hat{y_i}), x_i$
如果是 multiple predictors 情況下會用 $\hat{e}=(y_i-\hat{y_i}), y_i$ 如下：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481075022099_+2016-12-07+9.43.27.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;若發現獨變項和依變項有非線性的關係，可以做一些獨變項的轉換如 $log(X),\sqrt{X},X^2$ 等&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Correlation of Error Terms&lt;/strong&gt;
通常時間序列的資料的殘差會有相關，如何檢驗一樣是畫圖：$\hat{e}=(y_i-\hat{y_i}), x_i$
不過這裡的話為了要檢驗殘差之間是否有相關，我們會拿鄰近的兩個 $\hat{e}$ 的所有 data 來算相關，第一張圖代表臨近的兩點的相關為 0，最後一張是鄰近的兩個點之間相關為 .9。當殘差出現相關的話，得到的標準誤會比實際的標準誤來的小，&lt;strong&gt;亦即得到的信賴區間也會比較窄&lt;/strong&gt;（根據公式）。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481120688519_+2016-12-07+10.24.34.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Non-constant Variance of Errors Terms （&lt;/strong&gt;heteroscedasticity&lt;strong&gt;，異方差性）&lt;/strong&gt;
線性回歸有個假設： $Var(\epsilon) = \sigma^2$ 為一常數
如果當殘差並不是常數的情況下，
會造成&lt;strong&gt;依變項膨脹&lt;/strong&gt;，變成 funnel shape&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481121520882_+2016-12-07+10.37.07.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;解決當殘差的變異數不為定值的解法就是將依變項作轉換如：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_F6E0C2FE77652F408CCC108D34A68B4BDA8B9F227676E8E534464DC7F51E5C78_1481121677690_+2016-12-07+10.41.06.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Stat"></category></entry><entry><title>High Performance Programming 2</title><link href="/high-performance-programming-2.html" rel="alternate"></link><published>2017-03-15T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-03-15:high-performance-programming-2.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');
&lt;/script&gt;

&lt;h1&gt;Variable Types&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;print_with_color&lt;/span&gt;&lt;span class="p"&gt;(:&lt;/span&gt;&lt;span class="n"&gt;red&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;I love Julia!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# color change in terminal&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[1m[31mI love Julia![0m
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Types&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Int64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;DataType
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#Integers: Int8 to Int128&lt;/span&gt;
&lt;span class="nb"&gt;typemax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Int128&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;170141183460469231731687303715884105727
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typemin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Int8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-128
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Example of overflow&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typemax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Int128&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;-170141183460469231731687303715884105728
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typemax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;BigInt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;MethodError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;no&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt; &lt;span class="n"&gt;matching&lt;/span&gt; &lt;span class="n"&gt;typemax&lt;/span&gt;&lt;span class="o"&gt;(::&lt;/span&gt;&lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;BigInt&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt;
&lt;span class="n"&gt;Closest&lt;/span&gt; &lt;span class="n"&gt;candidates&lt;/span&gt; &lt;span class="n"&gt;are&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
  &lt;span class="n"&gt;typemax&lt;/span&gt;&lt;span class="o"&gt;(::&lt;/span&gt;&lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Bool&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;bool&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;
  &lt;span class="n"&gt;typemax&lt;/span&gt;&lt;span class="o"&gt;(::&lt;/span&gt;&lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int8&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;int&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;314&lt;/span&gt;
  &lt;span class="n"&gt;typemax&lt;/span&gt;&lt;span class="o"&gt;(::&lt;/span&gt;&lt;span class="n"&gt;Type&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UInt8&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;int&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;316&lt;/span&gt;
  &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;true
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Float32&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Float64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;DataType
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Float64
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Float64
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Avoiding compare number with floating point numbers&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mf"&gt;0.1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;false
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# better using &amp;gt;= or &amp;lt;=&lt;/span&gt;
&lt;span class="mf"&gt;0.1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;true
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# binary representation&lt;/span&gt;
&lt;span class="n"&gt;bits&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;0000000000000000000000000000000000000000000000000000000000000011&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Assignments for different variables can be combined&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Tuple{Int64,Int64}
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;short-circuit
In a &amp;amp;&amp;amp; b, b is not evaluated when a is false
In a || b, b is not evaluated when a is true (since || is already true)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;+=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# complex number&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="nb"&gt;im&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="nb"&gt;im&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Complex{Int64}





5.0
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# rationale number&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;float&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="c"&gt;# convert to floating point number&lt;/span&gt;
&lt;span class="n"&gt;num&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# numerator&lt;/span&gt;
&lt;span class="n"&gt;den&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# denominator&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Rational{Int64}





4
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# single character&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Char
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;asdf&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;123&lt;/span&gt;&lt;span class="se"&gt;\t&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;44455&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;asdf
123 44455
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#string&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;String
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A String is a succession, or an array of characters (see the Ranges and arrays section)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;#39;h&amp;#39;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;endof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;5
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;
    &lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;hello
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;llo&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;A&amp;quot;&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;A&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;String
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# string interpolation&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;$a&lt;/span&gt;&lt;span class="s"&gt; * &lt;/span&gt;&lt;span class="si"&gt;$b&lt;/span&gt;&lt;span class="s"&gt; = &lt;/span&gt;&lt;span class="si"&gt;$(a*b)&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;3 * 2 = 6&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# concatenate string&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;adb&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;12345&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;adb12345
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Strings prefixed with : are of type Symbol, such as :green
They are more efficient than strings and are used for IDs or keys&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;print_with_color&lt;/span&gt;&lt;span class="p"&gt;(:&lt;/span&gt;&lt;span class="n"&gt;red&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;I love Julia!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[1m[31mI love Julia![0m
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;methodwith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;UndefVarError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;methodwith&lt;/span&gt; &lt;span class="n"&gt;not&lt;/span&gt; &lt;span class="n"&gt;defined&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Julia&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;u&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;o&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;Jolia&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;search: [1mr[22m[1me[22m[1mp[22m[1ml[22m[1ma[22m[1mc[22m[1me[22m [1mr[22m[1me[22mdis[1mp[22m[1ml[22m[1ma[22my
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;replace(string, pat, r[, n])
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Search for the given pattern &lt;code&gt;pat&lt;/code&gt;, and replace each occurrence with &lt;code&gt;r&lt;/code&gt;. If &lt;code&gt;n&lt;/code&gt; is provided, replace at most &lt;code&gt;n&lt;/code&gt; occurrences. As with search, the second argument may be a single character, a vector or a set of characters, a string, or a regular expression. If &lt;code&gt;r&lt;/code&gt; is a function, each occurrence is replaced with &lt;code&gt;r(s)&lt;/code&gt; where &lt;code&gt;s&lt;/code&gt; is the matched substring. If &lt;code&gt;pat&lt;/code&gt; is a regular expression and &lt;code&gt;r&lt;/code&gt; is a &lt;code&gt;SubstitutionString&lt;/code&gt;, then capture group references in &lt;code&gt;r&lt;/code&gt; are replaced with the corresponding matched text.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;1,2,3,4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;4-element Array{SubString{String},1}:
 &amp;quot;1&amp;quot;
 &amp;quot;2&amp;quot;
 &amp;quot;3&amp;quot;
 &amp;quot;4&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;Formatting numbers and strings&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Pascal&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="n"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt; &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Hello Pascal





Void
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;String as the return value&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="n"&gt;sprintf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s"&gt; &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;String
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Regular expression&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;email_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;.+@.+&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# this pattern matches any string that contains @ somewhere in the middle&lt;/span&gt;
&lt;span class="n"&gt;input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;john.doe@mit.edu&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ismatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; true&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;true
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;email_pattern&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;(.+)@(.+)&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# we want to capture this specific set of characters&lt;/span&gt;
&lt;span class="n"&gt;input&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;john.doe@mit.edu&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email_pattern&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;input&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;captures&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; [&amp;quot;john.doe&amp;quot;,&amp;quot;mit.edu&amp;quot;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Union{SubString{String},Void}[&amp;quot;john.doe&amp;quot;,&amp;quot;mit.edu&amp;quot;]
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;match&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;(ju|l)(i)?(a)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;julia&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;RegexMatch(&amp;quot;lia&amp;quot;, 1=&amp;quot;l&amp;quot;, 2=&amp;quot;i&amp;quot;, 3=&amp;quot;a&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;match&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;lia&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;julia&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;u[\w]*l&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;jredia&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;the sky is blue&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;reg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;[\w]{3,}&amp;quot;&lt;/span&gt; &lt;span class="c"&gt;# match more than three character&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;matchall&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;SubString{String}[&amp;quot;the&amp;quot;,&amp;quot;sky&amp;quot;,&amp;quot;blue&amp;quot;]
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;iter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;eachmatch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reg&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;iter&lt;/span&gt;
    &lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;RegexMatch(&amp;quot;the&amp;quot;)RegexMatch(&amp;quot;sky&amp;quot;)RegexMatch(&amp;quot;blue&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# range&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;9
7
5
3
1
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# A one-dimensional array (also called a Vector in Julia)&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;A,B,C,D&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# Array{Type, n}, with n number of dimensions&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Array{SubString{String},1}
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# initialize array&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Float64&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;arr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="c"&gt;# not good cuz &amp;#39;Any&amp;#39; type&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;1.0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[1.0]
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# create array using range&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1-element Array{UnitRange{Int64},1}:
 1:7
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# create array with fixed size , improving performance&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;Int64&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;sizehint!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[1,2,3]
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;37&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;end&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;50
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;ndims&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;eltype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# element type&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Int64
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;3
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;search: [1ms[22m[1mi[22m[1mz[22m[1me[22m [1ms[22m[1mi[22m[1mz[22m[1me[22mof [1ms[22m[1mi[22m[1mz[22m[1me[22mhint! C[1ms[22m[1mi[22m[1mz[22m[1me[22m_t re[1ms[22m[1mi[22m[1mz[22m[1me[22m! file[1ms[22m[1mi[22m[1mz[22m[1me[22m C[1ms[22ms[1mi[22m[1mz[22m[1me[22m_t trailing[1ms[22m[1mi[22m[1mz[22m[1me[22m
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;size(A::AbstractArray, [dim...])
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Returns a tuple containing the dimensions of &lt;code&gt;A&lt;/code&gt;. Optionally you can specify the dimension(s) you want the length of, and get the length of that dimension, or a tuple of the lengths of dimensions you asked for.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;julia&amp;gt; A = ones(2,3,4);

julia&amp;gt; size(A, 2)
3

julia&amp;gt; size(A,3,2)
(4,3)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Collapse arr to string by ","&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;,&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;100,37,50&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;eqa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eqa&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;,&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eqa&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;0.0,2.5,5.0,7.5,10.0
linspace(0.0,10.0,5)
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;fill!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# change element to a specific value&lt;/span&gt;
&lt;span class="c"&gt;# A function whose name ends in a ! changes its first argument.&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;3-element Array{Int64,1}:
 0
 0
 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Change element type&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Int32&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;v1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;round&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Int64&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Array{
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Array appen&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;440&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;67&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;append!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# ! change the first argument state, here is array &amp;#39;b&amp;#39;&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;MethodError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Cannot&lt;/span&gt; &lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="n"&gt;convert&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Int64&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="n"&gt;may&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;arisen&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;call&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;constructor&lt;/span&gt; &lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;}(...),&lt;/span&gt;
&lt;span class="n"&gt;since&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;constructors&lt;/span&gt; &lt;span class="n"&gt;fall&lt;/span&gt; &lt;span class="n"&gt;back&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;convert&lt;/span&gt; &lt;span class="n"&gt;methods&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;



 &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="o"&gt;!(::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;abstractarray&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;593&lt;/span&gt;

 &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="o"&gt;!(::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;494&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A function whose name ends in a ! changes its first argument.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;pop!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;123&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;shift!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;unshift!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;MethodError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Cannot&lt;/span&gt; &lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="n"&gt;convert&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;Int64&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;an&lt;/span&gt; &lt;span class="n"&gt;object&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="n"&gt;may&lt;/span&gt; &lt;span class="n"&gt;have&lt;/span&gt; &lt;span class="n"&gt;arisen&lt;/span&gt; &lt;span class="n"&gt;from&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;call&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;constructor&lt;/span&gt; &lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;}(...),&lt;/span&gt;
&lt;span class="n"&gt;since&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt; &lt;span class="n"&gt;constructors&lt;/span&gt; &lt;span class="n"&gt;fall&lt;/span&gt; &lt;span class="n"&gt;back&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;convert&lt;/span&gt; &lt;span class="n"&gt;methods&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;



 &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="o"&gt;!(::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;479&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Remove element&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;splice!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;BoundsError&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;attempt&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;access&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;element&lt;/span&gt; &lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;



 &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;splice&lt;/span&gt;&lt;span class="o"&gt;!(::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;UnitRange&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;},&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Int64&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Array&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;Any&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;})&lt;/span&gt; &lt;span class="n"&gt;at&lt;/span&gt; &lt;span class="o"&gt;./&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;jl&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;636&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;repeats&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;times&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Check whether the element exist&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;push!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;42&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;false



MethodError: Cannot `convert` an object of type Int64 to an object of type UnitRange{Int64}
This may have arisen from a call to the constructor UnitRange{Int64}(...),
since type constructors fall back to convert methods.



 in push!(::Array{UnitRange{Int64},1}, ::Int64) at ./array.jl:479
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# sort&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;50&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;74&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;58&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;sort!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[12,50,58,74,100]&lt;/span&gt;
&lt;span class="k"&gt;[100,50,74,12,58]&lt;/span&gt;
&lt;span class="k"&gt;[12,50,58,74,100]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;$e&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# operation&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;.*&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# element wise computation with *&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;.*&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# same as sum(a .* b)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[4,10,18]&lt;/span&gt;
&lt;span class="err"&gt;32&lt;/span&gt;





&lt;span class="err"&gt;32&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;a and a1 point to the same object&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;a1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; [1,2,4,6]&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; [1,2,4,0]&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; [1,2,4,0]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[1,2,4,6][1,2,4,0][1,2,4,0]
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# different object&lt;/span&gt;
&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;4-element Array{Int64,1}:
 1
 2
 3
 6
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# array to string&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;quot;[&amp;#39;a&amp;#39;,&amp;#39;b&amp;#39;,&amp;#39;c&amp;#39;]&amp;quot;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# calculate time&lt;/span&gt;
&lt;span class="n"&gt;pt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;
    &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;time_elapsed&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;pt&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Time elapsed: &lt;/span&gt;&lt;span class="si"&gt;$time_elapsed&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Time elapsed: 0.003777027130126953
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;#str time&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="n"&gt;strftime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1.489472573601163e9



UndefVarError: strftime not defined
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# date&lt;/span&gt;
&lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;month&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Dates&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;day&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2014-09-01
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# datetime&lt;/span&gt;
&lt;span class="n"&gt;DateTime&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2014&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;59&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;2014-09-01T12:30:59
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# scope&lt;/span&gt;
&lt;span class="c"&gt;# code in chapter 2\scope.jl&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="c"&gt;# x is Float64&lt;/span&gt;

&lt;span class="c"&gt;# y::Float64 = 1.0 # LoadError: &amp;quot;y is not defined&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;function&lt;/span&gt;&lt;span class="nf"&gt; scopetest&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c"&gt;# now x is Int in local&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 1, x is known here, because it&amp;#39;s in local scope&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;in&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
    &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="kt"&gt;Float64&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;1.0&lt;/span&gt; &lt;span class="c"&gt;# y must be Float64, this is not possible in global scope&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;scopetest&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;1
inInt64





Float64
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# compound expression&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;begin&lt;/span&gt;
    &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
    &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;10
5
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# same as&lt;/span&gt;
&lt;span class="n"&gt;workspace&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;10
5
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;const variable with upperclass, value can be changed but type cannot&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="n"&gt;GC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;6.67e-11&lt;/span&gt; &lt;span class="c"&gt;# gravitational constant in m3/kg s2   &lt;/span&gt;
&lt;span class="c"&gt;# Use them whenever possible in the global scope.&lt;/span&gt;
&lt;span class="c"&gt;# If you try to give a global constant a new value, you get a warning, but if you change its type&lt;/span&gt;
&lt;span class="n"&gt;GC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;5.0&lt;/span&gt;
&lt;span class="n"&gt;GC&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;WARNING&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;redefining&lt;/span&gt; &lt;span class="n"&gt;constant&lt;/span&gt; &lt;span class="n"&gt;GC&lt;/span&gt;



&lt;span class="n"&gt;invalid&lt;/span&gt; &lt;span class="n"&gt;redefinition&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;constant&lt;/span&gt; &lt;span class="n"&gt;GC&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kd"&gt;const&lt;/span&gt; &lt;span class="n"&gt;ARR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;ARR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ARR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ARR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[4,5,6]&lt;/span&gt;


&lt;span class="err"&gt;WARNING:&lt;/span&gt; &lt;span class="err"&gt;redefining&lt;/span&gt; &lt;span class="err"&gt;constant&lt;/span&gt; &lt;span class="err"&gt;ARR&lt;/span&gt;



&lt;span class="err"&gt;invalid&lt;/span&gt; &lt;span class="err"&gt;redefinition&lt;/span&gt; &lt;span class="err"&gt;of&lt;/span&gt; &lt;span class="err"&gt;constant&lt;/span&gt; &lt;span class="err"&gt;ARR&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# a newspaper headline:&lt;/span&gt;
&lt;span class="n"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The Gold and Blue Loses a Bit of Its Luster&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nchars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;The headline counts &lt;/span&gt;&lt;span class="si"&gt;$nchars&lt;/span&gt;&lt;span class="s"&gt; characters&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 43 including space&lt;/span&gt;
&lt;span class="n"&gt;str2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Blue&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# strings are immutable&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# The Gold and Blue Loses a Bit of Its Luster&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Here are the characters at position 25 to 30:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;subs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-&lt;/span&gt;&lt;span class="si"&gt;$(lowercase(subs))&lt;/span&gt;&lt;span class="s"&gt;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# &amp;quot;-a bit -&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Here are all the characters:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;
    &lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;The Gold and Blue Loses a Bit of Its Luster
The headline counts 43 characters
The Gold and Blue Loses a Bit of Its Luster
The Gold and Red Loses a Bit of Its Luster
Here are the characters at position 25 to 30:
-a bit -Here are all the characters:
The Gold and Blue Loses a Bit of Its Luster
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c"&gt;# a newspaper headline:&lt;/span&gt;
&lt;span class="n"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;The Gold and Blue Loses a Bit of Its Luster&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nchars&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;The headline counts &lt;/span&gt;&lt;span class="si"&gt;$nchars&lt;/span&gt;&lt;span class="s"&gt; characters&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 43&lt;/span&gt;
&lt;span class="n"&gt;str2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;replace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Blue&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Red&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c"&gt;# strings are immutable&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# The Gold and Blue Loses a Bit of Its Luster&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Here are the characters at position 25 to 30:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;subs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;-&lt;/span&gt;&lt;span class="si"&gt;$(lowercase(subs))&lt;/span&gt;&lt;span class="s"&gt;-&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# &amp;quot;-a bit -&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Here are all the characters:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;str&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="sc"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;                                                         &lt;span class="c"&gt;#[&amp;quot;The&amp;quot;,&amp;quot;Gold&amp;quot;,&amp;quot;and&amp;quot;,&amp;quot;Blue&amp;quot;,&amp;quot;Loses&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;Bit&amp;quot;,&amp;quot;of&amp;quot;,&amp;quot;Its&amp;quot;,&amp;quot;Luster&amp;quot;]&lt;/span&gt;
&lt;span class="n"&gt;nwords&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;length&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;The headline counts &lt;/span&gt;&lt;span class="si"&gt;$nwords&lt;/span&gt;&lt;span class="s"&gt; words&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# 10&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Here are all the words:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;word&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;word&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;end&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Red&amp;quot;&lt;/span&gt;
&lt;span class="n"&gt;show&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# arrays are mutable&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Convert back to a sentence:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;nstr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sc"&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nstr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;# The Gold and Red Loses a Bit of Its Luster&lt;/span&gt;


&lt;span class="c"&gt;# working with arrays:&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;arrays: calculate sum, mean and standard deviation &amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="nb"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt;&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; 5050&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; 50.5&lt;/span&gt;
&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c"&gt;#&amp;gt; 29.011491975882016&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;The Gold and Blue Loses a Bit of Its Luster
The headline counts 43 characters
The Gold and Blue Loses a Bit of Its Luster
The Gold and Red Loses a Bit of Its Luster
Here are the characters at position 25 to 30:
-a bit -Here are all the characters:
T
h
e

G
o
l
d

a
n
d

B
l
u
e

L
o
s
e
s

a

B
i
t

o
f

I
t
s

L
u
s
t
e
r
SubString{String}[&amp;quot;The&amp;quot;,&amp;quot;Gold&amp;quot;,&amp;quot;and&amp;quot;,&amp;quot;Blue&amp;quot;,&amp;quot;Loses&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;Bit&amp;quot;,&amp;quot;of&amp;quot;,&amp;quot;Its&amp;quot;,&amp;quot;Luster&amp;quot;]The headline counts 10 words
Here are all the words:
The
Gold
and
Blue
Loses
a
Bit
of
Its
Luster
SubString{String}[&amp;quot;The&amp;quot;,&amp;quot;Gold&amp;quot;,&amp;quot;and&amp;quot;,&amp;quot;Red&amp;quot;,&amp;quot;Loses&amp;quot;,&amp;quot;a&amp;quot;,&amp;quot;Bit&amp;quot;,&amp;quot;of&amp;quot;,&amp;quot;Its&amp;quot;,&amp;quot;Luster&amp;quot;]Convert back to a sentence:
The Gold and Red Loses a Bit of Its Luster
arrays: calculate sum, mean and standard deviation 
100
1.0:1:1.0:100.0



MethodError: no method matching zero(::Type{UnitRange{Int64}})
Closest candidates are:
  zero(::Type{Base.LibGit2.Oid}) at libgit2/oid.jl:88
  zero(::Type{Base.Pkg.Resolve.VersionWeights.VWPreBuildItem}) at pkg/resolve/versionweight.jl:80
  zero(::Type{Base.Pkg.Resolve.VersionWeights.VWPreBuild}) at pkg/resolve/versionweight.jl:120
  ...



 in #var#951(::Bool, ::Void, ::Function, ::Array{UnitRange{Int64},1}) at ./statistics.jl:176

 in (::Base.#kw##var)(::Array{Any,1}, ::Base.#var, ::Array{UnitRange{Int64},1}) at ./&amp;lt;missing&amp;gt;:0

 in std(::Array{UnitRange{Int64},1}) at ./statistics.jl:220
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Julia"></category></entry><entry><title>SF2 Regression Models</title><link href="/sf2-regression-models.html" rel="alternate"></link><published>2017-03-15T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-03-15:sf2-regression-models.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');
&lt;/script&gt;

&lt;h2&gt;Regression Function&lt;/h2&gt;
&lt;p&gt;類似邊際函數的概念
$f(x) =  E( Y | X = x )$ 理想上應要能用一個數學式表達這個世間的現象，不過因為有系統誤差，我們保守改寫為
$Y = f(x) + error$&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_E951995ED296F27BFD79463903ABDFDDBDB80109E611EA24979BBEE8CD74A837_1479051604759_+2016-11-13+11.36.15.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;也就是我們期待找到一個 $g(X)$ 使得所有的 $X = x$ 代入  $[Y-g(X)]^2$ 得到最小的值。其實就是在算 mean square error: $\frac{1}{n} \sum_{i=1}^{n}(Y - g(X))^2$ （等於下圖的公式），此值越小越好。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_E951995ED296F27BFD79463903ABDFDDBDB80109E611EA24979BBEE8CD74A837_1479051954790_+2016-11-13+11.45.43.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_E951995ED296F27BFD79463903ABDFDDBDB80109E611EA24979BBEE8CD74A837_1479053559389_+2016-11-14+12.09.45.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;我們真正在解的 $g(X)$ 其實就是上述的 $\hat{f}(x)$ ，找出最佳估計理想中的 $f(x)$ 
下面的例子是以 nearest neighbor averaging 作為 $\hat{f}(x)$ 為例&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_E951995ED296F27BFD79463903ABDFDDBDB80109E611EA24979BBEE8CD74A837_1479053700817_+2016-11-14+12.14.45.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;h1&gt;2.2&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;the curse of dimensionality&lt;/strong&gt;: 多維度的 $x$  neighborhood 會讓區間變大，意即失準。為解決這問題，就需要有結構性的模型，最簡單的例子就是線性模型。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;trade-off&lt;/strong&gt;: Prediction accuracy vs. interpretability
Good fit vs. over-fit vs. under-fit
Parsimony vs. blackbox: 用少量的參數簡單的模型還是參數複雜的模型&lt;/p&gt;
&lt;h1&gt;2.3&lt;/h1&gt;
&lt;p&gt;mean square error: 每個訓練集代入模型後與實際結果的差異  &lt;/p&gt;
&lt;p&gt;$MSE = AVG[y_i - \hat{f}(x_i)]^2$&lt;/p&gt;
&lt;p&gt;其中又可以細分 訓練集的 $MSE_{TR}$ 及 測試集的 $MSE_{TE}$，我們可以利用這兩個指標（又尤其後者）來衡量模型的好壞。
這裡要特別提到 variance 和 bias ，公式說明如下：
假設真實世界中存在一條真理為：&lt;/p&gt;
&lt;p&gt;$Y=f(X)+\epsilon$ （ $\epsilon$ 為 隨機誤差） &lt;/p&gt;
&lt;p&gt;而我們現實世界能得到的為：&lt;/p&gt;
&lt;p&gt;$\hat{f}(x)$ （ $x$ 為實際取得的資料點）&lt;/p&gt;
&lt;p&gt;則我們得到的 expected prediction error 可以表示成：&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="https://d2mxuefqeaa7sj.cloudfront.net/s_E951995ED296F27BFD79463903ABDFDDBDB80109E611EA24979BBEE8CD74A837_1480332160214_+2016-11-28+7.19.37.png
" width="80%" height="80%" /&gt;       
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Variance&lt;/strong&gt;: $Var(\hat{f}(x_0))$ 是來自不同的訓練集所生成的不同 $\hat{f}()$ 帶入相同的觀察點 $x_0$ 所產生的變異量，也就是信度。
&lt;strong&gt;Bias&lt;/strong&gt;: $[Bias(\hat{f}(x_0))]^2 = [f(x_0)-E(\hat{f}(x_0))]^2$ ，為真理與模型期望的差距，也就是效度。
就應用面而言，我們比較不在意訓練集的誤差有多大，我們在意的是測試集的誤差（也就是預期結果），但這兩者相輔相成。依照上述的公式，可以得到下面的結論：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;彈性越大的模型，越容易受到訓練集的影響而生成差異大的 $\hat{f}()$ 而導致 variance 大&lt;/li&gt;
&lt;li&gt;彈性越大的模型，通常參數越多，也往往 $MSE_{TR}$ 越小（但也不一定，最極端的例子就是 predictor 本身就是 y 或是一堆 random predictor ）&lt;/li&gt;
&lt;li&gt;彈性越大的模型，越可能符合真理，也就是效度較高，Bias 較小。&lt;/li&gt;
&lt;li&gt;無論是 &lt;em&gt;variance&lt;/em&gt; 或是 &lt;em&gt;bias&lt;/em&gt; ，兩者我們稱為 &lt;em&gt;reducible error&lt;/em&gt;。（也就是人為可控制的因素）&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;2.4&lt;/h1&gt;
&lt;p&gt;classification problem: 找出最佳的 $C(X)$
假設有 $1,...,K$ 個分類，則觀察值 $x$ 在每個分類的機率為  $p_k(x)=Pr(Y=k|X=x), k= 1,...K$
而 Bayes Optimal 就是找出在已知的觀察值下，最大的可能分類為何：  &lt;/p&gt;
&lt;p&gt;$C(x)=j,\;if \; p_j(x) = max{\;p_1(x),...p_K(x)\;}$&lt;/p&gt;
&lt;h1&gt;2.7&lt;/h1&gt;
&lt;p&gt;A flexible model will allow us to take full advantage of our large sample size.
when $Var(\epsilon)$ is extremely high: A flexible model will cause us to &lt;strong&gt;fit too much of the noise&lt;/strong&gt; in the problem.&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Stat"></category></entry><entry><title>0219</title><link href="/0219.html" rel="alternate"></link><published>2017-02-19T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-02-19:0219.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;div class="img"&gt;
&lt;img src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/0219.jpg" width="50%" height="50%" /&gt;       
&lt;/div&gt;

&lt;p&gt;今年會是特別不一樣的一年，完全進入職場也一年了，順也順，不順也不順，新創公司總是得面臨這些波折，載浮載沉一陣子，大夥才知道隨著市場的波浪擺動，若能從不安揣度航向到穩穩掌舵前行，何處是彼岸？處處是彼岸。  &lt;/p&gt;
&lt;p&gt;生活的部分，今年會和小羽結婚，也算幸運，兩家都走簡約的路線，常態婚禮的儀式省去，留著陪自己的家人還是比較實在。  &lt;/p&gt;
&lt;p&gt;工作、運動、家人相處、偶爾朋友聚聚，滿足的簡單生活。維持簡單生活不會是簡單的事，溫水煮青蛙，死於安樂。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>除夕樂透大平台</title><link href="/chu-xi-le-tou-da-ping-tai.html" rel="alternate"></link><published>2017-01-27T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-01-27:chu-xi-le-tou-da-ping-tai.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='http://lottery.ydhuang.me' width=100% height=600 frameborder="0"&gt;&lt;/iframe&gt;

&lt;p&gt;一直被同事慫恿做一個樂透的推薦。半年前其實已經有寫好 markov chain model-step1 的預測模型，不過其實那個模型限制很多，例如不同期的算不算 sequence ，而且每期推薦的樣子都差不多，很難有大變化。這次改用 association rules 的概念來實作。雖然這裡沒有設定 support 和 confident ，但因為機率都非常低，直接比出現頻率就蠻有意思了，尤其是我做了一個設定，先判斷用戶輸入的數字個數，再用數字一層層比對過去歷史紀錄，這裡做了一個小小的假設，就是輸入的順序會影響到判斷強度，也就是說，越後面的數值越容易被過濾，以避免濾到最後沒東西了XD。
這裡已經將 Web server + API server 的 docker container link 住了（透過 ngix設定檔），所以安全性比上一個預測股價的 api server 來得高。下一次要拉同事一起來寫驗證樂透準確度的 api 啦！&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Web"></category></entry><entry><title>股價預測</title><link href="/gu-jia-yu-ce.html" rel="alternate"></link><published>2017-01-16T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2017-01-16:gu-jia-yu-ce.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='http://stock.ydhuang.me/' width=100% height=600 frameborder="0"&gt;&lt;/iframe&gt;

&lt;p&gt;這個是上週自幹的 side project- &lt;strong&gt;即時股價的預測系統&lt;/strong&gt; ，數據每天更新，提供最新的預測結果，歡迎大家玩玩看XD&lt;/p&gt;
&lt;p&gt;因為剛好學到 ReactJS 框架開發前端，就不想再用 R Shiny 開發了，畢竟 Shiny 不是人人都會開發起來只能自幹...套件相對也少很多。  &lt;/p&gt;
&lt;p&gt;這裡用到的技術主要是將 Web server + API server 啟在 AWS Light Sail 的 Docker container 內，由使用者在 Web server 操作，向 API 索取所需要的資料以及模型預測的結果。 不過目前兩個 container 並沒有進行 link 的動作，安全性上較低，之後要再好好研究 proxy 的設定。&lt;/p&gt;
&lt;p&gt;另外一個要做的事情是預測模型的驗證方式還沒處理，這模型的準確度才是重點啊XD。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Web"></category><category term="R"></category><category term="React.js"></category></entry><entry><title>Docker指令</title><link href="/dockerzhi-ling.html" rel="alternate"></link><published>2016-12-19T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-12-19:dockerzhi-ling.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;docker  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker kill &amp;lt;container id&amp;gt;&lt;/li&gt;
&lt;li&gt;docker ps&lt;/li&gt;
&lt;li&gt;docker restart &amp;lt;container id&amp;gt;&lt;/li&gt;
&lt;li&gt;docker start &amp;lt;container id&amp;gt;&lt;/li&gt;
&lt;li&gt;docker logs &amp;lt;container id&amp;gt;&lt;/li&gt;
&lt;li&gt;docker exec -it &amp;lt;container id&amp;gt;&lt;ul&gt;
&lt;li&gt;bash 進到&amp;lt;container id&amp;gt;container -it:互動模式 以bash  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;docker-machine&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker-machine ls  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Create image from container  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker commit &amp;lt;container&amp;gt; &amp;lt;name&amp;gt;/&amp;lt;image&amp;gt;:&amp;lt;version&amp;gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;將檔案cp至container內  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker cp &amp;lt;filePath&amp;gt; &amp;lt;container&amp;gt;:&amp;lt;containerPath&amp;gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;tunnel傳輸&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ssh -L &amp;lt;tunnelPort&amp;gt;:&amp;lt;remoteIP&amp;gt;:&amp;lt;remotePort&amp;gt; &amp;lt;tunnelIP&amp;gt; (e.g. ssh -L 5566:192.168.34.94:22 me@192.168.12.34)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;scp -P &amp;lt;tunnelPort&amp;gt; -r &amp;lt;localDir&amp;gt; &amp;lt;remoteAccount&amp;gt;@localhost:/home/cirrusdi/ (e.g. scp -P 5566 -r /Volumes/jetD_YD/work/cirrusdi/hstrade/code remote@localhost:/home/remote/hstrade/)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;docker mount to container&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker run -d -p 8787:8787 --name &amp;lt;name&amp;gt; -v &amp;lt;localDirPath&amp;gt;:/&amp;lt;rstudioPath&amp;gt;:ro -e USER=&amp;lt;user&amp;gt; -e PASSWORD=&amp;lt;pw&amp;gt; rocker/rstudio&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;VM中執行docker  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;sudo systemctl start docker  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sudo systemctl status docker  //確認有無執行  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sudo systemctl enable docker //開機便執行&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;VM中設定user不需sudo指令  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;sudo groupadd docker //創建一個docker group  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;sudo usermod -aG docker &amp;lt;user&amp;gt; //加入user至docker group&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;匯出 docker image: docker commit and save (like push)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;docker commit &amp;lt;container id&amp;gt;  &amp;lt;author&amp;gt;&amp;lt;imageName&amp;gt;:&amp;lt;version&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;docker save  -o [&amp;lt;save path&amp;gt;.tar] &amp;lt;author&amp;gt;&amp;lt;imageName&amp;gt;:&amp;lt;version&amp;gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Docker"></category></entry><entry><title>關西有關係之日本行 2</title><link href="/guan-xi-you-guan-xi-zhi-ri-ben-xing-2.html" rel="alternate"></link><published>2016-12-03T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-12-03:guan-xi-you-guan-xi-zhi-ri-ben-xing-2.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;續上一篇 &lt;a href="http://blog.ydhuang.me/guan-xi-you-guan-xi-zhi-ri-ben-xing-1.html"&gt;關西有關係之日本行 1&lt;/a&gt;
大致的花費：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;往返機票: 10,092 NTD  ( Japan Airlines )&lt;br /&gt;
住宿: 10,005 NTD ( New Osaka Hotel Shinsaibashi ) &lt;br /&gt;
交通: 572 NTD ( 南海電車往返票 ) + 2,610 NTD ( ICOCA )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以下為11/24開始的流水帳：&lt;/p&gt;
&lt;h2&gt;11/24 清水寺 &amp;amp; 伏見稻荷&lt;/h2&gt;
&lt;p&gt;這應該是小羽非常期待的行程，原因是她可以穿上期待已久的振袖。
這天的交通方式為 大阪地鐵-心齋橋 ( ICOCA ) → 京阪本線-淀屋橋 → 京阪本線-丹波橋 → 清水五条(租和服) → 伏見稻荷 → 清水五条(清水寺賞夜楓)。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/25.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;換完和服前往伏見稻荷的路上，穿和服超難走路，步伐因為下擺而變得超侷限，然後指襪穿著木屐又很不防滑，感覺鞋子都要飛出去的狀態下走路..，不過身為歪國人穿的這個在街上換晃也是蠻有趣的。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/28.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;傳聞中的千鳥居，但其實沒很長，而且人蠻多的，好不容易等到幾秒沒人的空檔趕快拍。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/30.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;小羽在清水寺被一個日本阿婆搭訕，還要求一起合影，阿婆說了一大串她聽不懂(貌似阿婆介紹自己從哪來的)，她只聽到重點：「妳好像一幅畫。」可能就是這張照片的感覺吧！&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/31.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;看到這些小佛像，總覺得他們晚上會抖掉身上的水泥，變成一隻隻的熊貓瘋狂跳舞。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/32.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;清水寺街景。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/33.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;清水舞台的夜楓以及遠處的京都塔。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1124/34.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;這晚吃燒肉，原本看到菜單 5,000 yen 價格還算可接受，吃完才發現是那是一人的價格XDDD，我想我應該還記得黑毛和牛的滋味orz。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;1125 姫路城 &amp;amp; 梅田&lt;/h2&gt;
&lt;p&gt;這天交通方式為 地鐵御堂筋線-心齋橋 ( ICOCA ) → JR神戶線-梅田/大阪 → JR姬路&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/36.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;原本想說昨天開始變冷，今天應該會更冷，沒想到是大好天氣，風吹起來冷冷的，但太陽很大，非常舒適的天氣！&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/35.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;前往姬路城的街景，一整排銀杏真的很美。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/40.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;姬路城。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/38.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;姬路城內部保留原始風貌，牆上的武士刀架，完全可以想像戰爭時眾人領刀匆促成軍的混亂感。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/39.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;天守閣六樓頂，君臨天下。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/42.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;城外煞氣ㄝ黑貓，完全不怕生，曬暖陽。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/45.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;姬路城邊的好古園，需要門票，不過如果跟姬路城的票一起買，只需要多加 40 yen，蠻值得逛一下。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1125/47.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;下午就去梅田買電器，晚上再去吃第二次的一蘭拉麵，這次學乖了多點小皿豬肉( 450 yen )，以這個價位再看看油花分布及其厚度，超 好 吃。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;1126 大阪城 &amp;amp; 道頓崛&lt;/h2&gt;
&lt;p&gt;前往大阪城的交通方式為 心斎橋 ( ICOCA ) → 谷町六丁目 → 谷町四丁目( 1B、9號出口 )&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1126/48.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;大阪城外的護城河。去過姬路城，對大阪城大失所望，因為內部完全是現代博物館，但也無可厚非，畢竟豐臣時期的大阪城的天守閣被德川打爛，而德川新建的天守閣又被雷劈掉，也只能舊地新建(不然怎麼能賺觀光客的錢？)。有一點還不錯的是，他們打算募款把豐臣時期部分埋在地底下的城給挖出來，真的可以看出他們對於古蹟文化保存的用心。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1126/49.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;城內的好法大輪法，心內的法輪大法好。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1126/51.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;這幾天疲於奔命，其實還是蠻疲累的，下午回到道頓崛晃晃，經過河堤旁，總是先聽到樂隊聲，才知是觀光遊輪，如果還有機會，還蠻想上船享受一下露天音樂會。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1126/52.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;身為半隻蒼蠅當然也要來試試最新的 MacBook Pro ，鍵盤真得淺到不行，頗不習慣，不過蘋果總是在創造新的習慣，想想也不奇怪了。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1126/53.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;走回旅館的路上，鼻水一直流，看到路邊有人在發廣告面紙，想說跟他拿一下，結果他猶豫了好一陣子才給我，看了一下廣告...難怪哈！( 晚上又跑去一蘭吃這次旅程最後的晚餐，回去的路上開始下雨 )&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;1127 Back to Taiwan&lt;/h2&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1127/54.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;當地時間 05:10 a.m. 就起床準備前往機場，在南海電車上，看著昨晚開始下的雨。一直到離開日本前都還沒停。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>關西有關係之日本行 1</title><link href="/guan-xi-you-guan-xi-zhi-ri-ben-xing-1.html" rel="alternate"></link><published>2016-12-02T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-12-02:guan-xi-you-guan-xi-zhi-ri-ben-xing-1.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;這次是11/22-11/27六天五夜的關西遊(實際上因為是晚出早歸，只有玩四個全天)，行程全權由小羽規劃，暑假就開始規劃，假日沒事也在爬文，異常認真，搞得很像在考醫科，我的部分只負責執行她的計畫，然後閉嘴盡量配合她XD。除了ICOCA票價的計算外，這次的花費沒詳細計算，原因是兩個人同行，太難分花費了...。
大致的花費：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;往返機票: 10,092 NTD  ( Japan Airlines )&lt;br /&gt;
住宿: 10,005 NTD ( New Osaka Hotel Shinsaibashi ) &lt;br /&gt;
交通: 572 NTD ( 南海電車往返票 ) + 2,610 NTD ( ICOCA )&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;以下為每日行程流水帳：&lt;/p&gt;
&lt;h2&gt;11/22 1600 到達當地&lt;/h2&gt;
&lt;p&gt;我們先在台灣訂購了&lt;a href="https://www.klook.com/zh-TW/activity/599-kansai-airport-namba-train-ticket-osaka/?aid=243"&gt;南海電鐵車票&lt;/a&gt;，一方面便宜，另一方面可以在日本直接取票搭車，非常方便，不過記得回程的也一起順便拿，這樣準備離開的時候就可以先確定回程的車次及對後座了。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1122/1.png" width=50% height=50% /&gt;  
&lt;/div&gt;

&lt;p&gt;電鐵出入口。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1122/2.png" width=50% height=50% /&gt;  
&lt;/div&gt;

&lt;p&gt;南海特急電車。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1122/3.png" width=50% height=50% /&gt;  
&lt;/div&gt;

&lt;p&gt;New Osaka Hotel Shinsaibashi，離心齋橋站8號出口只有2分鐘的走路路程，而且對面個街口就是心齋橋，非常方便。這是我們五天住的地方，基本上就是麻雀雖小，但該有的都有，小小的浴室內還有浴缸！小缺點是上下樓層的隔音稍差，會有走動的聲音。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1122/5.png" width=50% height=50% /&gt;  
&lt;/div&gt;

&lt;p&gt;心齋橋逛街區是個半開放區域，上面有遮雨棚，最後一晚遇到下雨，在裡面逛街其實不受影響，蠻舒服的。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1122/6.png" width=50% height=50% /&gt;  
&lt;/div&gt;

&lt;p&gt;聽說是來到此地必拍的景點，固力果，實在不知道他的魅力之處(難道是他濃密的腋毛？)。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;11/23 奈良 &amp;amp; 宇治&lt;/h2&gt;
&lt;p&gt;這天開始感受到微冷的氛圍，完全不減前往奈良跟鹿玩耍的熱情，早上 0800 出門，前往方式為近鐵難波奈良線 ( ICOCA ) 的心齋橋 → 大阪難波(B3月台) → 近鐵奈良。&lt;/p&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/9.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;春日大社徒步區。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/10.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;春日大社徒步區。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/8.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;很喜歡這裡清幽的感覺。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/12.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;奈良公園，遠處拍婚紗伴隨突兀的鹿鳴，詭異的浪漫。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/14.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;東大寺附近的徒步區，此時已經近午，陽光充足，楓紅綻放。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/15.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;東大寺附近徒步區美景。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/16.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;色調就是 rgb(255,0,0) 的感覺。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/17.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;灑落的銀杏葉也黃得很黃(語無倫次，反正就是黃的很正點！)。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/18.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;前往宇治的街景。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/19.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;世界文化遺產 - 平等院。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/21.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;世界文化遺產 - 自己看 (日本好多文化遺產，而且都保存的很不錯)。&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/23.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;來宇治就是要吃抹茶加工物，中村藤吉的抹茶凍蠻推的！這次的經驗是先去領號碼牌，服務生會估一個預計等待時間，我們等待時間為2小時(估得非常準！)，剛好趁這段時間就去兩個文化遺產晃晃，時間非常充裕，回來剛好去吃！&lt;/p&gt;
&lt;hr /&gt;
&lt;div class="img"&gt;
&lt;img src="http://aady5566.github.io/pic/japan/1123/24.png" width=50% height=50% /&gt;
&lt;/div&gt;

&lt;p&gt;晚餐我們到梅田吃牛舌丼飯，從左到右應該是牛舌香腸、牛舌餅、牛舌及牛尾湯。口感比牛肉更有嚼勁，味道很棒，兩人吃約莫 5000yen (兩丼飯加單點項目)，值得一試！&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>Julia osx 環境建置</title><link href="/julia-osx-huan-jing-jian-zhi.html" rel="alternate"></link><published>2016-11-09T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-11-09:julia-osx-huan-jing-jian-zhi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h2&gt;目標利用 Juno IDE 來開發 Julia:&lt;/h2&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/junoIDE.png" width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;目前部署環境為 mac os Sierra 10.12.1&lt;/li&gt;
&lt;li&gt;先更新 Xcode &amp;gt;= 8.1 版本&lt;/li&gt;
&lt;li&gt;至 &lt;a href="http://julialang.org/downloads/"&gt;julia&lt;/a&gt; 下載映像檔&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;&lt;a href="http://junolab.org/"&gt;Juno IDE&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;安裝 &lt;a href="https://atom.io/"&gt;Atom&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;在 Atom 的 preference -&amp;gt; packages -&amp;gt; 搜尋 uber-juno 並安裝&lt;/li&gt;
&lt;li&gt;接著去選單中的 julia 點選 start julia&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;若失敗，至 julia.exe 執行：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;Pkg.rm("Atom")&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Pkg.udpate()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Pkg.add("Atom")&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;issue Pkg.add("Rmath")&lt;/h2&gt;
&lt;h3&gt;fatal error: sys/cdefs.h: No such file or directory&lt;/h3&gt;
&lt;p&gt;solution: &lt;code&gt;$xcode-select --install&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Demo&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://a504082002.github.io/julia_tutorials/DS_2_Modeling_from_the_ground_up.html"&gt;ref&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Pkg.add(&amp;quot;DataFrames&amp;quot;)
Pkg.add(&amp;quot;GLM&amp;quot;)
Pkg.add(&amp;quot;Rmath&amp;quot;)
Pkg.add(&amp;quot;Gadfly&amp;quot;)
Pkg.add(&amp;quot;StatsFuns&amp;quot;)
using DataFrames, GLM, Gadfly, StatsFuns

&amp;amp;#35; Linear regression model

data = DataFrame(X=[1, 2, 3], Y=[2, 4, 7])
f = Y ~ X
fm = lm(f,data)
coef(fm)
residuals(fm)
predict(fm)
plot(data, x=:X, y=:Y, Geom.point)
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;若要在 terminal 呼叫 julia 執行 &lt;code&gt;export PATH="/Applications/Julia-&amp;lt;version&amp;gt;.app/Contents/Resources/julia/bin:$PATH"&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Julia"></category></entry><entry><title>Opendata- 捷運人流</title><link href="/opendata-jie-yun-ren-liu.html" rel="alternate"></link><published>2016-10-28T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-10-28:opendata-jie-yun-ren-liu.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;11/18要回系上給個（工作人生?）心得分享，想說做一點素材來引發小大一們對於R的一點興趣。昨天想到的是捷運站各站人潮的地圖視覺化，那就來做吧！首先我需要知道各站的地理位置，還有就是各站的人潮數據，稍微翻找了一下，在 &lt;a href="http://data.taipei/opendata/datalist/datasetMeta?oid=cfa4778c-62c1-497b-b704-756231de348b" target="_blank"&gt;Data.taipei&lt;/a&gt; 找到各站出口的經緯度座標，不過這筆資料很單純只有各站出口的座標，接著我到捷運公司找到了&lt;a href="http://www.metro.taipei/ct.asp?xItem=1058535&amp;CtNode=70073&amp;mp=122035" target="_blank"&gt;旅運量&lt;/a&gt;。這裏我只抓9月份的各站進站人次，整理一下兩份資料後，就可以畫圖了！&lt;/p&gt;
&lt;hr /&gt;
&lt;iframe src='aady5566.github.io/html/mrt.html' width=800 height=500&gt;&lt;/iframe&gt;

&lt;p&gt;圖圈位置表各站地理位置，數據為九月平均進站次數，圖圈顏色越深、半徑越大表示人潮越多。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Plot"></category><category term="R"></category><category term="Open data"></category></entry><entry><title>無題</title><link href="/wu-ti.html" rel="alternate"></link><published>2016-10-19T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-10-19:wu-ti.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;又到了刪刪減減的時間，每次一些跟工作跟正式無關緊要的想法就是在下筆前瞬間消失。到底是因為覺得思想沒價值、不被社會期待、根本不該存在而刻意忽略呢？我不知道，但現在我得練習就這麼閉著眼睛把腦海的想法一口氣說完，這有意義嗎？可能有可能沒有，但我就是要強迫自己做件事情。因為一直覺得自己應該是有感情的人，但不知從何時開始，旁邊的人覺得自己缺乏同理心，目不識人名，就連家人有時也會覺得自己算是比較平淡沒感情的。我記得大學時，只要到晚上10點過後，褪黑機素漸增，然後自己就會變得極度悲觀，然後找人聊天，抒發自己鬱悶的情緒，一旦到了隔天早上，心情就會大好，完全不知道是昨天的暢談起了社會支持的作用，還是純粹的精神飽滿狀態。漸漸的我將那些悲觀負面情緒的原因歸向物理性的疲憊，這時強迫自己絕對不能做出重大的決策（好像是某本書影響我的，真的忘了，就好像是李錫錕提到尼采的超人，要我講出點什麼好像也不能，但我人格確實受到他極大的影響）。也就因此漸漸的把認為那些憎恨、悲觀、邪惡的想法都是疲勞所致，一夜好眠又是新的開始，新的烏托邦。現在想想這真病態，我也確實會因外在事物生氣，好惡分明，既然如此，儘管那些充滿瑕疵的想法存在又何妨？忽然想到一件事，晚間10點過後，石牌站往唭哩岸的捷運總是特別慢，心中非常悶，又是鄰居抗議要求里長出面向捷運公司提出放慢速度的要求嗎？事實上週遭也只有大樓，我不信那些大樓的隔音有多差，反正這社會總是有錢有權好辦事，有了情還管什麼理啊、有了母豬還管什麼吉？某次也是一樣的經過這條路，看著售屋廣告的看版，想到的是如果窮人買不起食物，如果物理上出現有辦法讓人體縮小的道具，只要吃飯的時間把自己的體積縮小，1個便當就可以當5個便當吃，這時如果變大，還會餓嗎？或者是，就讓這世界整個縮小，自然資源持平的狀態下，人類的社會資源消耗得少，是不是能讓萬惡的人類繼續生存，讓這些只顧自己安寧亂投訴的老百姓活得更久，也許還是維持這樣吧，這社會本來就充滿莫名其妙的現象，就像是我現在的想法一樣。&lt;/p&gt;
&lt;p&gt;好早之前就想要把自己想到的話都打出來，儘管看起來破碎片段但是記錄下來總是代表我的思想曾經在某個階段體現過。說起來這也不算是強迫自己做這樣的事，能的話我希望就這樣一直打下去，無止盡沒有任何束縛完全自由發揮的狀態下心到筆就到快感。&lt;/p&gt;
&lt;p&gt;但我一直很清醒，就像現在我正想著如果微醺的狀態下，打出來字句會不會更感性更優美，屆時打出來的真的是我想說嗎？不然。生活一樣保持紀律，但是思想奔放，我想回到以前那種天馬行空亂想，有點瘋狂的狀態，就好像小學三、四年級暑假時間手繪一本漫畫，裡面有類似小朋友齊打交的火人、也有看起來像快龍的廢物魔王，噢我真該拿出來翻一下，當時的我是多麽有創意。講到創意，想到前幾天和公司夥伴們閒聊，創意到底是什麼？若某名畫家隨手拿起油漆在油布上畫了一撇，天價出售，買的人是因為看出其中工法，還是是買下他成名前的刻苦銘心？我不懂，創意這件事需要有公式般磨練打底後才有自由塑型的價值嗎？如果字寫得醜的人堅持說這是獨一無二的風格，對於這樣的創意還有人買單嗎？又想到昨天看到電視節目上訪問路人對於某家牛肉麵的評價：「湯頭算是還蠻爽口的，麵條...算有彈性。」你猶豫什麼？你不是就想說「幹我真的不知道這碗麵有啥特別，麵心根本沒熟和橡皮筋一樣難咬，CP超低，幹！」在這樣的情境脈絡下，難道就只能選擇符合社會期待？仁至義盡後的鬼話連篇會讓自己比較安心吧！今天到這。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>React Tutorial 環境建置</title><link href="/react-tutorial-huan-jing-jian-zhi.html" rel="alternate"></link><published>2016-09-26T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-09-26:react-tutorial-huan-jing-jian-zhi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h1&gt;目標&lt;/h1&gt;
&lt;p&gt;透過 nvm 管理 node.js 版本，並安裝官方團隊出的 &lt;a href="https://github.com/facebookincubator/create-react-app" target="_blank"&gt;Create React App&lt;/a&gt; 來製作我們的single page website。IDE的部分則是使用 &lt;a href="https://atom.io/" target="_blank"&gt;Atom&lt;/a&gt; ，並額外設定 ESlint 及安裝 &lt;a href="https://orktes.github.io/atom-react/" target="_blank"&gt; Atom React plugin&lt;/a&gt; ，提高開發網頁的效率。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;安裝 nvm（示範環境為OS X 10.5.5）&lt;/h2&gt;
&lt;p&gt;透過Homebrew 安裝 nvm  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;$brew install nvm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;接著輸入下列指令使 shell 運行 nvm&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ echo "source $(brew --prefix nvm)/nvm.sh" &amp;gt;&amp;gt; .bash_profile&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;重新啟動終端機使設定生效&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ . ~/.bash_profile&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;使用nvm安裝Node.js&lt;/h3&gt;
&lt;p&gt;nvm 就是用來做 Node.js 的版本控管，試想當你新進一家公司，該公司已經用v3.5.0開發他們的官網，而在之前你開發的環境都是 v5.5.0 以上，這時候你必須透過 nvm 調整自己的開發環境至 v3.5.0 才不會出現非預期性錯誤。這時 nvm 就非常好用！  &lt;/p&gt;
&lt;p&gt;查看遠端有哪些 Node.js 的版本可以安裝&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$nvm ls-remote&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;安裝欲安裝的版本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$nvm install &amp;lt;version&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;node版本會放在此&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ls /usr/local/opt/nvm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;查看可使用的node版本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$nvm ls&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;切換版本&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;nvm use指令只會在當前的 shell 生效&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;$nvm use v6.5.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$nvm use --delete-prefix v6.5.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;為解決上述問題，可以將常用的版本加入 alias 中，這樣就不用每次開新的 shell 都要執行 nvm use了!&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ nvm alias default &amp;lt;version&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;安裝create-react-app&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Node.js 必須在 v4.x 以上&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;安裝 create-react-app&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$npm install -g create-react-app&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;建立一個名為 &lt;em&gt;myApp&lt;/em&gt; 的app資料夾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$create-react-app myApp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;在該app資料夾下運行 app&lt;/p&gt;
&lt;p&gt;&lt;code&gt;myApp $npm start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;接著就可以去 localhost:3000 看第一個demo app了！&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;Atom 套件： React Plugin, ESlint 安裝&lt;/h2&gt;
&lt;h3&gt;React Plugin&lt;/h3&gt;
&lt;p&gt;React Plugin比較簡單，直接在 Atom 的偏好設定內安裝套件（名為 &lt;em&gt;React&lt;/em&gt; ）即可。&lt;/p&gt;
&lt;h3&gt;ESlint&lt;/h3&gt;
&lt;p&gt;ESlint 的部分比較麻煩，除了 Atom 偏好設定內的安裝完（名為 &lt;em&gt;ESlint&lt;/em&gt; ）外，還必須&lt;/p&gt;
&lt;p&gt;這裏有關 ESlint 的 &lt;a href="https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md" target="_blank"&gt;issue&lt;/a&gt; 還在解。因此這邊還是要手動增添一些設定。&lt;/p&gt;
&lt;p&gt;在 &lt;em&gt;myApp&lt;/em&gt; 資料夾內有個 packages.json ，加入&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;//...
&amp;quot;eslintConfig&amp;quot;: {
    &amp;quot;extends&amp;quot;: &amp;quot;react-app&amp;quot;
  }
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;並安裝下列套件即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;npm install -g eslint-config-react-app@0.2.1 eslint@3.5.0 babel-eslint@6.1.2 eslint-plugin-react@6.3.0 eslint-plugin-import@1.12.0 eslint-plugin-jsx-a11y@2.2.2 eslint-plugin-flowtype@2.18.1&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;為了讓其他協作開發者知道該app使用的相依環境，盡量使用
&lt;code&gt;$npm install --save &amp;lt;library-name&amp;gt;&lt;/code&gt;。 --save會把相依套件寫在packages.json 的 dependencies。甚至可以更進一步使用 --save-dev 和 --save-optional 來區分套件分別隸屬於 devDependencies 還是 optionalDependencies。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="React.js"></category></entry><entry><title>中秋之夜</title><link href="/zhong-qiu-zhi-ye.html" rel="alternate"></link><published>2016-09-17T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-09-17:zhong-qiu-zhi-ye.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;中秋連假颱風也來湊一腳，現在有沒有放假都固定給自己半天的工作或進修的時間，既然當初給自己一年的時間好好摸第二語言Scala的任務漸行漸遠，因應工作需求一定要找一個新的目標精進，一年至兩年的時間內多摸索。  &lt;/p&gt;
&lt;p&gt;我是很喜歡學新事物的人，在小公司因應各種任務時（對目前的我來說幾乎都是新的），能協助公司的話就邊學邊做。最近也剛接了一個PM的角色開發軟體產品，其實PM的重要性和專業度也非常高，不亞於寫出優美的程式，雖然公司在這方面沒有什麼前輩可以討教，自己也是要找相關的文件書籍閱讀。同時在我管理的這個產品，可能也會需要我協助前端網站的呈現，因此前端的開發框架也要了解，以便之後與新人協作。但原本的角色定位為數據分析的我，仍然要持續精進數據處理的概念和效率，一人飾三角。有時會覺得這樣過於發散，也許這是小公司的另外一個缺點，無法專精。不過就現階段而言，只要是為了公司好，該學什麼該做什麼就盡量做好做滿吧！&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>真實的謊言 - 韓國</title><link href="/zhen-shi-de-huang-yan-han-guo.html" rel="alternate"></link><published>2016-09-01T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-09-01:zhen-shi-de-huang-yan-han-guo.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/train.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;地鐵上拍的漢江，遮色片、橋軌、城市遠景構成的三色塊，自己非常喜歡這張。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;這次的旅行其實是因躲教召的機會，讓自己處於半遊半工的狀態，不過也因此，出發前只準備了機票和住宿的地方，行程完全空白，是一個非常 free-style 的行程哈。分享一下這次旅行的經驗。  &lt;/p&gt;
&lt;p&gt;分享一下自己的總花費（全部以台幣計算）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;機票: 6877 NTD&lt;br /&gt;
住宿: 6496 NTD&lt;br /&gt;
行、住、吃、購物: 6517 NTD  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;總共 &lt;code&gt;19890&lt;/code&gt; 台幣，應該算是非常超值的一次旅行。  &lt;/p&gt;
&lt;p&gt;這次的行程是8/29-9/2五天行，早在兩個月前先上網查一下機票，後來買了大韓航空的來回票。住宿的部分則是airbnb，繼上次在芝加哥住宿的經驗，在當地人的家中體驗入境隨俗的滋味真的很不賴。這次的經驗更棒，不只是環境乾淨舒適外，房東媽媽和女兒都非常親切，會推薦一些非常道地的小店，甚至邀我們一起吃，而且每天早上都會準備麵包和麥片!我們就來看圖說故事吧!  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/room.JPG" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;每天吃早餐的地方(廚房兼客廳)。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/room2.JPG" width=100% height=100% /&gt;&lt;/p&gt;
&lt;p&gt;臥室非常舒服，他們的設備幾乎都是韓國自家品牌，不得不說，這些東西真的外表有質感外，功能品質也很好（房東說的），難怪韓國愛用國貨，完全不意外。  &lt;/p&gt;
&lt;p&gt;第二天到了明洞換錢，之前在台灣先查了匯率以及網友的分享，發現先在台灣換美金，再拿著美金到韓國當地的兌幣所（明洞附近）換成韓幣，匯率會比較好，用多少換多少。反正美金很好用，沒用完放著也沒差。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/church.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;明洞聖堂，裡面非常安靜，前方少許的人，與神對話。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/cafeName.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;下午來到房東推薦的咖啡店，異常難找，在明洞附近用英文問路問老半天結果都是陸客，後來附近的上班族帶我過去，一個非常隱匿的巷弄，寬度不輸摸乳巷。之後的三小時都泡在這裡和同事開會工作。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/seconddinner.JPG" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;第一天的晚餐，炸雞配雪碧，潮爽的。講到這裡，不得不提韓國的胖子真的非常少，可是他們的飲食其實又不是特別健康，真的很納悶，難道是運動量極大嗎？  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/street.JPG" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;街頭藝人彈奏&lt;a href="https://zh.wikipedia.org/wiki/%E4%BC%BD%E5%80%BB%E7%90%B4" target="_blank"&gt;伽倻琴&lt;/a&gt;，琴聲輕柔，不像古箏的聲音那麼清脆，又女聲也細，整個氛圍柔和的非常完美。    &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/museum.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;第三天下雨，也變冷很多，剛好前一天有買風雨衣 (400NTD)完全派上用場！  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/temple5.jpg" width=100% height=100% /&gt;    &lt;/p&gt;
&lt;p&gt;後來實在太冷了，放棄去房東推薦的昌德宮秘院，只到觀光勝地景福宮。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/temple.JPG" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;內部幾乎都是沙地，有若干個宮廷。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/soldier.JPG" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;大門有好幾位古裝士兵，每隔幾分鐘會繞圈走一下，滿足觀光客的新鮮感，但他們的鬍子實在太假，覺得不專業啊！  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/museum2.jpg" width=100% height=100% /&gt;&lt;/p&gt;
&lt;p&gt;參觀地下博物館，瞭解一下當時召集大家造字的王世宗的背景，超級孤陋寡聞，一直到今天才知韓文是拼音字@@&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/museum3.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;博物館外頭的階梯。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/thirdLunch.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;第三天中午終於吃到部隊鍋了!超級飽，但是也知道其實他們的泡麵比較沒那麼好吃，偏硬，麵心不容易軟。  &lt;/p&gt;
&lt;p&gt;第三天晚上去吃家附近的魚卵牛丼飯，那魚卵真的超級屌，我從沒吃過這麼鮮又有味的魚卵，太好吃結果吃完忘記拍照...。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/train2.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;他們的地鐵非常乾淨，最讓我佩服的是，他們的地鐵內是可以飲食的，這方面台灣真的還可以再多學學這樣的文化素養。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/shopStreet.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;街景一 - 購物商圈。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/shopStreet2.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;街景二 - 小豬與屁股蛋。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/slope.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;韓國的地勢也很特別，有些地方超級陡峭。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/forthLunch.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;第四天午餐，日韓 remix 牛丼，那個葉子單吃超難吃，但是和牛肉、蒜頭一起吃口感超棒，吃完後...發現自己只剩下5000韓幣，不夠吃晚餐啊啊啊！   &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/bank.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;到附近的銀行抽號碼等換錢，終於輪到我時，開心拿著100鎂，想說換個20鎂就好了，結果櫃台竟然說 "No partial exchange, all or nothing." WTF..整個大失策，學到教訓：下次在台灣換錢要換小張一點orz  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/stack2.jpg" width=100% height=100% /&gt;&lt;/p&gt;
&lt;p&gt;街景 - 用貨櫃疊起來的文藝商圈，可達三層樓高。    &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/korea/chickensoup.jpg" width=100% height=100% /&gt;  &lt;/p&gt;
&lt;p&gt;最後的晚餐 - 房東推薦的店，點了山蘇雞湯，結束了這次的韓國之旅。  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;心得：起初以為韓國應該沒啥好玩，就像台北一樣購物地小，一天就能繞完，但其實我連韓國首爾都還沒繞完，就別提釜山那些的了。然後大多數的路人都很親切，基本上有問必答，儘管他們英文不是非常好，但是他們很願意身體力行提供你各種協助。我覺得韓國旅遊的難度算低，文化又非常相似，很適合當做一個流浪的起點。以上是我半工半遊的一點小小的分享，歡迎再私下交流＾＾&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>Lambda 分析機環境建置</title><link href="/lambda-fen-xi-ji-huan-jing-jian-zhi.html" rel="alternate"></link><published>2016-08-23T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-23:lambda-fen-xi-ji-huan-jing-jian-zhi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h2&gt;Lambda Tutorial&lt;/h2&gt;
&lt;p&gt;安裝套件 virtualenv
&lt;pre&gt;
pip install virtualenv
&lt;/pre&gt;  &lt;/p&gt;
&lt;p&gt;建立 virtual environment 並執行環境內的cmd模式
&lt;pre&gt;
mkdir env
source env/bin/activate
deactivate //離開虛擬環境之cmd模式
&lt;/pre&gt;  &lt;/p&gt;
&lt;p&gt;安裝完所需 python 套件後，將套件與腳本放入根目錄，腳本含兩種：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;init&lt;/strong&gt;.py （內容為空白）&lt;/li&gt;
&lt;li&gt;main.py （主要執行檔），以下範例  &lt;/li&gt;
&lt;/ol&gt;
&lt;pre&gt;
&amp;#35; !/usr/bin/env python
&amp;#35; -*- coding: utf-8 -*-
def lambda_handler(event, context):
  your code here
&lt;/pre&gt;

&lt;p&gt;最後打包成.zip檔上傳至lambda即可測試 （上傳最大限制為5mb）&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;Case by Case&lt;/h1&gt;
&lt;h2&gt;AWS linux environment compile （以EC2 為例，編譯含C語言之python套件）&lt;/h2&gt;
&lt;p&gt;進入ec2
&lt;pre&gt;
sudo yum -y update
sudo yum -y groupinstall "Development Tools"
sudo yum install python27-devel python27-pip gcc
sudo yum install blas-devel lapack-devel //for scipy
sudo yum install python-devel //for python-igraph
sudo yum install -y libxml2 libxml2-devel libxslt libxslt-devel //for puthon-igraph
virtualenv ~/env --no-site-packages
source ~/env/bin/activate
//這裏開始進入切割出的虛擬環境中安裝所需套件，不過不知為何不能下sudo，不然會安裝到系統的python（可能是AWS sudo的特殊權限）
pip install --upgrade pip
pip install Cython
pip install numpy
pip install scipy
pip install scikit-learn
pip install gensim
pip install python-igraph
pip install pandas
//回到系統安裝
sudo yum install unzip
sudo yum install boost-devel boost-python-devel
//再次進入虛擬環境中安裝，不過這裡的 pymongo 和 elasticsearch 會安裝在 env/lib/python2.7/dist-packages/ 而不是 env/lib64/python2.7/site-packages/
pip install elasticsearch //but put in the diet-package
easy_install pymongo //but put in the diet-package
&lt;/pre&gt;  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;接著將需要的binary file上傳到ec2中
&lt;code&gt;scp -r -i [pemPath] [.binlocalPath] ec2-user@[ip]:/home/ec2-user/env&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;修改 binary file 權限
&lt;code&gt;chmod +x env/SIO2-Algorithm_GPL.bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;執行 binary file (此檔案會出現於env/lib64/python2.7/&lt;strong&gt;dist&lt;/strong&gt;-packages/，將其移動到 env/lib/python2.7/dist-packages 與相依套件一起包下來)
&lt;code&gt;env/SIO2-Algorithm_GPL.bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;拉下編譯過的套件
&lt;code&gt;scp -r -i [pemPath] ec2-user@[ip]:/home/ec2-user/env/lib/python2.7/dist-packages [localDirPath]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;scp -r -i [pemPath] ec2-user@[ip]:/home/ec2-user/env/lib/python2.7/site-packages [localDirPath]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;除此之外，還有一些零散的資料夾也一併拉下：  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;/usr/lib64/libboost_python.so.1.53.0&lt;/code&gt;
&lt;code&gt;/usr/lib64/libquadmath.so.0&lt;/code&gt;
&lt;code&gt;/usr/lib64/libgfortran.so.3&lt;/code&gt;
&lt;code&gt;/usr/lib64/libblas.so.3&lt;/code&gt;
&lt;code&gt;/usr/lib64/liblapack.so.3&lt;/code&gt;  &lt;/p&gt;
&lt;p&gt;將編譯過的套件連同執行腳本打包成zip檔，超過5mb則丟到S3
&lt;pre&gt;
aws configure
keyID...
pw ...
region ...
aws s3 cp [local.zipPath] s3://[bucketName]/[dir]
&lt;/pre&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://nervous.io/python/aws/lambda/2016/02/17/scipy-pandas-lambda/" target = "_blank"&gt;Other solutions&lt;/a&gt;  &lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="AWS"></category><category term="Lambda"></category></entry><entry><title>Content-Based, Knowledge-Based, Time-Sensitive Recommender Systems</title><link href="/content-based-knowledge-based-time-sensitive-recommender-systems.html" rel="alternate"></link><published>2016-08-17T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-17:content-based-knowledge-based-time-sensitive-recommender-systems.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h1&gt;&lt;strong&gt;Content-Based Recommender Systems&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;Content-Based systems 除了使用了用戶的評分分數外，還會用到物件的特徵描述、摘要等資訊。Content-Based 推薦系統的基本概念就是希望找出過去用戶喜歡商品的相似物。這個相似性的概念不是（不一定）是基於跨受試者間的評分，而是基於物件的特徵。因此 Con-Based 推薦系統著重在目標用戶「自己」過去的評分紀錄，以及被評分的物件的相似性。&lt;/p&gt;
&lt;p&gt;Content-Based Systems 有很大的部分都是對 文字型的資料做處理 (text-centric systems)，基本上可分成三個組成： 離現階段的前處理、離線階段的學習、線上階段的預測。
這裏特別強調的是， Content-Based Systems 特別是針對特定用戶的商品喜好做預測，也就是所謂的 user- specific model ，換句話說， Content-based learning 是對於特定用戶過去的歷史偏好、評分、被評分商品的特徵描述等等的資訊勾勒出該用戶偏好的輪廓。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;因為前述提到 Content-Based Systems 主要在解析物件的特徵，並對其相似性高地進行分類推薦。因此這邊要介紹萃取特徵的方式。&lt;/p&gt;
&lt;h2&gt;&lt;strong&gt;Feature Representation Cleaning&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;我們必須先針對非結構化的文字內容進行清洗的動作：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;停止詞的過濾：停止詞指的是那些經常出現在文章中，但是又沒有太大的意義，例如「的」、「我」、「是」等，連詞、介詞、代詞都是停止詞。&lt;/li&gt;
&lt;li&gt;英文的文獻中有字幹的萃取，例如「hoping」,「hope」都有「hop-」，但這邊要特別注意的是本身 hop 也有其他意義。&lt;/li&gt;
&lt;li&gt;另外就是簡單詞的萃取 (Phrase extraction)：這裏比較傾向的是合併詞，例如英文的 「hot dog」，或是中文的「漣漪」。  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;經過上述的步驟，可以得到各物件的「特徵詞」，而這些特徵詞會以向量空間作為表徵。但其實這些「詞袋」內的內容物，並不是每個都是非常的關鍵，很多特徵詞並沒有物件間的區別力，因此我們真正要的是各個物件的「關鍵詞」，要如何得到這些「關鍵詞」，可以對特徵詞進行權重分配後計算而得：Inverse document frequency (IDF)&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467418041575_+2016-07-02+8.05.42.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;$id_i$ 為一遞減函數， $n$ 表總文件數， $n_i$ 表含有該詞彙的數量。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467418555033_+2016-07-02+8.15.37.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467418555042_+2016-07-02+8.15.43.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;我們可以進一步透過左邊兩式的 damping function 調整 $id_i$ 的結果， $x_i$ 為詞語出現的次數除以該文件的總詞語數，右邊為調整後的 tf-idf。
R腳本範例：
&lt;pre&gt;
&amp;#35;4.1
&amp;#35;idf
set.seed(125)
(docWord &amp;lt;- matrix(sample(c(0,1),50,replace=T),5,10,
                   dimnames = list(paste("doc",1:5,sep=''),c(letters[1:10]))))#fixed,每篇文章對於用戶來說都長一樣
(tf &amp;lt;- (docWord)/rowSums(docWord)) #一詞語出現的次數除以該文件的總詞語數
(idf &amp;lt;- log(1/colMeans(docWord))) #測定文件出現過該詞佔所有文件的比例。總數權重越大，代表該關鍵詞的區別度越高
h &amp;lt;- log(tf) #damping function
h2 &amp;lt;- sqrt(tf) #damping function2
h %*% idf #tf-idf, 關鍵字 a-j 與 document的相關性
h2 %*% idf #tf-idf
&lt;/pre&gt;    &lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Supervised Feature Selection and Weighting&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;上述提到的 tf-idf model 其實就是特徵的選擇與權重分配的一種方式，但這種屬於非監控式學習，意即並沒有結合用戶評分的資訊。監控式學習的方法納入了用戶的回饋，利用用戶評分作為篩選特徵的依據：  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gini Index&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467420385253_+2016-07-02+8.46.03.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;R腳本範例：
&lt;pre&gt;
&amp;#35;4.3
&amp;#35;Gini Index
set.seed(125)
(userDoc &amp;lt;- matrix(sample(c(0,1),10,replace=T),2,5,
                   dimnames = list(paste("user",1:2,sep=''),paste("doc",1:5,sep=''))))
(docWord &amp;lt;- matrix(sample(c(0,1),50,replace=T),5,10,
                   dimnames = list(paste("doc",1:5,sep=''),c(letters[1:10]))))#fixed,每篇文章對於用戶來說都長一樣
userProfile &amp;lt;- (userDoc %*% docWord) #individual's word frequency by weighting with ratings
(totalGini &amp;lt;- 1- sum(colSums(userDoc %*% docWord)/sum(colSums(userDoc %*% docWord))^2))#關鍵字 a-j 與 user的相關性
p &amp;lt;- colSums(userProfile)/sum(colSums(userProfile))
(eachGini &amp;lt;- (1- p)^2)#feature selection
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Entropy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467420946019_+2016-07-02+8.55.20.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;定義與上述的吉尼係數一樣，差別在於公式上的呈現。
R腳本範例：
&lt;pre&gt;
&amp;#35;4.4
&amp;#35;entropy
totalEntropy &amp;lt;- -sum(p * log(p), na.rm=T)
eachEntropy &amp;lt;-  -p*log(p) #越小越有鑑別度
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;不過上述的兩種監督式學習方法都還是隱藏一個缺點，那就是忽略了&lt;strong&gt;用戶對文件相對評分的次數&lt;/strong&gt;。也就是說，只計算了被評分的文件，而忽略了更多未被評分的的文件。為此，我們可以利用 Normalized Deviation 將未被評分的文件：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467422227448_+2016-07-02+9.16.54.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Learning User Profiles and Filtering&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;我們要如何將 user profiles 和推薦系統結合呢？&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467422427546_+2016-07-02+9.20.07.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;首先我們必須將資料清洗成我們要的長相，以上述為例，根據 Content-Based Systems ， 我們必須得到該用戶對每個物件（橫列）的評分分數（最後一欄位）以及物件中的關鍵字次數。目標在於當有新的商品 i 出現時，基於該用戶過去對於類似 i 物件的評分，我們可以推估該用戶對於新物件的喜好，而進一步做出比較可能的商業推薦。
若以貝氏模型為例：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467422787538_+2016-07-02+9.26.17.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;我們會先根據用戶過去的行為，再去判斷預測情境出現的機率，並選擇最高機率的預測行為（這裏的 1 代表 Like;  -1 代表 Dislike）。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467422910680_+2016-07-02+9.28.20.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;因為最後結果為 $P(Like|Test-1)$ 較大，因此我們推論該用戶應該喜歡 Test-1 ，藉此我們可以推薦該商品給用戶。
若當數值不只是 二元，甚至是連續值或等距資料型態，我們可以使用 Regression Models：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467425296217_+2016-07-02+10.07.29.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;R腳本範例：
&lt;pre&gt;
&amp;#35;4.12
&amp;#35;regression-based models
set.seed(1264)
(userDoc &amp;lt;- matrix(sample(c(1:3),10,replace=T),2,5,
                   dimnames = list(paste("user",1:2,sep=''),paste("doc",1:5,sep=''))))
(docWord &amp;lt;- matrix(sample(c(0,1),50,replace=T),5,10,
                   dimnames = list(paste("doc",1:5,sep=''),c(letters[1:10]))))#fixed,每篇文章對於用戶來說都長一樣
user &amp;lt;- 2
(user2Weights&amp;lt;- t(matrix(sapply(1:ncol(docWord),function(x)coef(lm(userDoc[user,]~docWord[,x]))[2]))))
user2Y.bar &amp;lt;- docWord %*% t(user2Weights)
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;以下是作者對於各種 Content-based Methods 的見解與使用時機：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467426417080_+2016-07-02+10.26.44.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;由於 Content-based systems 多了物件的特徵，因此比起前兩章的推薦系統更能夠有較好的推薦理由。而且比起前兩章的推薦系統，Content-based systems 對於新進商品是能夠處理類化的，減少了 cold-start 的問題。然而凡事一體兩面，也因為推薦的都是相似性高的商品，其缺點為無法提供新穎性的商品
 (Overspecialization) 。&lt;/p&gt;
&lt;h1&gt;&lt;strong&gt;Knowledge-Based Recommender Systems&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;想像一下你要買一棟房，當房仲帶你到各個房子看完後，你能馬上針對每個房子評出一個分數嗎？應該是無法的，因為你考量因素可能是房間數、地點、價格、方位、樓層、或是是電梯大樓還是公寓等等。
當物件的複雜度太高，用戶難以用一個單一評分來做標準時，這時候前述的推薦系統幾乎失效，此時必須仰賴 Knowledge-based systems 的建構了。
Knowledge-based systems 主要又分成兩種：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Constraint-based systems&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Case-based systems&lt;/strong&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;前者比較適用當用戶對於自己的需求有一些想法，並將這些想法對應到系統的物件特徵，對其進行篩選的過程。後者則是用戶對於自己的需求還很模糊，系統會先依照簡單的預設值給予一些相似的物件，用戶再從中得到對於需求的想法，進一步進行篩選的過程。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Constraint-based systems&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Constraint-based systems 資料提供用戶去針對物件的特徵進行篩選，好比說購房為例，可以想像成是用戶對於資料庫的索引。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467429247513_+2016-07-02+11.13.52.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;上述的欄位包含了人口學變項以及物件特徵。
某用戶可能會對於市區、郊區進行過濾：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467429344261_+2016-07-02+11.15.33.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;因為只針對物件的特徵進行過濾，這樣的媒合過程稱為 Directly Mapping。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467429615326_+2016-07-02+11.19.59.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;另外若是根據人口學變項推論物件特徵的落點（此例為若該用戶婚姻狀況為單身，房間數考量篩選為 &amp;lt; 5間），此時為 Indirectly Mapping。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Case-based systems&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;因為 Constraint-based systems 是由用戶自己輸入的條件進行篩選，很有可能面臨一個問題，那就是「查無此資料」，Case-based 因為是提供用戶相似的物件，因此不管如何一定會有一個「類似的物件」呈現於用戶，因此，Case-based systems 更著重於 item 間的相似性 (Similarity Metrics)。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Similarity Metrics&lt;/strong&gt;
舉例來說，某用戶想要找房間數為3的房子，因此在推薦前，我們必須先去計算資料庫內所有物件中最符合「房間數為3」作為推薦：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467430541633_+2016-07-02+11.35.27.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;$i$ 為物件特徵，右式 $t_i$ 為用戶設定物件特徵的目標， $x_i$ 為物件 $i$ 實際值，$max_i$ &amp;amp; $min_i$ 為該特徵的最大、最小值範圍，藉此我們可以計算出一個對稱的相似性矩陣。
R腳本範例：
&lt;pre&gt;
&amp;#35;5.3
&amp;#35;similarity matrics
set.seed(123)
itemAttr &amp;lt;- matrix(room &amp;lt;- sample(1:5,5,replace=T),dimnames = list(c(paste("item",1:5,sep='')),"room"))
target &amp;lt;- 3 #假設用戶的房間數設定為3
sim &amp;lt;- 1-(abs(target-itemAttr)/(max(itemAttr)-min(itemAttr)))#5.3 symmetric
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467430756106_+2016-07-02+11.38.58.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467430756110_+2016-07-02+11.39.04.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;5.5 和 5.6 公式為根據特徵的實際值、目標值方向性調整相似性的公式，$\alpha_i$ 為一 $&amp;gt;= 0$之值， $I$(條件) 為一判斷式，當成立時為1，不成立為0。
以前述的例子來說，當用戶的目標值為3，實際值 $x_i =2 or 4$由公式 5.5 得到的結果都一樣，但是如果用5.5 來算， $(x_i = 4, t_i=3)$ =&amp;gt; $1- 1/4 + a_i * 1/4$ 的相似性結果會大於 $(x_i=4, t_i=3)$ =&amp;gt; $1- 1/4$，也就是說，在其他條件的情況下， 房間數為4的結果應該要比房間數為2的結果更應該被推薦。反過來，5.6的話適用場景為實際值比目標值低的情況下更好，例如價格。以及根據 $\alpha_i$ 的大小調整，我們可以看看畫出來的圖：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467431383062_+2016-07-02+11.49.13.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;由於 Knowledge-based system 仍是推薦相似性高的商品，因此也和 Content-based system 面臨相同的問題，那就是處理新穎性商品的能力，在某些情境下，這必須被解決。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467427933931_+2016-07-02+10.51.33.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;上面的表為三種系統的差異比較和整理。&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;&lt;strong&gt;Time- and Location-Sensitive Recommender Systems&lt;/strong&gt;&lt;/h1&gt;
&lt;h2&gt;&lt;strong&gt;Temporal Collaborative Filtering&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;時序性的協同過濾其實就是對其他推薦系統的擴充，提高預測性，一般來說有兩種想法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Recency effect：越近期的資訊是越重要的。可使用 Decay-based methods。&lt;/li&gt;
&lt;li&gt;Periodic context effect：特定時段的事件是重要的。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Decay-based methods&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467432177109_+2016-07-02+12.02.42.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;R腳本範例：
&lt;pre&gt;
&amp;#35;9.3
&amp;#35;discount factor
rating &amp;lt;- 1:5
scale(rating)
maxR &amp;lt;- max(scale(rating))
minR &amp;lt;- min(scale(rating))
alpha &amp;lt;- .5
discountFactor &amp;lt;- (1-((mean(rating)-1)/(maxR-minR)))^alpha
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Discrete Temporal Models&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;間斷型時序模型的使用情境多為網路的點擊分析、市場交易資料等，屬於 implicit feedback 類型的資料。為納入時序的分析，我們可以使用 Markovian models。
馬可夫模型的概念是將資料變成時續性的排列，假設現有4種動作分別為 {A, B, C, D} ，現有一時序資料為AABCBCA，我們可以將每個字母當成是一個動作，做完一個動作接續下一個動作，看成是：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467432730605_+2016-07-02+12.11.54.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;此為一階馬可夫鍊，並將所有的狀態及連線繪製成：
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467432807562_+2016-07-02+12.13.16.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;R腳本範例：
&lt;pre&gt;
&amp;#35;order-1 Markov model
&amp;#35;user1: s1,s3,s1
&amp;#35;user2: s2
&amp;#35;user3: s4,s3,s4,s1,s3
probabilityMatrix &amp;lt;- matrix(c(0,0,1/6,1/6,0,0,0,0,2/6,0,0,1/6,0,0,1/6,0),4,4) #not converge
rowSum1 &amp;lt;- matrix(c(0,.25,.5,.5,0,.25,0,0,1,.25,0,.5,0,.25,.5,0),4,4) #converge, in order to satisfy ergodic theorem
curr &amp;lt;- c(0,0,0,1) %&lt;em&gt;% rowSum1
nex &amp;lt;- c(0,0,0,0)
count &amp;lt;- 1
repeat{
  print(count)
  nex &amp;lt;- curr %&lt;/em&gt;% rowSum1
  if(all(round(curr,3)==round(nex,3))!=F){print(curr); break}
  curr &amp;lt;- nex
  count &amp;lt;- count + 1
}
&lt;/pre&gt;  &lt;/p&gt;
&lt;p&gt;可發現4個動作的一階馬可夫鍊 (order-1 Markov model) 會有$4^1$個狀態，$4^{(1+1)}$條連線。以此例，order-2 Markov chain 會是：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467433048559_+2016-07-02+12.17.00.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;所以 order-2 Markov model 會有 $4^2$ 個狀態， $4^{(2+1)}$ 條連線。依此類推，N個狀態的 order-k Markov model 會有 $N^k$ 個狀態與 $N^{(k+1)}$ 條連線。  &lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Sequential Pattern Mining&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;幾乎類似於關聯性規則的原則：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467433671876_+2016-07-02+12.27.19.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467433671882_+2016-07-02+12.27.24.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467433671887_+2016-07-02+12.27.32.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D96ADE2D5B6D8C381E6809389134FE09038EEC452A76C3A980E242E307E916B3_1467433671892_+2016-07-02+12.27.39.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;Ref: Aggarwal, C. C. (2016). Recommender Systems: The Textbook. Springer.&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Recommender System"></category><category term="Stat"></category></entry><entry><title>Visialization of LDA</title><link href="/visialization-of-lda.html" rel="alternate"></link><published>2016-08-17T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-17:visialization-of-lda.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='aady5566.github.io/html/lda_gibbs_yd/index.html' width=100% height=1000 frameborder="0"&gt;&lt;/iframe&gt;

&lt;p&gt;左圖為 term-topic matrix 於 PCA 維度的分佈，右圖為各個 topic 的term實際與估計佔比。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>關鍵字泡泡</title><link href="/guan-jian-zi-pao-pao.html" rel="alternate"></link><published>2016-08-16T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-16:guan-jian-zi-pao-pao.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='aady5566.github.io/html/yd_bubblecloud/index.html' width=100% height=1000 frameborder="0"&gt;&lt;/iframe&gt;

&lt;p&gt;針對某網站的部落格文章分類後，進行關鍵字分析，數值代表個字詞的權重。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>地圖視覺化</title><link href="/di-tu-shi-jue-hua.html" rel="alternate"></link><published>2016-08-12T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-12:di-tu-shi-jue-hua.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='aady5566.github.io/html/app.html' width=100% height=600 frameborder="0"&gt;&lt;/iframe&gt;

&lt;p&gt;此虛擬資料，用來模擬23種app用戶類型，並配合地區的商家的群集了解各用戶的聚集地。  &lt;/p&gt;
&lt;p&gt;各商家字體大小，表示附近該商家類型的數量。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>Model-Based Collaborative Filtering</title><link href="/model-based-collaborative-filtering.html" rel="alternate"></link><published>2016-08-12T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-12:model-based-collaborative-filtering.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466754762054_+2016-06-24+3.52.24.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;其實協同過濾的就是分類法（回歸）的進階延伸而已。(a) 表一般的分類法所用到的資料概念，資料被分為訓練集和測試集，獨變項和依變項的關係，作法不外乎就是利用訓練集的獨變項依變項建模，再對測試集的依變項做預測。而 (b) 協同過濾，灰色條目即為未知的數值（即將被預測），散落在二維空間中，因此獨、依變項並沒有限定在行或列中，所以才會說協同過濾類似於分類法的延伸版本。也因此， model-based 協同過濾也會用到各種監督、非監督式的學習方法（如決策樹、關聯性規則、貝氏模型、回歸、神經網絡模型、支持向量機）&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;儘管前一章節已經提到 Neighborhood-based methods，非常直觀，但仍有一些計算效率問題。在此我們介紹 Model-based methods 比起 Neighborhood-based methods 多了哪些特色：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;空間維度上的縮減，空間複雜度可以降低&lt;/li&gt;
&lt;li&gt;減少 pre-processing stage 的時間 （off-line phase）&lt;/li&gt;
&lt;li&gt;避免 over-fitting   &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;接下來會簡介各個 model-based 的應用情境&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Decision and Regression Trees&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;這兩種樹的目的都是在對資料進行分類，差別在於前者針對的是&lt;strong&gt;類別變項&lt;/strong&gt;、後者為&lt;strong&gt;數值變項&lt;/strong&gt;。接下來皆以決策樹作為實例。
針對 m (user) x n (item) 的稀疏矩陣，決策樹的生成做法是將某一 $item_j$ 固定（依變項），其他的 item 為獨變項 （feature），但這時會問如果獨變項內含missing value怎辦？最直接且合理的方式即下一個節點無論是分到哪個分支，所有缺值都會在下一個節點的所有分之出現。
假設情境為 一 m (user) x n (item) 的稀疏矩陣，條目 (entries) 內可能為0或1的二元數值或是missing。做法就是固定某一維度（依變項），例如 $item_j$ ，我們希望對 $item_j$ 進行物件的推薦，這時借用 其他 item 為 獨變項 （features），就可以開始建樹了！但其實這樣只建了針對 $item_i$ 的樹，所以等於是要建 n 個樹。這裏補充一下，對於樹長的歪不歪可以利用吉尼係數 (Gini Index) 作為一個判斷依據，又可以有整體的吉尼係數或是各節點的算法：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466757051944_+2016-06-24+4.30.34.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466757051948_+2016-06-24+4.30.39.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;3.1式 表整體的吉尼係數，又 $p_i$ 為各分類中所含資料筆數的佔比。此係數的值越小越好。
3.2式 表某一節點 S 的吉尼係數，透過 S 節點的 子節點 S1 ， S2的吉尼係數權重而得。
&lt;pre&gt;
&amp;#35;3.1
&amp;#35;overall gini index: 50 ,if class a to class d with 30, 5, 5 ,10 data records respectively.
Gini &amp;lt;- 1- sum((c(30,5,5,10)/50)^2)&lt;/p&gt;
&lt;p&gt;&amp;#35;total: 50 ,if class a to class e with 10, 10 ,10 ,10 ,10 data records respectively.
Gini &amp;lt;- 1- sum((rep(10,5)/50)^2)&lt;/p&gt;
&lt;p&gt;&amp;#35;total: 50 ,if class a to class d with 40, 1, 4 ,5 data records respectively.
Gini &amp;lt;- 1- sum((c(40,1,4,5)/50)^2)&lt;/p&gt;
&lt;p&gt;&amp;#35;3.2
&amp;#35;child node gini index: if attribute X is splited into classA and classB
GiniX &amp;lt;- (40&lt;em&gt;(1-(40/50)^2)+1&lt;/em&gt;(1-(1/50)^2))/50
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;如果是非連續數值型且數目選擇較少 （例如李克3點量表評分）的評分方式，也可以用決策樹來試做看看。決策樹只是其中一種分類的方式，不一定要這麼做，接下來也會介紹其他分類的方法。&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Rule-Based Collaborative Filtering&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Rule-Based Collaborative Filtering 和 關聯性規則 (association rules) 關係密切。關聯性規則原則上處理的是二元 （0 或 1）的資料型態，最有名的例子當然就是「購物籃分析」。
想像一下，有一個交易資料庫 $T$ $=$ {$T_1, T_2, …, T_m$}，即含有 m 筆交易數據。我們另外定義 $I$ 是一個含有 n 個商品的集合，則這每筆交易數據 $T_i$ 都應含有 I 的子集的商品。
關聯性規則的判斷非常有趣，第一個定義為 「support」，第二個定義為 「confident」，如定義  3.3.1及定義 3.3.2。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466778453461_+2016-06-24+10.19.11.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466778453466_+2016-06-24+10.19.23.png
"width="100%" height="100%" /&gt;&lt;br /&gt;
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466778804860_+2016-06-24+10.27.20.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;我們直接看到定義3.3.3，要符合關聯性規則，必須滿足兩點個條件：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;$X, Y$ 分別為 I 的子集，如果 $P(X\lor Y)$ 大於自定義的最小support值
    舉例來說，我們自定義support值最小為.2，則 {麵包、奶油} 和 {牛奶} 同時發生的筆數佔所有筆數 的比例 $&amp;gt; .2$ 則成立。&lt;/li&gt;
&lt;li&gt;$X, Y$ 分別為 I 的子集，如果 $P(Y|X)$ 大於自定義的最小confidence值
    舉例來說，我們自定義confidence值最小為.6，則在發生{麵包、奶油} 的筆數中，同時發生 {牛奶}的比例 $&amp;gt; .6$ 則成立。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;商業應用：  &lt;/p&gt;
&lt;p&gt;「YD 已經購買了奶油和麵包，根據符合資料庫計算的關聯性規則，發現奶油和麵包出現後，應該要推薦 YD 買牛奶。」&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;關聯性規則特別適用於 unary ratings 矩陣（數值只有 0 或 1），其實應該說是購物行為的資料就是 unary ratings，而關聯性規則就是要處理這種屬性的資料。因此在屬於 unary ratings matrix 中若出現缺值，直接補上 0 非常合理且不被詬病的方式（其他的矩陣用 0 補缺值會造成極大的偏誤產生）。
實作 Rule-Based Collaborative Filtering 的第一步，就是先調配自定義的 support 和 confidence 找出所有的關聯性規則。（此時的 support 和 confidence 是參數），因此只要某個顧客A產生了一筆交易數據，就可以馬上匹配所有關聯性規則，找出其他可能購買的清單列表。
這裏可能會疑惑，有沒有可能關聯性規則能反過來避免推薦不喜歡的東西？假如有個少選項、或少數值所形成的矩陣（例如 {-1,0,1} 或 {不喜歡、普通、喜歡}），這時我們就可以在物件清單多貼一個標籤，例如{item = 牛奶, tag = 不喜歡}、{item = 牛奶, tag = 喜歡}，這時這兩個「牛奶」就可以視為「不同的商品」，然後再依循的關聯性規則來做判斷。不過這時又會出現一個問題，那就是當 Andy 購買了 {麵包、奶油}，推薦系統會排序給予推薦的商品，此時可能都會推薦 {item = 牛奶, tag = 不喜歡}、{item = 牛奶, tag = 喜歡}，有個簡單的做法就是將 top-k 的推薦的清單去做多數決投票，端看 {item = 牛奶, tag = 不喜歡}、{item = 牛奶, tag = 喜歡} 誰佔大宗了！&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Naive Bayes Collaborative Filtering&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;貝氏協同過濾適合小量的間斷數值型態的資料（例如：{0, 1, 2}），也可將其視作類別型態的資料。貝氏模型主要用來做分類，不過在協同過濾的框架下使用貝氏模型的最大挑戰，就是任何的特徵（feature，即 item），都可被看作是被分類的對象。
設想一個情境， u 個用戶對 I 集合中的 n 個物件評分為 {$v_1, v_2, v_3,…, v_l$}， $r_{uj}$ 表用戶i 對 物件j的評分。
根據貝氏定理：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466815624567_+2016-06-25+8.46.47.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;將式子改寫成：
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466815679006_+2016-06-25+8.47.32.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;又因右式的分母為已知評分的邊際機率，可以忽略化簡成：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466815853908_+2016-06-25+8.50.39.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;$P(r_{uj} = v_s)$ 為 Prior probabilities，$P(Observed ratings in I_u | r_{uj} = v_s)$ 為 Likelihood。這裡有個假設，那就是評分彼此是獨立的，因此可以將 Likelihood改寫成：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466818537892_+2016-06-25+9.35.26.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;整條式子就會變成，&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466818575204_+2016-06-25+9.36.04.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;而我們的預測值就會是，所有可能的分數中，最大概率的那個值：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466818625703_+2016-06-25+9.36.27.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;然而因為稀疏矩陣的關係，無論是計算$P(r_{uj} = v_s)$ 為 Prior probabilities，$P(Observed ratings I_u | r_{uj} = v_s)$ 為 Likelihood，很可能都是一堆0的值，為了解決這個問題，拉普拉斯平滑 (Laplacian Smoothing) 可以解決這樣的問題：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466818833697_+2016-06-25+9.40.15.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;不僅$P(r_{uj} = v_s)$ 需要在分子、分母加上參數。$P(Observed ratings I_u | r_{uj} = v_s)$ 也是同樣的做法。當 $\alpha$ 越大 ，越平滑，換句話說，原本的資料影響力就越小。
R腳本如下：
&lt;pre&gt;
&amp;#35;naive bayes
set.seed(1125)
(raw &amp;lt;- matrix(sample(c(NA,1:3),20,replace = T),4,5))
&amp;#35;if we want to predict r_(4,2)
&amp;#35;p(r_(4,2) = 1|observed) = prior * likelihood = 0 * likelihood = 0
&amp;#35;p(r_(4,2) = 2|observed) = 1/2 * (1/1 * 0/1 * 1/1 * 0/1)
&amp;#35;p(r_(4,2) = 3|observed) = 1/2 * (0/1 * 0/1 * 1/1 * 0/1)
&amp;#35; laplacian smoothing
l &amp;lt;- .5
alpha &amp;lt;- .3
&amp;#35;p(r_(4,2) = 2|observed) =
p4.2Eq2 &amp;lt;- (1+alpha)/(2+l&lt;em&gt;alpha) * (1+alpha)/(1+l&lt;/em&gt;alpha) * (0+alpha)/(1+l&lt;em&gt;alpha) * (1+alpha)/(1+l&lt;/em&gt;alpha) * (0+alpha)/(1+l&lt;em&gt;alpha)
p4.2Eq3 &amp;lt;- (1+alpha)/(2+l&lt;/em&gt;alpha) * (0+alpha)/(1+l&lt;em&gt;alpha) * (0+alpha)/(1+l&lt;/em&gt;alpha) * (1+alpha)/(1+l&lt;em&gt;alpha) * (0+alpha)/(1+l&lt;/em&gt;alpha)
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Using an Arbitrary Classification Model as a Black-Box&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;除了上述兩種方法，一般現成的model也可以用來填補缺值。做法可以用迭代的方式來填補並更新缺值。第一步先將矩陣轉成 row (column) -centering mean。再來就先固定某一 column作為依變項，其他列為獨變項，算出來的預測值，填補至原本的缺值的位置（0的位置）。接著再依序將其他的column重複此步驟，簡言之， n 個 column 就要有 n 次的 training procedure，跑完後才算為一次的迭代。
以 regression model 為例，R腳本如下：
&lt;pre&gt;
&amp;#35;3.5 updating ratings matrix with regression model
set.seed(1122)
raw &amp;lt;- matrix(sample(c(0:3),40,replace=T),10,4) # assume 0 means centered by rows
&amp;#35;example 1: only raw[,4] as the target variable
y &amp;lt;- raw[,4]
x &amp;lt;- raw[,1:3]
results &amp;lt;- lm(y ~ x) #regression
w &amp;lt;- as.matrix(results$coefficients[2:length(results$coefficients)]) #weight
y.hat &amp;lt;- x %*% w + results$coefficients[1] &amp;#35;prediction
raw[which(y==0),4] &amp;lt;- y.hat[which(y==0)] &amp;#35;replace shaded entries with predictions
rm(raw,y.hat,w,result,x,y)
&amp;#35;example 2: let raw [,41:3] as the target variable with 4 training procedures in the first iteration
set.seed(1122)
raw &amp;lt;- matrix(sample(c(0:3),40,replace=T),10,4) # assume 0 means centered by rows
check &amp;lt;- raw &amp;#35;compare to raw
  for(targetCol in 1:ncol(raw)){
    y &amp;lt;- raw[,targetCol]
    x &amp;lt;- raw[,-targetCol]
    results &amp;lt;- lm(y ~ x) #regression
    w &amp;lt;- as.matrix(results$coefficients[2:length(results$coefficients)]) #weight
    y.hat &amp;lt;- x %*% w + results$coefficients[1] #prediction
    raw[which(y==0),targetCol] &amp;lt;- y.hat[which(y==0)] # replace shaded entries with predictions
  }
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Neural Network as Black-Box&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;神經網絡也可以用來做迭代更新模型的方法，同樣以簡單回歸為例， W 為權重， X 為輸入，b為截距項，Z 為輸出（預測值）：
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466820177710_+2016-06-25+10.02.46.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;更新權重的方式：
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466820239581_+2016-06-25+10.03.34.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;$\alpha$ 為大於 0 的值， learning rate 也是 step size 。 t 為第 t 次的迭代。
R腳本如下：
&lt;pre&gt;
&amp;#35;one-dimension:Qlearning
i &amp;lt;- c(1,5,6,3,4) #input
w &amp;lt;- c(.2,.4,.1,.7,.5) #coe weight
o &amp;lt;- i * w&lt;/p&gt;
&lt;p&gt;alpha &amp;lt;- 1
w_new &amp;lt;- w - alpha * (i-o) * i
o2 &amp;lt;- i * w_new
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Latent Factor Models&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;潛在類別模型的想法是將原本的評分矩陣的維度進行去蕪存菁的動作，使得資料維度減少，只利用些許的潛在因子作為表徵。常見的方法有主成份分析 (Pricipal Component Analysis)、奇異值分解 (Singular Value Decomposition)等。
我們來圖解一下潛在類別模型的意義，這裡使用奇異值分解作為範例 （原因是將因子向量為正交，彼此垂直比較好畫圖）。
設想一個情境，所有的用戶對於 Nero, Gladiator, Spartacus 三部電影進行評分，所有的評分分數為介於 [-1,1] 的連續值。我們將所有的評分分數化成三維的圖：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466823995589_+2016-06-25+11.06.23.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;從圖中發現，若評分分數都呈正相關，則可以將分數化簡到一個維度向量（1-dimensional line, 又稱為潛在因子）。因此，只要我們知道 Spartacus 的分數（0.5分），就可以將該分數映射到與 Nero, Gladiator 平行的超平面上，得到對應的 Nero, Gladiator 分數，利用這種方式就可以推論未知的條目了。
因此我們可以發現，創建這條潛在因子向量其實不需要 full matrix 就可以得到，只需要少數的點，就可以創建這條向量。
但潛在類別模型的假設是：資料間的評分必須有相關性，否則無法找出合適的潛在類別因子。（不過如果原始評分沒有相關性，那推薦系統根本就沒有用了啊XD）&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Understanding the Matrix Factorization Family&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;上述是以空間維度來說明降維的概念，而實際上為得到潛在因子向量，我們透過 factoriztion 來做運算：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466905083074_+2016-06-26+9.37.51.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;此為通式，左式為評分矩陣，又式為兩個矩陣的乘積，在推薦系統的框架下， U 為用戶的潛在向量、 V 為物件的潛在向量，我們會藉由排序將重要的向量 k 保留， $k &amp;lt;&amp;lt; min${$m,n$} 以達到降維的真實效果，式子會變成：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466905441043_+2016-06-26+9.43.49.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;因為是估計值，所以我們其實可以算出殘差陣列：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466906230055_+2016-06-26+9.44.16.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;$|| R- UV^T||^2$ 表條目中的估計與實際條目的 sum of squares。我們會希望透過利用各種方法 (Objective funtion) 使殘差陣列的數值越小越好，這裡總整列表如下：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466906472746_+2016-06-26+10.00.28.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;R腳本 Q-learning 結果範例
&lt;pre&gt;
&amp;#35;creating full entries matrix with neural network(Q-learning) iteration
set.seed(1122)
raw &amp;lt;- matrix(sample(c(0:3),40,replace=T),10,4) # assume 0 means centered by rows
iraw &amp;lt;- t(raw) #item-based
y &amp;lt;- iraw[4,] #only raw[,4] as the target variable
x &amp;lt;- iraw[-4,]
w &amp;lt;- rep(1/dim(x)[1],dim(x)[2])#uniform default weights
y.hat &amp;lt;- colSums(w*x[1:dim(x)[1],])#sum by column&lt;/p&gt;
&lt;p&gt;alpha &amp;lt;- .05 #set learning rate&lt;/p&gt;
&lt;p&gt;repeat{
  if((sum(y.hat-y)^2) &amp;lt; .01){# sum of square error
    y &amp;lt;- y.hat;print(y); break;
  }
  nextW &amp;lt;- w - alpha * (y-y.hat) * y
  y &amp;lt;- y.hat
  w &amp;lt;- nextW
  y.hat &amp;lt;- colSums(w*x[1:dim(x)[1],])#sum by column
}
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;商業情境&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;如何應用 model-based collaborative filtering 處理 unary matrix ，得到比較好的 full entries matrix 的結果?
以下是我自己的一些心得：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若為explicit Matrix (例如：1–5分)，將其視為 “購買次數” ，若為缺值補 0 表沒購買: Centering to means by row → Update  “0” entries by Regression 並透過 Q-learning model 得到收斂結果→ run Non-negative Matrix Factorization&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;R腳本試算 Update  “0” entries by Regression 並透過 Q-learning model 得到收斂結果
&lt;pre&gt;
&amp;#35;&amp;#35;&amp;#35;Combining Regression adjustion for centering mean with Neural Network iteration
&amp;#35;Run regression model for creating new full matrixs by 4 training procedures in the first iteration
set.seed(1122)
raw &amp;lt;- matrix(sample(c(0:3),40,replace=T),10,4) # assume 0 means centered by rows
&amp;#35;check &amp;lt;- raw #compare to raw
for(targetCol in 1:ncol(raw)){
  y &amp;lt;- raw[,targetCol]
  x &amp;lt;- raw[,-targetCol]
  results &amp;lt;- lm(y ~ x) #regression
  w &amp;lt;- as.matrix(results$coefficients[2:length(results$coefficients)]) #weight
  y.hat &amp;lt;- x %*% w + results$coefficients[1] #prediction
  raw[which(y==0),targetCol] &amp;lt;- y.hat[which(y==0)] # replace shaded entries with predictions
}
&amp;#35;Update full matrix with neural network(Q-learning) iterations
iraw &amp;lt;- t(raw) #item-based
y &amp;lt;- iraw[4,] #only raw[,4] as the target variable
x &amp;lt;- iraw[-4,]
w &amp;lt;- rep(1/dim(x)[1],dim(x)[2])#uniform default weights
y.hat &amp;lt;- colSums(w*x[1:dim(x)[1],])#sum by column&lt;/p&gt;
&lt;p&gt;alpha &amp;lt;- .05&lt;/p&gt;
&lt;p&gt;repeat{
  if((sum(y.hat-y)^2) &amp;lt; .01){
    y &amp;lt;- y.hat;print(y); break;
  }
  nextW &amp;lt;- w - alpha * (y-y.hat) * y
  y &amp;lt;- y.hat
  w &amp;lt;- nextW
  y.hat &amp;lt;- colSums(w*x[1:dim(x)[1],])&amp;#35;sum by column
}
y
&lt;/pre&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若為explicit Matrix (例如：1–5分): Asymmetric Factor Model or SVD++ ，將 matrix 轉成 $[FY]V^T$ (user factors and item factors)&lt;/li&gt;
&lt;li&gt;若為explicit Matrix (例如：1–5分)，將其視為 “購買次數” ，若為缺值補 0 表沒購買， 再用 (3.29) 將購買次數轉換成權重 → run svd&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466908171289_+2016-06-26+10.28.47.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;若為explicit Matrix (例如：1–5分)，將其視為 “購買次數，並以 (3.31) 用相對頻率表示 → run svd → run PLSA&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_5A0D3C2B3F5143859910834F8B5BC254C1DB241DE907F201E8FA2FC9B404D116_1466908190826_+2016-06-26+10.28.56.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;Ref: Aggarwal, C. C. (2016). Recommender Systems: The Textbook. Springer.&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Recommender System"></category><category term="Stat"></category></entry><entry><title>Neighborhood-Based Collaborative Filtering</title><link href="/neighborhood-based-collaborative-filtering.html" rel="alternate"></link><published>2016-08-05T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-05:neighborhood-based-collaborative-filtering.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h2&gt;&lt;strong&gt;Introduction&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;協同過濾可視為「類聚法」或是「回歸」的概化版本（generalization）。Neighborhood-based method的概念源自於 nearest neighbor classification 和 regression，又被稱為「memory-based algorithms」。&lt;/p&gt;
&lt;p&gt;Neighborhood based框架下的假設（核心概念）：&lt;strong&gt;「相似的用戶會有相似的評分行為，且相似的物件會得到相似的評分結果&lt;/strong&gt;」。最主要的兩種演算模型：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;User-Based collaborative filtering: &lt;/strong&gt;基於相似於目標用戶A的用戶們之評分分數，用來預測Ａ的評分，並藉此達到推薦的排序。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Item-Based collaborative filtering: &lt;/strong&gt;基於相似於目標物件B的物件們之被評分數，預測任一目標用戶A對目標物件B的評分。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;為了達成上述的目的，我們建立一m為用戶、n個物件的 user-item ratings matrix（m x n維度）。因為每個用戶的評分資訊很少，往往矩陣為稀疏矩陣。
藉由協同過濾，我們希望得到兩種目標：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;預測user-item矩陣的缺值：即各用戶的評分預測&lt;/li&gt;
&lt;li&gt;決定top-k 物件或是 top-k 用戶：一般又被稱為「top-k problem」。傳統而言，會比較在意尋找top-k 物件而不是top-k 用戶，原因是希望推薦“應該被推薦”的商品給用戶才是商業需求。然而尋求top-k物件也有一些好處，例如可以探索商品的潛在客群為何。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Key properties of Ratings Matrices&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;評分矩陣 (m x n Ratings matrix) 上述介紹過了，因為矩陣中已知的數值所佔的條目 (entry)非常少，為稀疏矩陣。若欲求出尚未擁有數值的條目，就好像是依變項是以條目為單位 (同時含行、列); 另一方面而言類聚法或回歸，通常都只有一個維度為依變項，這也是為何推薦系統又被視為「類聚法」或「回歸」的概化版本。在推薦系統的所分析的原始資料：評分分數(rating)，又有下列幾種型態：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;連續型評分分數：評分的方式可能為一條-10至10分的拉霸，用戶可選擇其中的任一實數，缺點是會讓用戶增加評分上的負擔。&lt;/li&gt;
&lt;li&gt;等距型評分分數：例如李克式5點、7點評分。等距型評分有個很重要的假設，即每個點之間的距離是等距的，舉例來說，-1至1的心理距離和1至3是一樣的。&lt;/li&gt;
&lt;li&gt;次序型評分分數：例如「不同意」、「普通」、「同意」。次序型並沒有距離一樣的假設。但通常推薦系統分析的處理上便利性，還是會當成一樣的。&lt;/li&gt;
&lt;li&gt;二元評分分數：可以看作是等距型和次序型的特例&lt;/li&gt;
&lt;li&gt;單元評分分數：這非常特別，好比說臉書的「按讚」，這類的資訊只抓取用戶的行為(implicit feedback)&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;Predicting Ratings with Neighborhood-Based Methods&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Neighborhood-based methods 的基本原則就是”用戶- 物件矩陣”中利用用戶間相似、物件間相似進行推薦。
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466554484160_+2016-06-22+8.14.30.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;User-Based neighborhood models&lt;/strong&gt;
算矩陣中的相似性有兩種方式 1.&lt;strong&gt;Cosine&lt;/strong&gt; 2.&lt;strong&gt;Pearson&lt;/strong&gt;。舉例來說，我們想要得到Table2.1內user3對於item1, item6 的評分預測，先去算user3與其他用戶間的相似性(row-based Similarity)。舉例來說，user3對於user1的相似性的兩種算法：
我們須得到各用戶的mean rating：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466555288550_+2016-06-22+8.27.56.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;$I_u$ 為該用戶對於所有“已經評分“的物件的集合。舉例user3，他的評分均數為 (3+3+1+1)/4 = 2。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466554935816_+2016-06-22+8.22.01.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;所有對於user3的相似結果在Table2.1最後兩欄，接著我們若選擇top-2 最鄰近user3的兩位user作為預測基準，我們可以得到預測分數如下：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466555077571_+2016-06-22+8.24.23.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;然而這樣的算法儘管已經利用相似性考量其他用戶評分分數的權重，但是仍用其他用戶的原始分數做完基準，這樣會導致預測值容易受到其他用戶決策風格的影響。為減少這樣的狀況，我們可以用centering to mean的方式來解決，也就是所有的原始分數減去user的均數。
因此我們可將上表的數值轉換成：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466555545814_+2016-06-22+8.31.22+1.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;接著再利用上表重算預測值：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466555627827_+2016-06-22+8.33.37.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;上述的預測分數的通式為：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466555929235_+2016-06-22+8.38.38.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;大體而言，經由mean-centering後的偏誤修正，Pearson correlation coefficient會比 raw cosine表現更好。
另外也有做法是利用z分數來估計預測分數：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556148653_+2016-06-22+8.42.07.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556148657_+2016-06-22+8.42.13.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556148660_+2016-06-22+8.42.16.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;利用z分數算法可能會導致所估計的預測值落在實際評分的範圍外，仍被使用的原因是仍可以依照評分大小做物件的排序進行推薦。
另外一種加強權重的方式即在相似性中放一個指數參數放大權重效果：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556366813_+2016-06-22+8.45.41.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556366817_+2016-06-22+8.45.46.png"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;然而多數情況除了原始資料的資料殘缺外，用戶的評分可能集中在少數的幾個物件上，而導致長尾現象：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556563584_+2016-06-22+8.49.09.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;這樣一來產生一個問題：用「受歡迎」的物件來對「鮮為人知」的物件進行評分有失準度的，這些過多的受歡迎評分就好比文本分析的無用字詞（例如「的」、「他」、「是」）。因此處理方式類似 Inverse Document Frequency (idf) ：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556790005_+2016-06-22+8.52.32.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;$m_j$ 為物件 $j$ 被評次數，$m$為總評次數。藉此我們就能將預測公式修改成：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466556887230_+2016-06-22+8.54.34.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Item-Based Neighborhood Models&lt;/strong&gt;
算法的邏輯類似 User-Based Neighborhood Models：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466557145945_+2016-06-22+8.58.53.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;乍看之下很類似Pearson Correlation，但不同的地方在於$S_{uj}$是row-based centering mean，即「用戶」的評分均數，item-base最基本的概念最終是用到&lt;strong&gt;「該用戶」自己的評分分數對相似的物件進行評分預測&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466557613532_+2016-06-22+9.06.26.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;我們目標是希望對目標用戶user3進行物件推薦，因此必須得出item1, item6的預測值。
首先先得出row-based centering mean，然後再去算item1、item6與其他物件間的相似，結果如下表的倒數兩列。若是top-2 最鄰近item的想法，可得item1和item2,3有較高的相似; item6和item4,5有較高的相似，最後我們再用&lt;strong&gt;user3的原始評分分數 &lt;/strong&gt;（item-based的核心概念）作為基準得到預測值：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466557987181_+2016-06-22+9.12.56.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;若比User-based 和 Item-based兩種算法，Item-based methods往往會推薦比較相關的物件，且比較準確，原因是最後的預測分數用到的是「該用戶」自己的評分。Item-based methods還有個好處，就是推薦的同時，可以&lt;strong&gt;呈現比較具體的理由&lt;/strong&gt;，例如 Netflix 會說，因為你看了 Alien ，所以我們推薦你 Predator。若User-based要呈現推薦理由的話，因為預測分數的基準來自其他匿名用戶，若要呈現理由，可以利用圖表：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466558840444_+2016-06-22+9.27.07.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;然而，反過來說，Item-based的也容易推薦一些常見的物件，難以推薦「新穎的」物件。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;雖然上述兩種算法非常直觀，但缺陷是計算效率的問題，時間複雜度太高。Neighborhood-based methods又可拆成兩個階段: 離線與線上階段。離現階段是要計算用戶間相似（物件間相似），以及預備top-k的臨近用戶（物件）。線上階段則是算出預測值。而neighborhood-based methods計算上的困難往往卡在離線階段。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Clustering and Neighborhood-Based Methods&lt;/strong&gt;
因為計算效率的問題，所以我們在離線階段，將原本的 nearest-neighborhood computation 改為 clustering computation。實際做法和clustering analysis相似：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;先在每個row決定群集$c_1$,…$c_k$，表徵 均數 $y_i$。 可用歐幾里德或曼哈頓距離來算相似&lt;/li&gt;
&lt;li&gt;對所有的$i$ $in$ { $1..k$ }，重設均數 $y_i$ 重新計算新的中心點。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最大的問題是矩陣是稀疏矩陣，資料殘缺不全，計算點之間的距離會較困難，在這樣的情況下，比較建議用曼哈頓距離來計算。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Dimensionality Reduction and Neighborhood Methods&lt;/strong&gt;
降維也是一個提升neighborhood-based methods 品質和效能的方法。降維的目的是將原始的用戶-物件矩陣降到低維度，利用潛在變項作為表徵，這樣的降維方法指的即「潛在變項模型」(Latent Factor Model)。降維方法的好處是即使兩用戶沒有太多共同的評分物件，仍可以算出彼此間的潛在向量。將為方式可以有兩種，第一種是根據行或列的單維度降維，另外一種是同時行列的降維。因為後者非屬於Neighborhood based methods，在此不討論。降維方法的另外一個好處是維度上並不會有缺值的情形。一般而言降維的方法可用SVD-like methods 或是 PCA ，我們以 SVD-like作為說明。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Singular Value Decomposition-Like&lt;/strong&gt;
以下為實作方式&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;必須先把缺值補齊 （這裏會有偏誤，之後會講），一般做法就是填入 row-based mean 或是 column-based mean。&lt;/li&gt;
&lt;li&gt;如果有個m x n 的評分矩陣R，我們先計算 $S = R^T \cdot R$，&lt;/li&gt;
&lt;li&gt;接著計算$S$之特徵值與特徵向量，並依照特徵值的大小排序，取出前d個特徵值$val_d$，標準為 $d$ $&amp;lt;=$ $min${$m,n$}，並得到對應的特徵向量$vec_d$&lt;/li&gt;
&lt;li&gt;$S \cdot vec_d$ 就會是m x d的矩陣，表示每個用戶都用這d維度來表示了。&lt;/li&gt;
&lt;li&gt;可以用下面的R 腳本來理解。
&lt;pre&gt;
r &amp;lt;- matrix(sample(10,500,replace=T),100,5) #create matrix
s &amp;lt;- t(r) %*% r
vec &amp;lt;- eigen(s)$vectors
val &amp;lt;- eigen(s)$values
newR &amp;lt;- r %*% vec[,1:2] #d = 2
&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;p&gt;PCA和SVD概念相似，只是PCA利用的是共變矩陣而不是 $R^T \cdot R$。
&lt;a href="https://www.ling.ohio-state.edu/~kbaker/pubs/Singular_Value_Decomposition_Tutorial.pdf" target="_blank"&gt;SVD文件參考連結&lt;/a&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;上述實作步驟1.會產生偏誤，下述為原始矩陣：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466562227171_+2016-06-22+10.23.31.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;首先依照步驟1. 根據row-based 算出Nero的均數 (1+7+1+7)/4 = 4，因此缺值接以4取代。以PCA來說，因為算的是共變矩陣，會得到：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466562330111_+2016-06-22+10.25.18.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;理論上Gladiator和Nero的共變應比高Nero和Godfather高，但因為補上均數的關係，造成資料偏誤。但當稀疏矩陣實在太過稀疏時，利用上述方法的估計值來填補缺值是非常不可信的。利用Expectation-Maximization Algorithm (EM-Algorithm)降低偏誤會變成是個很好的辦法。EM-Algorithm如來估計共變矩陣。因此在計算共變矩陣時，缺值應該先不補，而是在算共變時只計算物件間已有評分的交集：  &lt;/p&gt;
&lt;pre&gt;
&amp;#35;handling the bias
god &lt;- c(1,7,3,5,3,5,3,5,3,5,3,5)
gla &lt;- c(1,7,1,7,1,7,1,7,1,7,1,7)
nero &lt;- c(1,7,1,7)
fillin &lt;- cov(gla[1:4],nero[1:4])
fillin &lt;- cov(god[1:4],nero[1:4])
&lt;/pre&gt;

&lt;p&gt;再將結果補回共變矩陣：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466562638440_+2016-06-22+10.30.27.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;我們可以利用這種不補值的方式得到上述的共變矩陣，接著可以利用這個共變矩陣萃取出特徵值和特徵向量，已達到原始評分矩陣降維的效果：
實作方式為：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;根據共變矩陣得到特徵向量和特徵值&lt;/li&gt;
&lt;li&gt;依照特徵值的大小排列特徵向量_d，只取出 top-d&lt;/li&gt;
&lt;li&gt;在此需借用2.17公式，此公式只是將原始的矩陣相乘，忽略缺值的計算。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466589860108_+2016-06-22+6.04.04.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;參考R的實作腳本  &lt;/p&gt;
&lt;pre&gt;
&amp;#35;handling the bias
god &lt;- c(1,7,3,5,3,5,3,5,3,5,3,5)
gla &lt;- c(1,7,1,7,1,7,1,7,1,7,1,7)
nero &lt;- c(1,7,1,7,NA,NA,NA,NA,NA,NA,NA,NA)

fillin1 &lt;- cov(gla[1:4],nero[1:4])
fillin2 &lt;- cov(god[1:4],nero[1:4])
adjustedCov &lt;- matrix(c(cov(god,god),cov(god,gla),fillin2,cov(god,gla),cov(gla,gla),fillin1,fillin2,fillin1,fillin1),3,3)

&amp;#35;2.17
df &lt;- data.frame(god,gla,nero)
raw &lt;- as.matrix(df)
m&lt;- adjustedCov
s &lt;- t(m) %*% m
(vec &lt;- eigen(s)$vectors)
val &lt;- eigen(s)$values
#calculate a_(12,3) for example
u=12
i=3
a_12.3 &lt;- (raw[u,c(1:length(which(!is.na(raw[u,]))))] %\*% vec[c(1:length(which(!is.na(raw[u,])))),i]) / length(which(!is.na(raw[u,])))
&amp;#35;calculate m x d matrix A = [a_(ui)]m x d
tempdf &lt;- data.frame()
for(u in 1:nrow(raw)){
  tempRow &lt;- c()
  for(i in 1:ncol(vec)){
    tempVal &lt;- (raw[u,c(1:length(which(!is.na(raw[u,]))))] %\*% vec[c(1:length(which(!is.na(raw[u,])))),i]) / length(which(!is.na(raw[u,])))
    tempRow &lt;- c(tempRow,tempVal)
  }
  print(tempRow)
  tempdf &lt;- rbind(tempdf,tempRow)
  rm(tempRow)
}
&lt;/pre&gt;

&lt;hr /&gt;
&lt;p&gt;上述方法雖然可以解決共變矩陣偏誤的狀況，但如果還是太稀疏的話，仍是不可信的。這時可採取Direct Matrix Factorization methods如 singular value decomposition，若步驟1.的缺值透過非線性最佳化取得會讓模型表現更好。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Regression model view of Neighborhood Methods&lt;/strong&gt;
我們可將user-based nearest neighborhood 和 item-based nearest neighborhood 的公式視為現性函數：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466564445158_+2016-06-22+11.00.33.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466564471187_+2016-06-22+11.00.59.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;以user-based nearest neighbor regression為例，我們將權重改為未知的參數改寫上述的公式：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466564673368_+2016-06-22+11.04.21.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;公式2.20或2.21計算鄰近的k個用戶或物件因為是有值的 (top-k)。但因為 regression 的方式是先決定k個最近的用戶（物件），再去將「已經評分的」計入回歸式中，因此k的數量比會大幅減少。又因為w是估計值，因此 $w_{uv}$ 和 $w_{vu}$ 的係數值可能不同。
檢驗回歸式的方式可用最小平方法。實際作法只去計算「已知的評分」與「預測的評分」：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466565139821_+2016-06-22+11.12.09.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;不過因為回歸式容易受到「”用戶的數量” 對於 item_j 的評分」的影響。比如說$user_u$ 評了電影A和電影B，除了$user_u$外，其他人都評了電影A，但只有一人（姑且稱做$user_x$）評了電影B，此時$user_x$對於建立模型的係數影響非常大，導致模型的不可信。因此我們必須稀釋這樣極端的效果：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466565868157_+2016-06-22+11.24.17.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;k為總人數，$|P_{u}(j)|$為 $item_j$ 被評次數。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;另外一種常見的調整方式為：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566030536_+2016-06-22+11.26.57.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;加入一個未知的”偏誤參數”$b_u$。但要特別注意，此時的模型已為非線性模型。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;除了加入參數 user bias ，也可以結合 item bias：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566397137_+2016-06-22+11.33.07.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Item-based nearest neighbor Regression也是類似的作法，將2.21的公式改為：
&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566270215_+2016-06-22+11.31.01.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;檢驗模型及預測調整類似於 user-based regression：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566758369_+2016-06-22+11.38.49.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566758377_+2016-06-22+11.38.56.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566758382_+2016-06-22+11.39.01.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;上述的兩種回歸式仍面臨和傳統的 neighborhood-based 一樣的問題，那就是計算效率的狀況。回歸式比較適合應用於當&lt;strong&gt;物件時常被更新，而用戶的狀態比較穩定的狀態&lt;/strong&gt;的場景。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;另外，同時結合 user-based 和 item-based方法的公式為：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466566888933_+2016-06-22+11.41.18.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Joint neighborhood-based model&lt;/strong&gt;
還有其他的方法計算相似性的權重，基於公式2.22，但不再以用戶間對於同一物件的評分比較，而是以該用戶對於其他物件的評分作為比較：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466567193128_+2016-06-22+11.46.18.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466567410743_+2016-06-22+11.49.51.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Sparse Linear Models (SLIM)&lt;/strong&gt;
此模型是基於 item-item 回歸方法，特色是處理 非負數值的評分。也因此它並不能做 cetering-mean（否則會有負值產生）。也因為這個特色，它&lt;strong&gt;特別適合處理單元評分 unary ratings （implicit feedback）&lt;/strong&gt;，例如臉書按讚這類型的資料：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466567672169_+2016-06-22+11.54.21.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;此公式和2.27最大的不同是，不只計算交集的部分，而是所有的 item 都進去建模了。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466567799723_+2016-06-22+11.56.23.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466567902821_+2016-06-22+11.58.06.png
"width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Graph models for neighborhood-based methods&lt;/strong&gt;
利用圖模型可以呈現用戶與物件間彼此連結的狀況，一般常見的方式為 隨機路徑 (random-walk) 或是最短路徑 (shorest-path methods)。
圖模型的優點為不需要兩用戶的直接連結（例如共同評分的物件），可以藉由間接的關係，如兩用戶的最短路徑來表示用戶間的關係（方法可能為 隨機路徑或是 Katz measure）。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Neighborhoods with the random walk&lt;/strong&gt;
以 random walks 來得出user-item graph為例：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466568459535_+2016-06-22+12.06.23.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;左邊為原始評分，右邊則為圖模型的結果。這裏只計算連結數，而不考慮數值&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Neighborhoods with the Katz measure&lt;/strong&gt;  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466568618921_+2016-06-22+12.09.51.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;$n_{ij}^{(t)}$表示節點 $i$, $j$ 之間長度 $t$ 的數量，$\beta$ &amp;lt; 1 為一discount自定義參數 (discount factor)。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466569234923_+2016-06-22+12.19.43.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;$A$ 為 節點間的非間接網絡矩陣（對稱矩陣），可以依照上述的公式得到 Katz 係數矩陣。
&lt;pre&gt;&lt;/p&gt;
&lt;h1&gt;2.35&lt;/h1&gt;
&lt;p&gt;m &amp;lt;- matrix(c(1,4,4,1),2,2)
beta &amp;lt;- 0.5
k &amp;lt;- solve(diag(2)-beta*m)-diag(2)#solve(A) Inverse of A where A is a square matrix.
&lt;/pre&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;一般而言我們可以設定設定最長路徑 閾值，因為過長的路徑反而是資訊上的干擾。
特別注意的是，Katz measure 只用於計算用戶間的關係，而不同於先前提到的neighborhood methods，這裡是去的資訊是用戶和物件的連結數，屬於 path-based methods。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;User-User Graphs&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Item-Item Graphs&lt;/strong&gt;
物件間的圖模型又被稱為「Correlation graph」：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_39D2AC82C016C8120D83D40BB5D925FFA1C5CB6AFB5B8CC22ED85B26D6BFBED8_1466570275000_+2016-06-22+12.37.41.png
"width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;(a)為原始資料
(b)為未正規化的相關圖譜，計算方式是同一用戶同時評了 $item_i$ 和 $item_j$，這樣算成 $item_i$ 和 $item_j$一筆。若同一用戶同時評了三個物件，則會有三個連結產生。最後再去加總 $item_i$,$item_j$之間的連結數。
(c)正規化的相關圖譜，計算方式則是將連結數除上「該節點輸出」的數量，此正規化的結果可視為隨機路徑的機率。
這邊一樣要提醒路徑圖譜並沒有用到評分的數值。  &lt;/p&gt;
&lt;p&gt;Ref: Aggarwal, C. C. (2016). Recommender Systems: The Textbook. Springer.&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Recommender System"></category><category term="Scala"></category></entry><entry><title>An Introduction to Recommender Systems</title><link href="/an-introduction-to-recommender-systems.html" rel="alternate"></link><published>2016-08-04T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-04:an-introduction-to-recommender-systems.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h2&gt;前言&lt;/h2&gt;
&lt;p&gt;網路已成為電商交易間的發展推薦系統的工具。比較常見的兩種方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;典型的方法就是靠用戶的評分 (explicit ratings)&lt;/li&gt;
&lt;li&gt;追蹤用戶的「購買」、「瀏覽」行為進行 (implicit ratings)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;推薦系統的最大目的就是利用各種資料來源推論消費者的興趣、嗜好。又可分為兩種問題的解法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Prediction version of problem: 假設整個資料是由m個user對n個item的評比，然而這張m x n的大型陣列中必含一大堆的缺值，而這個問題則是在處理item-user combination中對於缺值做預測的 ，因此又稱為「matrix completion problem」。&lt;/li&gt;
&lt;li&gt;Ranking version of problem: 但在實際中，我們對於預測的數值並不是那麼感興趣，站在賣方的角度，他們在意的是推薦top-k items於特定用戶或是反過來找出top-k用戶於特定產品。(但實際上而言，決定top-k items的例子是廣泛用於業界。)此又被稱為「top-k recommendation problem」&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;p&gt;推薦系統最直接的實際效用就是增加業主的銷量，間接帶來豐厚的利潤。為達到這樣的效果，好的推薦系統應包含下列四種特性：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;關聯性 (Relevance)：這是最直觀的特性，也就是推薦相關的產品給用戶。但只有關聯性是絕對不足以構成好的推薦系統。&lt;/li&gt;
&lt;li&gt;新穎性 (Novelty)：推薦用戶從沒看過的產品。舉例來說，在你家樓下開一間印度料理，方圓百里可能都沒有任何一間印度料理，雖然沒看過但也不會覺得特別奇怪，因為你知道印度料理有名的是香料或是咖哩。打破新穎性的方式就是不斷重複推薦用戶。但重複推薦的副作用則是會降低產品的歧異度(reduction in sales diversity)。&lt;/li&gt;
&lt;li&gt;機運 (Serendipity)：很類似新穎性，但差別在於要推薦的產品對於用戶來說是非常意外，感到驚奇的。例如在你家樓下開一間巴塔哥尼亞鴕肉燒烤店，這時你不僅沒看過，而且還會帶有好奇驚艷的情緒，那這就是機運的精髓了。&lt;/li&gt;
&lt;li&gt;增加推薦的歧異度 (Increasing recommendation diversity)：這點非常重要，當推薦系統發出一份top-k items的推薦表單給用戶，若這些產品性質非常雷同，那用戶可能完全不買帳。反過來說，當這些產品異質性較高的情況下，用戶很高的機率至少會選擇一項產品。歧異度可以延長用戶的新鮮感，並對推薦系統所推薦的商品也比較能接受。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h2&gt;推薦系統運用的商業實例&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;GroupLens: 推薦系統的先驅，源自於Usenet news文章推薦的原型。&lt;/li&gt;
&lt;li&gt;Amazon.com: 也是推薦系統的先驅之一，將推薦系統應用於書籍、CD片、軟體、3C產品的推薦，他們除了利用五點量表評分外，也去洞察會員於網頁上的瀏覽、購物行為&lt;/li&gt;
&lt;li&gt;Netflix: Netflix早期為數位DVD的出租公司，最後發展成電影、電視劇的串流式傳輸服務。Netflix也是用到會員對於電影的五點量表評分。Netflix有個非常好的特點，就是在推薦電影給會員時，會同時解釋推薦的原因。幫助會員了解為何會推薦給我這系列的電影(或是「為何我會喜歡這類的電影」)。&lt;/li&gt;
&lt;li&gt;Facebook: 臉書的推薦並不是一般的商品，而是利用推薦系統來預測用戶的社會網絡連結的強度 (link prediction)。這類型的推薦系統並不是依照評分資料，而是去分析網絡中的結構關係。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;推薦系統的基本架構模型&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Collaborative Filtering Models&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Memory-based methods&lt;/strong&gt;: Neighborhood-based collaborative filtering algorithms&lt;ul&gt;
&lt;li&gt;User-based collaborative filtering&lt;/li&gt;
&lt;li&gt;Item-based collaborative filtering&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Model-based methods&lt;/strong&gt;: Decision trees, rule-based models, Bayesian methods and latent factor models.&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Content-Based Recommender Systems&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;對item 或 user進行標籤化。多了更多的標籤就可以推薦類似的產品  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Knowledge-Based Recommender Systems&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;當item的 attributes過多的情況下，很難知道user是不是只對特定的attribute有興趣。此時knowledge-base 推薦系統倚賴的並不是ratings，而是針對user的requirement以及attribute匹配的程度來做推薦  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img class='shaped' src="https://d2mxuefqeaa7sj.cloudfront.net/s_8F1BDAC0AB2A7431BF178DAAB848C47EFCC9A12356A4C1846E15230BCCBADC55_1466041694489_+2016-06-16+9.47.44.png
"
width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;hr /&gt;
&lt;ul&gt;
&lt;li&gt;The Cold-Start Problem&lt;/li&gt;
&lt;li&gt;推薦系統的其中一個挑戰就是最開始的資料還不夠龐大，若用Collaborative Filtering Models估算會有很大的誤差。因此最開始可以採用Content-Based或是Knowledge-Based Recommender Systems (雖然說這兩種也不一定一直是最適切的)  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ref: Aggarwal, C. C. (2016). Recommender Systems: The Textbook. Springer.&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Recommender System"></category><category term="Stat"></category></entry><entry><title>Scala.js Tutorial</title><link href="/scalajs-tutorial.html" rel="alternate"></link><published>2016-08-04T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-04:scalajs-tutorial.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h1&gt;&lt;strong&gt;Setup&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;project/plugins.sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;addSbtPlugin(&amp;quot;org.scala-js&amp;quot; % &amp;quot;sbt-scalajs&amp;quot; % &amp;quot;0.6.10&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;build.sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enablePlugins(ScalaJSPlugin)
name := &amp;quot;Scala.js Tutorial&amp;quot;
scalaVersion := &amp;quot;2.11.7&amp;quot; // or any other Scala version &amp;gt;= 2.10.2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;並確認 &lt;code&gt;project/build.properties&lt;/code&gt;  中的版本&amp;gt;=0.13.7&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;&lt;strong&gt;建立JSApp流程:&lt;/strong&gt;&lt;/h1&gt;
&lt;h2&gt;&lt;strong&gt;使用JSApp&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;src/main/scala/tutorial/webapp/TutorialApp.scala&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;tutorial&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;webapp&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scala.scalajs.js.JSApp&lt;/span&gt;

&lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="n"&gt;TutorialApp&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;JSApp&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello world!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接著在 sbt 下 執行：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://d2mxuefqeaa7sj.cloudfront.net/s_D24D3C2C3895B9053E69C419D5837FCA86099592C01818C4075EEAE89C158688_1469092459576_+2016-07-21+5.13.45.png
" width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D24D3C2C3895B9053E69C419D5837FCA86099592C01818C4075EEAE89C158688_1469092526623_+2016-07-21+5.15.10.png
" width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;p&gt;作者建議用 Node.js 解釋器，將 &lt;code&gt;build.sbt&lt;/code&gt; 加入下列指令&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;scalaJSUseRhino in Global := false
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;建立html模板&lt;/strong&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;The Scala.js Tutorial&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="c"&gt;&amp;lt;!-- Include Scala.js compiled code --&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/scala-js-tutorial-fastopt.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="c"&gt;&amp;lt;!-- Run tutorial.webapp.TutorialApp --&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nx"&gt;tutorial&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;webapp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;TutorialApp&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nx"&gt;main&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
  &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2&gt;&lt;strong&gt;生成 JS File&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D24D3C2C3895B9053E69C419D5837FCA86099592C01818C4075EEAE89C158688_1469093258759_+2016-07-21+5.27.27.png
" width="100%" height="100%" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;&lt;strong&gt;實作1: 使用DOM&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;project/plugins.sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;logLevel := Level.Warn
addSbtPlugin(&amp;quot;org.scala-js&amp;quot; % &amp;quot;sbt-scalajs&amp;quot; % &amp;quot;0.6.10&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;build sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enablePlugins(ScalaJSPlugin)

name := &amp;quot;basicScalajs&amp;quot;

version := &amp;quot;1.0&amp;quot;

scalaVersion := &amp;quot;2.11.8&amp;quot;

scalaJSUseRhino in Global := false//Rhino is terribly slow. This will enable Node.js by default when launching sbt.

libraryDependencies += &amp;quot;org.scala-js&amp;quot; %%% &amp;quot;scalajs-dom&amp;quot; % &amp;quot;0.9.0&amp;quot; //%%% means not a normal Scala library
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;src/main/scala/tutorial/webapp/TutorialApp.scala&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;tutorial&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;webapp&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scala.scalajs.js.JSApp&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.scalajs.dom&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;dom.document&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scala.scalajs.js.annotation.JSExport&lt;/span&gt;

&lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="n"&gt;TutorialApp&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;JSApp&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;appendPar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;targetNode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;dom&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Node&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;parNode&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;document&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;createElement&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;p&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;textNode&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;document&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;createTextNode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;parNode&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;textNode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;targetNode&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;appendChild&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;parNode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="nd"&gt;@JSExport&lt;/span&gt; &lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;making&lt;/span&gt; &lt;span class="n"&gt;scala&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;js&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt; &lt;span class="nb"&gt;callable&lt;/span&gt; &lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;JS&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;addClickedMessage&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;appendPar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;document&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;You clicked the button!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;appendPar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;document&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;body&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接著在sbt 依序執行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;reload&lt;/span&gt;&lt;span class="x"&gt; //重新執行sbt&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;run&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;fastOptJS&lt;/span&gt;&lt;span class="x"&gt;   //重新編譯js檔，但如果每次一有更動就要輸入嫌麻煩的話，執行 ~fastOptJS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;根目錄下放置一個 html file（命名任意）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;The Scala.js Tutorial&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;button&lt;/span&gt; &lt;span class="na"&gt;id&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;click-me-button&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;button&amp;quot;&lt;/span&gt;
        &lt;span class="na"&gt;onclick&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;tutorial.webapp.TutorialApp().addClickedMessage()&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;Click me!&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;button&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!--Include Scala.js compiled code--&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/basicscalajs-fastopt.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Run tutorial.webapp.TutorialApp --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="nx"&gt;tutorial&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;webapp&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;TutorialApp&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nx"&gt;main&lt;/span&gt;&lt;span class="p"&gt;();&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h1&gt;&lt;strong&gt;實作2: 使用jQuery&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;project/plugins.sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enablePlugins(ScalaJSPlugin)

name := &amp;quot;basicScalajs&amp;quot;

version := &amp;quot;1.0&amp;quot;

scalaVersion := &amp;quot;2.11.8&amp;quot;

scalaJSUseRhino in Global := false//Rhino is terribly slow. This will enable Node.js by default when launching sbt.

libraryDependencies += &amp;quot;org.scala-js&amp;quot; %%% &amp;quot;scalajs-dom&amp;quot; % &amp;quot;0.9.0&amp;quot; //%%% means not a normal Scala library

//jqueryVersion
libraryDependencies += &amp;quot;be.doeraene&amp;quot; %%% &amp;quot;scalajs-jquery&amp;quot; % &amp;quot;0.9.0&amp;quot;

skip in packageJSDependencies := false
jsDependencies +=
  &amp;quot;org.webjars&amp;quot; % &amp;quot;jquery&amp;quot; % &amp;quot;2.1.4&amp;quot; / &amp;quot;2.1.4/jquery.js&amp;quot;

jsDependencies += RuntimeDOM
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;src/main/scala/tutorial/webapp/TutorialApp.scala&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scala.scalajs.js.JSApp&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.scalajs.jquery.jQuery&lt;/span&gt;

&lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="n"&gt;TutorialApp&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;JSApp&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;addClickedMessage&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt;You clicked the button!&amp;lt;/p&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;setupUI&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt;Hello World&amp;lt;/p&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#click-me-button&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addClickedMessage&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;setupUI&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;html file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;button&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;click-me-button&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;button&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;Click me!&lt;span class="nt"&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Include JavaScript dependencies --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/basicscalajs-jsdeps.js&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Include Scala.js compiled code --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/basicscalajs-fastopt.js&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Run tutorial.webapp.TutorialApp --&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;tutorial.webapp.TutorialApp().main();&lt;span class="nt"&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接著 sbt 執行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;reload&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;run&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="x"&gt;~fastOptJS&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h1&gt;&lt;strong&gt;Full Optimization&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&lt;img class='shaped' src="
https://d2mxuefqeaa7sj.cloudfront.net/s_D24D3C2C3895B9053E69C419D5837FCA86099592C01818C4075EEAE89C158688_1469096036659_+2016-07-21+6.13.27.png
" width="100%" height="100%" /&gt;  &lt;/p&gt;
&lt;h1&gt;&lt;strong&gt;Test and &lt;/strong&gt;&lt;strong&gt;Automatically Creating Launcher&lt;/strong&gt;&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;project/plugins.sbt&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;enablePlugins(ScalaJSPlugin)

name := &amp;quot;Scala.js Tutorial&amp;quot;

scalaVersion := &amp;quot;2.11.8&amp;quot;

libraryDependencies += &amp;quot;org.scala-js&amp;quot; %%% &amp;quot;scalajs-dom&amp;quot; % &amp;quot;0.9.0&amp;quot;
libraryDependencies += &amp;quot;be.doeraene&amp;quot; %%% &amp;quot;scalajs-jquery&amp;quot; % &amp;quot;0.9.0&amp;quot;

skip in packageJSDependencies := false
jsDependencies +=
  &amp;quot;org.webjars&amp;quot; % &amp;quot;jquery&amp;quot; % &amp;quot;2.1.4&amp;quot; / &amp;quot;2.1.4/jquery.js&amp;quot;
jsDependencies += RuntimeDOM

// uTest settings
libraryDependencies += &amp;quot;com.lihaoyi&amp;quot; %%% &amp;quot;utest&amp;quot; % &amp;quot;0.3.0&amp;quot; % &amp;quot;test&amp;quot;
testFrameworks += new TestFramework(&amp;quot;utest.runner.Framework&amp;quot;)

//automatically creating a launcher
persistLauncher in Compile := true
persistLauncher in Test := false
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;src/test/scala/tutorial/webapp/TutorialApp.scala&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;tutorial&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;webapp&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;utest._&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.scalajs.jquery.jQuery&lt;/span&gt;

&lt;span class="o"&gt;/**&lt;/span&gt;
  &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;Created&lt;/span&gt; &lt;span class="n"&gt;by&lt;/span&gt; &lt;span class="n"&gt;YD&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="mi"&gt;2016&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="mf"&gt;21.&lt;/span&gt;
  &lt;span class="o"&gt;*/&lt;/span&gt;

&lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="n"&gt;TutorialTest&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;TestSuite&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

  &lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;Initialize&lt;/span&gt; &lt;span class="n"&gt;App&lt;/span&gt;
  &lt;span class="n"&gt;TutorialApp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setupUI&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tests&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TestSuite&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;HelloWorld {&lt;/span&gt;
      &lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;p:contains(&amp;#39;Hello World&amp;#39;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;ButtonClick {&lt;/span&gt;
      &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;messageCount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
        &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;p:contains(&amp;#39;You clicked the button!&amp;#39;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt;

      &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="n"&gt;button&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;button:contains(&amp;#39;Click me!&amp;#39;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;yet&lt;/span&gt; &lt;span class="n"&gt;click&lt;/span&gt;
      &lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;button&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;length&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messageCount&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

      &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;button&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="k"&gt;assert&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messageCount&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;src/main/scala/tutorial/webapp/TutorialApp.scala&lt;/code&gt; 🔧&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;tutorial&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;webapp&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;scala.scalajs.js.JSApp&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.scalajs.jquery.jQuery&lt;/span&gt;

&lt;span class="nb"&gt;object&lt;/span&gt; &lt;span class="n"&gt;TutorialApp&lt;/span&gt; &lt;span class="n"&gt;extends&lt;/span&gt; &lt;span class="n"&gt;JSApp&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;setupUI&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;setupUI&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt;Hello World&amp;lt;/p&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;quot;&amp;quot;&amp;lt;button type=&amp;quot;button&amp;quot;&amp;gt;Click me!&amp;lt;/button&amp;gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;click&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addClickedMessage&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
      &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;appendTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;addClickedMessage&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt; &lt;span class="n"&gt;Unit&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;jQuery&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&amp;lt;p&amp;gt;You clicked the button!&amp;lt;/p&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;html file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;charset&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;The Scala.js Tutorial&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Include JavaScript dependencies --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/scala-js-tutorial-jsdeps.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Include Scala.js compiled code --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/scala-js-tutorial-fastopt.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!--&lt;/span&gt;
&lt;span class="c"&gt;&amp;amp;lt;!&amp;amp;ndash; Run tutorial.webapp.TutorialApp &amp;amp;ndash;&amp;amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;      tutorial.webapp.TutorialApp().main();&lt;/span&gt;
&lt;span class="c"&gt;    &amp;lt;/script&amp;gt;--&amp;gt;&lt;/span&gt;
&lt;span class="c"&gt;&amp;lt;!-- Run JSApp --&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;./target/scala-2.11/scala-js-tutorial-launcher.js&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;&lt;/h1&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Scala"></category></entry><entry><title>Git Tutorial (Demo on Bitbucket)</title><link href="/git-tutorial-demo-on-bitbucket.html" rel="alternate"></link><published>2016-08-02T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-08-02:git-tutorial-demo-on-bitbucket.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;h1&gt;Create repository&lt;/h1&gt;
&lt;p&gt;創建bitbucket 帳號：&lt;a href="https://bitbucket.org/"&gt;https://bitbucket.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Name: 知識庫名稱，也是default local file folder name
  Access Level: 比免費github多的功能，私密桶。&lt;br /&gt;
  Forking: 最好設定no forking，這樣就不會被複製知識庫。&lt;br /&gt;
  Repository type: 預設git。(Windows 需要下載 git command line)&lt;br /&gt;
  Project management&lt;br /&gt;
  Language: 程式碼的知識庫為何 &lt;br /&gt;
  Repository integrations  &lt;/p&gt;
&lt;hr /&gt;
&lt;h1&gt;基本git指令與實作程序&lt;/h1&gt;
&lt;p&gt;為何要用git? &lt;strong&gt;以空間錯位換取時間錯位&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;將知識庫拉至本地端：開啟預定存放的資料夾位置 cd C://&lt;path&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://&amp;lt;account&amp;gt;@bitbucket.org/&amp;lt;account&amp;gt;/&amp;lt;bucketname&amp;gt;.git
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2&gt;情境一：自己管理自己的知識庫&lt;/h2&gt;
&lt;p&gt;創建好知識庫並拉到本地端
基礎的add, commit, push&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vim doc.txt //新增一個文件
git add doc.txt //加入文件，若之後是要整個資料夾push，可用 git add --all 或 git add .
git commit -m &amp;quot;first commit&amp;quot;
git push origin master //第一次push要寫 origin master ，因為遠端並沒有這條branch
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;但是只有自己管理不行，要和別人協作，先學會branch操作&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;基礎的branch操作
根據原本的doc.txt 進行修改，並另闢一分支 (branch) ，將編輯過的檔案放入。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git checkout -b b1 //創建新的分支名為 &amp;quot;b1&amp;quot;
(修改master分支的 doc.txt 內容)
git add .
git commit -m &amp;quot;b1 first commit&amp;quot;
git push --set-upstream origin b1 //因為遠端尚未有 b1 分支，因此要先用 origin
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我們可以看看所處現在的位置&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git branch //應為 b1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;我們進一步看看 b1與 master 內容物的差異&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git diff master
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;再來我們開第二個分支，同樣的做法，只是再換一個檔案內容（為了讓你們體驗合併衝突的前置作業）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git checkout master
(修改master分支的 doc.txt 內容)
git checkout -b b2
git add .
git commit -m &amp;quot;b2 first commit&amp;quot;
git push --set-upstream origin b2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;進行合併前，先來做觀點取替的練習&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git branch //應為 b2
git diff master //以b2視角看master的差異
git checkout master //切換視角至master
git diff b2 //以master視角看b2的差異
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;因為master的 doc.txt 和 b1 doc.txt 只差一個版本，我們就可以直接做合併 (merge)的動作，此稱為「快轉」(fast-forward)。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git checkout master //先換到master分支
git merge b1 //fast-forward 會直接成功
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接下來我們再來用 master 合併 b2
不過等等！現在的 master 內的 doc.txt 已經是 b1 doc.txt 的內容物了，所以有沒有發現哪裡怪怪的？&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git merge b2 //會出現 Automatic merge failed; fix conflicts and then commit the result.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;這時我們得人工去修改這個衝突，這種合併的做法稱為「non fast-forward」。改完以後，就可以合併了&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git add .
git commit -m &amp;quot;merge b1 b2&amp;quot;
git push //這時不需要 git commit -m &amp;quot;&amp;quot; ， bitbucket會幫你建一個 message:&amp;quot;merge&amp;quot; 的 commit
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2&gt;情境二：使用過去的提交，並重新推上去&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git checkout &amp;lt;commit&amp;gt; //輸入commit
(進行內容修改)
git checkout -b tempbranch
git add .
git commit -m &amp;quot;temp&amp;quot;
git push --set-upstream origin temp
git checkout master
git merge temp
git branch -d temp //刪掉該分支，但分枝舊的歷史紀錄還是保存
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h2&gt;練習：多人協作知識庫&lt;/h2&gt;
&lt;p&gt;master內有個公檔，每個人要開自己的分支，然後修改公檔內的資料，並且提交自己的分支到遠端。
並請大家在issue發佈自己已經成功更新檔案更新到分支
假設我 為master 管理者，找一個 user 當作是可以merge的版本，並針對各個issue做回應。&lt;/p&gt;
&lt;p&gt;查看遠端知識庫的分支&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git branch -a
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;將本地端重新同步&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git pull origin &amp;lt;branch name&amp;gt;
git add
git commit
git push --set-upstream origin &amp;lt;branch name&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Git"></category></entry><entry><title>夢想</title><link href="/meng-xiang.html" rel="alternate"></link><published>2016-06-25T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-06-25:meng-xiang.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/elerenu.jpg" width="384" height="288" /&gt;
&lt;br&gt;
&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/elerenu2.jpg" width="384" height="288" /&gt;&lt;br /&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;p&gt;「所以你小時候的夢想，什麼時候消失殆盡?為何不夠堅持、不夠勇敢，最後放棄了?」&lt;br /&gt;
&lt;br&gt;
我記得，幼稚園時，邊吃噁心的炒飯邊和同學聊每週六期待的金剛戰士：並心想，我以後當紫衣?戰士; 小三時，在早自習前的打掃，在榕樹下跟某位同學討論未來志向：「當檸檬汽水的蛋Ｑ」。&lt;br /&gt;
&lt;br&gt;
小六的畢業考考砸了，老媽一邊生氣一邊失望沈迷網路遊戲的我，但當時我只想成為RO iris伺服器最強的體牧。這個「夢想」持續到國二，豪賭一把將+8、+9裝備拿去精煉爆了後，痛定思痛才開始回到課本中，心思放在直升薇閣高中的「夢想」。方上高一，連一、二、三類還傻傻分不清的情形下，高中國文老師強逼我們說自己的「夢想」是念「台大」，一直到高二下模考成績出來，「夢想」偷偷添了一個「師」字。不知是運氣多還實力多，最後「師」字並沒有出現。大學探索方向的時候，&lt;br /&gt;
&lt;br&gt;
隨著年紀增長，夢想從角色變成了執行的任務，虛幻成具體，無知到實際，目標方向都是人人稱羨職位或是薪水，從沒想過自己內心真正的聲音…。&lt;br /&gt;
&lt;br&gt;
該慶幸自己能在實際中找到一點興趣，但自己內心的聲音總是在夜幕降臨後發出悶響，追那自以為浪漫的浪漫。&lt;br /&gt;
&lt;br&gt;
很開心今天的小學同學會能看見大家，聽到大家都過得很好，真心覺得開心！也希望未來的我們都能更勇敢，眼神都還充滿著光。&lt;/p&gt;
&lt;div id="disqus_thread"&gt;&lt;/div&gt;

&lt;script&gt;
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');

        s.src = '//aady5566github.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
&lt;/script&gt;</summary><category term="Life"></category></entry><entry><title>Intalling Redis on Docker</title><link href="/intalling-redis-on-docker.html" rel="alternate"></link><published>2016-05-16T19:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-05-16:intalling-redis-on-docker.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;我們要先利用Dockerfile建立一個docker的映像檔：&lt;br /&gt;
&lt;pre&gt;
FROM        ubuntu:14.04
RUN         apt-get update &amp;amp;&amp;amp; apt-get install -y redis-server
EXPOSE      6379
ENTRYPOINT  ["/usr/bin/redis-server"]
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
且檔名為Dockerfile。這時候還沒有建任何的映像檔，直到輸入下列指令：&lt;br /&gt;
&lt;pre&gt;
docker build -t &lt;your username&gt;/redis &lt;Dockerfile path&gt; //上層目錄
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
接著我們根據建好的映像檔來啟一個容器並命名為 &lt;code&gt;redis&lt;/code&gt; 。 &lt;code&gt;-d&lt;/code&gt; 表容器處於detached mode，也就是容器會在背景執行。 &lt;code&gt;-p&lt;/code&gt; 則是希望container能連接到localhost端：&lt;br /&gt;
&lt;pre&gt;
$ docker run --name redis -p 6379:6379 -d &lt;your username&gt;/redis
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;方法二&lt;/h2&gt;

&lt;hr /&gt;
&lt;p&gt;另一個方法是我們讓 &lt;code&gt;redis&lt;/code&gt; 與 &lt;code&gt;db&lt;/code&gt; 透過 &lt;code&gt;--link&lt;/code&gt; 連結。並進入容器的bash模式：&lt;br /&gt;
&lt;pre&gt;
docker run --link redis:db -i -t ubuntu:14.04 /bin/bash
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
並執行：&lt;br /&gt;
&lt;pre&gt;
$sudo apt-get update
$sudo apt-get install redis-server
$sudo service redis-server stop
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
又因前述使用了 &lt;code&gt;--link redis:db&lt;/code&gt; ，Docker在我們的容器內已生成了環境變數：&lt;br /&gt;
&lt;pre&gt;
$ env | grep DB_&lt;/p&gt;
&lt;p&gt;//Should return something similar to this with your values
DB_NAME=/violet_wolf/db
DB_PORT_6379_TCP_PORT=6379
DB_PORT=tcp://172.17.0.33:6379
DB_PORT_6379_TCP=tcp://172.17.0.33:6379
DB_PORT_6379_TCP_ADDR=172.17.0.33
DB_PORT_6379_TCP_PROTO=tcp
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
接著就可以在container內下redis-cli指令後，進行redis指令的操作了!&lt;br /&gt;
&lt;pre&gt;
$ redis-cli -h $DB_PORT_6379_TCP_ADDR
$ redis 172.17.0.33:6379&amp;gt;
$ redis 172.17.0.33:6379&amp;gt; set docker awesome
OK
$ redis 172.17.0.33:6379&amp;gt; get docker
"awesome"
$ redis 172.17.0.33:6379&amp;gt; exit
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
因為前述已經使用 &lt;code&gt;-p 6379:6379&lt;/code&gt; 此時已經可以透過api連到外面去了! (e.g. 192.168.99.100:6379)&lt;br /&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2&gt;額外補充&lt;/h2&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;筆記一： 如果要重新啟動container? $docker start &lt;redisName&gt; 即可。  &lt;/p&gt;
&lt;p&gt;筆記二： 若不知道無核再次於docker內操作redis?&lt;br /&gt;
&lt;pre&gt;
$docker start ydredis //後進入bash模式
$docker exec -it ydredis bash //接著必須先查看一下docker engine此時賦予container的ip
$ifconfig //查看ip
$redis-cli -h &lt;ip&gt; //就可以開始下redis指令了!
&lt;/pre&gt;&lt;/p&gt;</summary><category term="Docker"></category></entry><entry><title>Spark Installation On OS X</title><link href="/spark-installation-on-os-x.html" rel="alternate"></link><published>2016-05-14T09:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-05-14:spark-installation-on-os-x.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped'
src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/spark.png" width="450" height="384" /&gt;&lt;br /&gt;
&lt;br&gt;
這次的心得分享為安裝spark和使用mllib的範例，那就分兩個部分介紹吧！&lt;br /&gt;
&lt;br&gt;
&lt;br&gt;
&lt;h2&gt;安裝Spark&lt;/h2&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;透過Homebrew安裝最新版本的Spark
&lt;br&gt;
&lt;pre&gt;
$brew install apache-spark
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
安裝完後，理論上已經可以執行spark-shell了，不過我們再修改一下log的級別，以減少冗長的log。首先先進去spark的路徑，例如我的為 &lt;code&gt;/usr/local/Cellar/apache-spark/1.2.0/libexec/conf&lt;/code&gt; (1.2.0為Spark版本)
&lt;pre&gt;
$cd /usr/local/Cellar/apache-spark/1.2.0/libexec/conf
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
複製log4j模板進上述的路徑&lt;br /&gt;
&lt;pre&gt;
$cp log4j.properties.template log4j.properties
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
接著修改log4j.properties檔
&lt;br&gt;
&lt;pre&gt;
$vim log4j.properties
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
將 &lt;strong&gt;&lt;em&gt;INFO&lt;/em&gt;&lt;/strong&gt; 改為 &lt;strong&gt;&lt;em&gt;ERROR&lt;/em&gt;&lt;/strong&gt;&lt;br /&gt;
&lt;code&gt;log4j.rootCategory=ERROR, console&lt;/code&gt;&lt;br /&gt;
&lt;br&gt;
&lt;br&gt;
然後就可以執行看看spark-shell了!
&lt;br&gt;
&lt;pre&gt;
$cd /usr/local/Cellar/apache-spark/1.2.0
$./bin/spark-shell
&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
&lt;br&gt;&lt;/p&gt;
&lt;h2&gt;MLlib Demo&lt;/h2&gt;

&lt;hr /&gt;
&lt;p&gt;以ALS為例，首先安裝相依套件&lt;br /&gt;
&lt;br&gt;
&lt;pre&gt;
import org.apache.spark.mllib.recommendation.ALS
import org.apache.spark.mllib.recommendation.MatrixFactorizationModel
import org.apache.spark.mllib.recommendation.Rating&lt;/p&gt;
&lt;p&gt;val data = sc.textFile("libexec/data/mllib/als/ydtest.data")
val ratings = data.map(_.split(',') match { case Array(user, item, rate) =&amp;gt;
  Rating(user.toInt, item.toInt, rate.toDouble)
})&lt;/p&gt;
&lt;p&gt;// Build the recommendation model using ALS
val rank = 10
val numIterations = 10
val model = ALS.train(ratings, rank, numIterations, 0.01)&lt;/p&gt;
&lt;p&gt;// Evaluate the model on rating data
val usersProducts = ratings.map { case Rating(user, product, rate) =&amp;gt;
  (user, product)
}
val predictions =
  model.predict(usersProducts).map { case Rating(user, product, rate) =&amp;gt;
    ((user, product), rate)
  }
val ratesAndPreds = ratings.map { case Rating(user, product, rate) =&amp;gt;
  ((user, product), rate)
}.join(predictions)
val MSE = ratesAndPreds.map { case ((user, product), (r1, r2)) =&amp;gt;
  val err = (r1 - r2)
  err * err
}.mean()
println("Mean Squared Error = " + MSE)&lt;/p&gt;
&lt;p&gt;&lt;/pre&gt;&lt;br /&gt;
&lt;br&gt;
比較要注意的是資料輸入的路徑，如果是用 &lt;code&gt;$spark-shell&lt;/code&gt;進入的話，路徑需設為絕對路徑。&lt;/p&gt;</summary><category term="Spark"></category></entry><entry><title>Decision, Regression tree</title><link href="/decision-regression-tree.html" rel="alternate"></link><published>2016-04-27T10:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-27:decision-regression-tree.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;Decision tree 與 Regression tree的概念都是建一顆樹(e.g. binary tree, minimize the traning error in each leaf)且都是&lt;a href="http://aady5566.github.io/supervised-vs-unsupervised-learning.html"&gt;Supervised learning&lt;/a&gt;。差別在於資料形態的不同：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decision tree: $x_i \in \mathbb{R}, y_i \in $ { $ Finite~Set $ }$ $&lt;/li&gt;
&lt;li&gt;Regression tree: $x_i \in \mathbb{R}, y_i \in \mathbb{R}$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Decision tree會有類別變項：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/decisiontree.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;利用不斷的二分法將區域切出來。再依照該區的類別採多數決(majority vote of classification)進行分類。如下圖：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/decisiontree.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;但因為採多數決，所以會有區域誤判的可能(下文會提到Impurity Measures來衡量誤判率)。&lt;/p&gt;
&lt;p&gt;先前提到Regression tree 和 Decision tree的差別為資料形態的不同，最簡單的例子即 $x$, $y$ 皆為實數。實際做法會先將 $x$切出好幾個區域(為決策的判斷)，接著在各個區域內得出預測值&lt;br /&gt;
 $\hat{y}$， 此預測值是來自該區依最小平方法得到的: $\bar{y} = min\sum_{i \in \mathbb{R}_k}(\hat{y}-y_i)^2$，即該區的平均值：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/regressiontree.png" width="400" height="400" /&gt;   &lt;/p&gt;
&lt;p&gt;因此得到的預測值 $y$ 即為該區的 $\bar{y}$：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/regressiontree2.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;那我們要如何擴充樹葉呢(也就是圖中的每個節點)?
以三維空間舉例：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/cube.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;如果要長regression tree，首先選定一個維度 $j=1$，根據資料點找出點 $s$ 使得 $ \sum_{x_{ij}&amp;gt;s,x_i \in \mathbb{R}_j}(\hat{y}-y_i)^2$  &lt;/p&gt;
&lt;p&gt;加上  &lt;/p&gt;
&lt;p&gt;$\sum_{x_{ij} \leq s,x_i \in \mathbb{R}_j}(\hat{y}-y_i)^2$最小，根據這個原則重複步驟就可以做出一堆的sub-region。&lt;br /&gt;
那到底要切到何時呢?有兩種標準：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stop when one points in the (sub-)region&lt;/li&gt;
&lt;li&gt;Only consider splits resulting in the (sub-)region with $\geq 5$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同理，要長decision(classification) tree也是依照類似的方法，以二維平面解釋：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/decisiontree3.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;先定義一下，$E_R$: misclassified by a majority vote in the (sub-)region，以此圖為1/3，算法為 $min \frac{1}{N_{R_j}}\sum_{x_i \in \mathbb{R}_j} I(y_i \neq y) ,~y= ~${$  Finite~Set  $}$, N_R=~ ${$  i:x_i \in \mathbb{R_j}  $}  &lt;/p&gt;
&lt;p&gt;若以三維空間說明的話，則是讓切出的兩區的 $E_{R_j}(j,s)+E_{R_j}'(j,s)$ 最小化：  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/cube2.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;h3&gt;Impurity Measures&lt;/h3&gt;  &lt;/p&gt;
&lt;p&gt;前述提到分類誤判，衡量一個模型的分類誤判率有三種常見的方式：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$E_R$: $P_R(Y), ~Y= ~${$  Classification Finite~Set  $}&lt;/li&gt;
&lt;li&gt;$H_R$ (Entropy): $-\sum_{y \in Y}(P_R(Y) \cdot \log{P_R(Y)})$&lt;/li&gt;
&lt;li&gt;$G_R$ (Gini's index): $\sum_{y \in Y}(P_R(Y) \cdot (1-P_R(Y)))$&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Stat"></category></entry><entry><title>K-Nearest Neighbor algorithms (KNN)</title><link href="/k-nearest-neighbor-algorithms-knn.html" rel="alternate"></link><published>2016-04-26T17:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-26:k-nearest-neighbor-algorithms-knn.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;如果我們有一筆資料 $(x_1,y_1),...,(x_n,y_n)$，  &lt;/p&gt;
&lt;p&gt;且 $x_i \in \mathbb{R}^2, y_i \in {0,1}$ (即 $x_i=(x_1,x_2)$為二維的自變項以及 $y_i = 0 ~or~ 1$的依變項)。如圖所示：
&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/knn.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;橫軸為 $x_1$、縱軸為 $x_2$、藍色和紅色分別為已知的分類(0或1)。圖中的黃點並非髒污，而是要進行分類的 $x$。  &lt;/p&gt;
&lt;p&gt;KNN的概念其實很就是去算點與點之間的距離，距離越近表示類型越像(和&lt;a href="http://aady5566.github.io/k-means.html"&gt;K-means&lt;/a&gt;有異曲同工之妙，但注意，KNN是屬於&lt;a href="http://aady5566.github.io/supervised-vs-unsupervised-learning.html"&gt;Supervised learning&lt;/a&gt;，這點和K-means不同)。
若 $k=1$，則是根據離黃點最近的「1個點」之分類為分類; $k=3$則是根據離黃點最近的「3個點」之分類為分類並採取多數決(majority vote of k nearest)。以下圖為例：
&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/knn2.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;此例為 $k=3$，意即離黃點最近的三個點分別為1,1,0的分類，依照多數決應將黃點分類為類別1。  &lt;/p&gt;
&lt;p&gt;若將KNN寫成公式的話：&lt;br /&gt;
&lt;div style="font-size:150%"&gt;$d(x_i,x_j)=\sqrt{\sum_{k=1}^{d}(x_{ik}-x_{jk})^2}, x_i=(x_{i1},...,x_{id})$&lt;/div&gt;  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/knndemo.png" width="400" height="400" /&gt;  &lt;/p&gt;
&lt;p&gt;此為 $k=1$的例子，已知紅點距離最近的點為藍色，因此判斷紅色的分類為1。有興趣的話可以參考下列R code。可以自己調整參數玩玩看&lt;/p&gt;
&lt;pre&gt;
# K-Nearest Neighbor classification ---------------------------------------
library(data.table)
library(ggplot2)
#training data
#simplify to two-dimensional real numbers
dt &lt;- data.table(x1=sample(1:10,30,replace=T),x2=sample(1:10,30,replace=T),label=as.factor(sample(0:1,30,replace=T)))

#new x^(2)=(x1,x2)
newX=c(8,7)
k=1 #k could be a odd number

#find out the label of k smallest distances of x
nearestLabels &lt;- dt$label[!is.na(match(sqrt((newX[1]-dt$x1)^2+(newX[2]-dt$x2)^2),sort(sqrt((newX[1]-dt$x1)^2+(newX[2]-dt$x2)^2))[1:k]))]

#majority vote of k nearest points
tb &lt;- as.data.table(table(nearestLabels))
predictLabel &lt;- paste("predict: ",tb$nearestLabels[match(max(tb$N),tb$N)],sep='')
predict.dt &lt;- data.table(x1=newX[1],x2=newX[2],label=predictLabel)

#bind preditVal to original dt
dt &lt;- rbind(predict.dt,dt)

#plot the outcome
qplot(x1,x2,colour=label,data=dt)

&lt;/pre&gt;</summary><category term="Stat"></category><category term="R"></category></entry><entry><title>Supervised vs. Unsupervised Learning</title><link href="/supervised-vs-unsupervised-learning.html" rel="alternate"></link><published>2016-04-26T09:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-26:supervised-vs-unsupervised-learning.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;何謂機器學習 (Machine Learning)?  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;透過演算法將已知推論到未知。 "Algorithms for inferring unknowns from knows"  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;應用場景包含： 圖像、聲音識別; 預測; 導航&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;探討機器學習前，一般會將處理的問題分成 Supervised vs. Unsupervised Learning 兩類：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Supervised: Given the data $(x^i,y^i)$, choose a function $f(x^i)=y^i$.  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Classification: $y_i \in $ { $ Finite~Set $ }$ $  &lt;/li&gt;
&lt;li&gt;Regression: $y_i \in \mathbb{R}$&lt;br /&gt;
    &lt;em&gt;Note: $x^i \in \mathbb{R}^2$ which means $x^i$ equals to $(x^i_1,x^i_2)$&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Unsupervised: Given the data $(x^i,..., x^n)$, find the pattern in the data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Clustering&lt;/li&gt;
&lt;li&gt;Density Estimation&lt;/li&gt;
&lt;li&gt;Dimensionality Reduction  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;這只是比較概略的劃分，事實上還有其他更細緻的方法，如：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Semi-supervised Learning: Given the $(x^1,y^1),...,(x^k,y^k),x^{k+1},...,x^n$, predict $y^{k+1},...,y^n$.&lt;/li&gt;
&lt;li&gt;Active Learning&lt;/li&gt;
&lt;li&gt;Decision Theory&lt;/li&gt;
&lt;li&gt;Reinforcement Learning&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;自己因為碩論的關係，關注議題以 Reinforcement Learning Model 為主，但在實際運用上比較常見的機器學習屬於Supervised, Unsupervised 和 Semi-supervised Learning.&lt;/p&gt;</summary><category term="Stat"></category></entry><entry><title>北美館</title><link href="/bei-mei-guan.html" rel="alternate"></link><published>2016-04-24T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-24:bei-mei-guan.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo1.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;久違的展覽，上一次想去看當代藝術館的卷川實花，沒想到超出預期的熱門，光是排隊就要兩小時，索性放棄。北美館有個「物理」非常吸引我，簡介包含了碳導電產生的聲響、還有利用吹風機製造的紙飛機的氣體動力，非常有趣，不過太晚得知消息，錯過兩次的展覽。  &lt;/p&gt;
&lt;p&gt;這次也是在北美館，本沒帶著太大的期待，沒想到這次的展覽也蠻有趣的，以下：&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo3.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;&amp;lt;台灣美景之一：臺西&amp;gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo3-2.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;&amp;lt;&amp;lt;台灣美景：鄉村&amp;gt;&amp;gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo2.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;這讓我非常印象深刻，我喜歡他的擺置，以及激似建築設計稿得極簡風，配色也很不賴。&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo4.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo5.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/expo6.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;楊茂林的作品領域非常廣，從平面廣告到立體雕塑，從歷史人物到漫畫英雄，強調用詼諧的方式表達「文化交配」的概念，最喜歡是他用卡漫人物封神，做出有質感的木雕銅雕。  &lt;/p&gt;
&lt;p&gt;三樓的Heatherwick studio也真的很不賴，對於建築講究功能與故事化，覺得有很多設計美觀外又實用，儘管中間休息還是到地下室弄了一下工作的事情，不過現在回想起來整個看展過程，真讓我回到學生時期該有的浪漫。  &lt;/p&gt;
&lt;p&gt;生活像詩，有些讀起來摸不著頭緒，卻無從考究。有些即使不懂內涵，卻有著令人感動的共鳴。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>葬禮</title><link href="/zang-li.html" rel="alternate"></link><published>2016-04-19T18:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-19:zang-li.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/funeral.jpg" width="384" height="288" /&gt;&lt;/p&gt;
&lt;p&gt;一早起溫度偏低，以為下雨會是最適合葬禮的日子。七點到了二殯附近吃早餐，等待八點的家祭。原本預期會像是電視劇演的俗氣的葬禮，沒想到會場沒有高級裝飾或是華麗的場景，佈置非常典雅。家祭完後就等司儀的各種說明，仿佛第一次聽到班長口令一樣遲鈍地聽命行動。當下阿舅在我旁邊因為氣氛的關係，哭哭啼啼，我始終看著司儀娓娓道出動容的言語，思索著一個外人的口氣如何這麼溫柔動人。也許這是對著不同家庭的悲劇反覆演練所得到的精髓，是職業，也是專業。  &lt;/p&gt;
&lt;p&gt;接著是一連串的誦經與跪拜，最讓我深刻的是往生咒，我雖然一直很排斥佛家語，但對於低沈的梵音非常有感，覺得可以沉靜自己的心靈，專注的在自己的意志上。到最後，看到阿公的遺容，和遺照還是有一段落差，不過已經算是非常上相了。  &lt;/p&gt;
&lt;p&gt;出了一殯，身為長孫的我捧著阿公直往北海福座，安頓暫厝，只剩下最後的移居，就圓滿了。    &lt;/p&gt;
&lt;p&gt;因為阿公，家庭結構錯綜複雜，兄弟姊妹多且年齡歲數的全距非常大，平時都各過各的，不相往來。沒想到這次阿公離開，大家齊力一心，老爸的各種管理調度得宜，加上正覺講堂的協助，讓一切的流程再順利不過，不管阿公生前做了多少讓子女們傷心難過的事，走得安穩，什麼都不用再計較了。  &lt;/p&gt;
&lt;p&gt;以後我死後，用最簡單的樹葬或是骨灰灑大海就好，記住一個人不需要過多的形式，有時想想、有時懷念，很不錯了。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>R2Redshift</title><link href="/r2redshift.html" rel="alternate"></link><published>2016-04-14T11:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-14:r2redshift.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;由R接Redshift的實作。&lt;/p&gt;
&lt;pre&gt;
if (!require(RJDBC)) install.packages("RJDBC")
devtools::install_github("pingles/redshift-r")#api:https://github.com/pingles/redshift-r
library(redshift)

#Open connection
conn &lt;- redshift.connect("jdbc:postgresql://&lt;curl&gt;.ap-northeast-1.redshift.amazonaws.com:5439/&lt;dbName&gt;", "adminName", "password")  

#Set all colNames for getting the intact SQL table  
cols &lt;- redshift.columns(conn,tableName = "&lt;tableName&gt;")#columnNames  

#Query data with SQL syntax
data&lt;- dbGetQuery(conn, paste("SELECT * FROM &lt;tableName&gt; where date_part(hour,datetimeclient)=15 AND convert(varchar(10),datetimeclient)='2016-03-04' AND city_name!='missing' AND mouseposx&gt;0 AND mouseposy&gt;0",sep=''))  

#Close connection
redshift.disconnect(conn)  

&lt;/pre&gt;</summary><category term="R"></category></entry><entry><title>生活意義</title><link href="/sheng-huo-yi-yi.html" rel="alternate"></link><published>2016-04-06T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-04-06:sheng-huo-yi-yi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img  src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/mess.png" width="300" height="300" align="middle"/&gt;&lt;/p&gt;
&lt;p&gt;一個階段總是會有困惑期，準備推甄研究所...下部隊...重返學術圈...，每個階段的前期都在問自己，是自己想要的嗎?包含現在開始工作，同樣的問題不斷迴盪心頭。家裡雖沒提供太多的物質資源，但也因沒有這些羈絆，爭取到不少放手一搏為自己作主的機會，追求心靈的富足。過了25，對於自己的狀態掌握也到了某種穩定的程度，知道自己的喜好、自己的缺劣。說真的，培養能力以及毅力是我的長處，不怕沒能力，但非常需要方向。漫無目標徬徨時，猶如冒險的野性不斷膨脹卻尋無出口，心中一股悶氣捱著痛苦難耐。現在也正處於這樣的階段，做什麼事情心煩意亂...不過就也是人生的過程，體驗自己內心慾望的邃動。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>Career</title><link href="/career.html" rel="alternate"></link><published>2016-03-25T23:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-25:career.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;沒人可以鏡像模仿另一個人的人生。
這次參加scala meetup忽然頓悟一件事，要問 &lt;strong&gt;人生技能樹&lt;/strong&gt; 的配點，最好別問專業技術人員，畢竟你不是他他也不是你，他在意的不一定是你真正需要關注的事情。釐清方向是件好事情。  &lt;/p&gt;
&lt;p&gt;做好兩件事：分析意義、呈現意義，繼續精進。  &lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>AWS Identity and Access Management (IAM)</title><link href="/aws-identity-and-access-management-iam.html" rel="alternate"></link><published>2016-03-21T18:50:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-21:aws-identity-and-access-management-iam.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;Identity and Access Management (IAM)可以讓你管理「用戶們」在AWS服務或資源的使用權限。利用IAM管理的範圍包含活體的aws users, groups或是 軟體的roles and policies。  &lt;/p&gt;
&lt;p&gt;Create users in IAM, assign them individual security credentials, including access keys,
passwords, and multi-factor authentication devices or request temporary security credentials to provide users access to AWS services and resources.  &lt;/p&gt;
&lt;p&gt;Create roles in IAM, and manage policies to control which operations can be performed by the entity, or AWS service, that assumes the role.  &lt;/p&gt;
&lt;p&gt;qwiklab實作部分，儀表板上點選 &lt;strong&gt;IAM&lt;/strong&gt; :  &lt;/p&gt;
&lt;p&gt;範例的Group介紹：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EC2support group 功能主要是監控其他EC2的狀態  &lt;/li&gt;
&lt;li&gt;EC2admin group 用來&lt;a href="http://www.ems5.com/view.php?id=308"&gt;scale up&lt;/a&gt;伺服&lt;/li&gt;
&lt;li&gt;S3admin group 執行所有S3 相關服務  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;若我們希望讓userone負責監控(EC2support)的工作，選擇左方 &lt;strong&gt;Dashboard&lt;/strong&gt; 的 &lt;strong&gt;Group&lt;/strong&gt;，選擇EC2support後下方的 &lt;strong&gt;User&lt;/strong&gt; 並加入該成員即可。  &lt;/p&gt;
&lt;p&gt;接著我們要對這些用戶客製化密碼。回到IAM選擇儀表板的 &lt;strong&gt;User&lt;/strong&gt;，勾選userone後選擇上方的 &lt;strong&gt;Actions "Manage Password"&lt;/strong&gt; ，進去後選擇"Replace existing password with new custom password"。設好用戶密碼後。
點擊 &lt;strong&gt;Dashboard&lt;/strong&gt;，會有個IAM users sign-in link，屆時所有在這之中的user藉由輸入自己的帳戶以及該用戶密碼就可以取得相對應的權限。而Admin帳戶可以點擊 &lt;strong&gt;User&lt;/strong&gt; 看Password Last Used的使用歷史紀錄。&lt;/p&gt;</summary><category term="AWS"></category></entry><entry><title>負面詞彙網絡</title><link href="/fu-mian-ci-hui-wang-luo.html" rel="alternate"></link><published>2016-03-21T17:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-21:fu-mian-ci-hui-wang-luo.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='aady5566.github.io/html/負面詞彙社會網絡.html' width=500 height=300&gt;&lt;/iframe&gt;

&lt;p&gt;這是在ptt某版上的一整年內容及推文的負面情緒詞網絡。利用別人的api畫圖很快，但有時候也蠻麻煩的，當如果要改某些小細節，就可能沒支援。但想想要自己手刻一個這樣的東西，感覺更耗時...何況還有分析端要處理，還有的磨。&lt;/p&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>AWS Elastic Compute Cloud (EC2)</title><link href="/aws-elastic-compute-cloud-ec2.html" rel="alternate"></link><published>2016-03-19T13:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-19:aws-elastic-compute-cloud-ec2.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;AWS provides pre-configured templates for the instances, known as Amazon Machine Images (AMIs).  &lt;/p&gt;
&lt;p&gt;AMI模板可以只有作業系統，也可以包含預先灌好的程式軟體在內。  &lt;/p&gt;
&lt;p&gt;EC2 is a virtual environment which is called instances. And there are a wide range of instance types that have varying combinations of CPU power, amount of memory, storage size, and networking capacity.  &lt;/p&gt;
&lt;p&gt;EC2 instances will automatically scale up to add capacity&lt;/p&gt;
&lt;p&gt;實作建置EC2:  &lt;/p&gt;
&lt;p&gt;先建立AWSroot帳戶，並新增一個admin帳戶(開所有權限，但沒有付款功能)，之後都用該帳戶當作控管其他服務的帳戶。  &lt;/p&gt;
&lt;p&gt;登入admin後，在AWS主頁面上，可以點擊Edit將常用的instances拖曳到上方的儀表板。  &lt;/p&gt;
&lt;p&gt;點選EC2服務，選Launch Instance，這時可以勾選旁邊的Free tier only，秀出來的映像檔皆是免費的。然後就選擇自己想要的作業系統並點選右方的Select。接著看到是Instance Type有free tier eligible(通常是微型)，接著就在設定DNS頁面，以及對於instance的命名，再來是連線方式設定，初始含SSH連線，記得如果要從外部網域連入，要security group的inbound設定http連線。  &lt;/p&gt;
&lt;p&gt;最後要創建一個key-pairs，首先是key的命名可以依照 &lt;strong&gt;aws服務_instance型態_作業系統_區域.pem&lt;/strong&gt; 例如： &lt;strong&gt;ec2_t2m_linux_tokyo.pem&lt;/strong&gt; ，然後下載到本地端（這裏要注意，因為下載下來要改一下key的權限，因為可能是public key，但做匹配時只能是private key, chmod 600 &lt;keyname&gt;.pem即可），key-pairs之所以重要是因為，ssh連線到該instance它只認對應的private key，若遺失了就無法操控instance。  &lt;/p&gt;
&lt;p&gt;實作EC2安裝Docker:&lt;a href="http://docs.aws.amazon.com/AmazonECS/latest/developerguide/docker-basics.html"&gt;官方文件&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;執行 sudo usermod -a -G docker ec2-user 就不需要再加上sudo了&lt;/p&gt;</summary><category term="AWS"></category></entry><entry><title>魯蛇家庭</title><link href="/lu-she-jia-ting.html" rel="alternate"></link><published>2016-03-18T23:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-18:lu-she-jia-ting.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;版上看到一篇「突然意識到自己生在魯蛇家庭」，莫名想哭。大學畢業後，特別有感，不時在臉書動態看到誰誰誰已經在美國工作，誰誰誰準備要出國唸書，即使是貴得嚇人的MBA。「沒關係，只要專心準備GRE、托福、GMAT，錢的部分家裡負擔。」
因為臉書朋友來自薇閣或台大，多來自中產以上的菁英階級家庭。樣本本身就有極大的偏誤，理應看久要習慣的，但說不羨慕那些「又努力又有豐厚資源」的朋友是騙人的。
每次看到這種文章心情就有說不出來的複雜感，一方面因同情困苦造就生命的刻苦銘心，也因努力而有成的態度所感動，另一方面也憤慨多少比例能靠著拼命努力而被發掘的案例...
不過換個角度思考，表象的好與壞也從來不是旁觀者解讀了算，自己的生活過得坦蕩蕩比較要緊。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>彈性</title><link href="/dan-xing.html" rel="alternate"></link><published>2016-03-15T22:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-15:dan-xing.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img  src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/work.png" width="300" height="300" align="middle"/&gt;&lt;/p&gt;
&lt;p&gt;『奇怪，你怎麼沒去上班？』現在回學校都會被問這個問題，我第一個直覺的想法和大家一樣：好像很爽喔！但其實仔細想想，工作到現在也大概快三週了，每周花在工作的時間應該超過75小時。我自己是個很重視生活品質的人，但又有點工作狂的特質。要滿足這兩個狀態，總是要有一些變通的方式。就好比，我不喜歡待在一個環境久坐，這對我來說是非常痛苦的事情，如果待在公司 ，久坐是必然的發生的事，但我有個習慣，盡量保持馬克杯流動的狀態，意思是邊工作邊喝水，這樣的話除了保持水分外，身體也會定期提出上廁所的訊號，這時我就會起來走動一下，然後再次裝水，邊工作邊喝水的循環重啟了。最好的情況是讓自己換個環境工作，做任何事都要適度的放鬆，換個環境會讓五感接收到新鮮的刺激，這對思考有所助益，因此我認為，上班打卡報到是一件非常奴的行為，講實在，真的想工作，隨時都可以工作。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>ip定位地圖</title><link href="/ipding-wei-di-tu.html" rel="alternate"></link><published>2016-03-12T21:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-12:ipding-wei-di-tu.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe src='aady5566.github.io/html/map.html' width=500 height=300&gt;&lt;/iframe&gt;

&lt;p&gt;今天原本下午要去看電影，結果意外取消了原本輕鬆的行程。下午的時間把公司的部分任務完成，閒閒沒事想說有一筆經、緯度的資料，應該加以利用。上網看了leaflet的教學，將ip依照經緯度定位後取得該城市的資料，並成功接上shiny!而且終於成功將html直接鑲嵌在blog文內，超開心!之後就可以分享更多成果在blog中了，哈。&lt;/p&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>K-means</title><link href="/k-means.html" rel="alternate"></link><published>2016-03-12T09:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-12:k-means.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;div style="font-size:200%;"&gt;
$$J=\sum_{i=1}^{k}\sum_{x_j \in S_i}(x_j-\mu_i)$$
&lt;/div&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;簡單來說一下公式的意義，若欲分類k組，隨機選取k筆資料當做初始群中心並計算每個資料xi對應到的最短距離的群中心。再利用分類完的k群重新計算群中心。&lt;br /&gt;
因此不難察覺，K-means的侷限為初始值，同一筆資料跑了n次的結果可能都不一樣，所以初始值落點不好可能會造成糟糕的結果。&lt;br /&gt;
K-means當然也不只是分群及找出群中心如此而已還是有其他用途。基於資料的群中心被找出後，我們可以把這個群中心的結果當成分類器的指標，也就是說，若有新的一筆同一屬性資料進來，找出最短距離的群中心，我們就可以將這筆資料進行分類(預測)。&lt;br /&gt;
另外也可以作為判斷此資料是否適合做為分類的判斷，因為有些特徵(feature)不適合做為分類依據。對此，我們可以先根據特徵取得群中心後，將資料找出距離最短特徵的群中心分類後，檢視分類情況，以確保該特徵為分類的是適切性。&lt;/p&gt;</summary><category term="Stat"></category></entry><entry><title>景仰對象</title><link href="/jing-yang-dui-xiang.html" rel="alternate"></link><published>2016-03-10T23:51:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-10:jing-yang-dui-xiang.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;今天被問到「有沒有景仰的對象」這件事，我第一個直覺是&amp;lt;&amp;lt;等一個人咖啡&amp;gt;&amp;gt;內的阿拓。&lt;br /&gt;
我欣賞他憨厚直爽的態度，他待人真誠，且時時保有「盡一己之力又何妨」的態度對待需要幫助的周遭朋友。
另外就是有一個觀念真的很棒，「生氣?過了一天、一年或甚至十年之後，還會記得此事嗎?如果不會，那幹嘛生氣?」，真的很欣賞他。儘管是小說角色，從國中以來就很羨慕這樣樂天的態度。  &lt;br /&gt;
如果要說現實中景仰的對象，不如說我對是認真、持之以恆的態度在過生活的人特別欣賞，也一直努力保持這樣的態度過生活。但通常認真的人往往會忽略自己身體的健康，例如挑燈半夜讀書、睡眠時間不固定、飲食不正常等，這種生活態度我就不欣賞了，除非到要命時刻否則不熬夜！這邊要特別講一下，前年在新訓單位擔任輔導長一職時，幾乎11點前準時睡覺(除非查哨)，還不是平安退伍了。沒有什麼比健康更重要的事，一旦生病，什麼事做起來都不開心。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>工作兩週</title><link href="/gong-zuo-liang-zhou.html" rel="alternate"></link><published>2016-03-09T23:27:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-09:gong-zuo-liang-zhou.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;雖然說轉正以後，忽然手上變成四個案子在處理，忙到炸掉，前一週還在調適期。儘管忙，但工作性質實在是太符合我的生活型態了，環境單純，上班時間彈性，穿著隨便，工作任務也是自己預想的資料分析與視覺化呈現...在台灣應該也很難找到類似的工作性質了吧@@。當然中程目標是能夠增加運算效率以及更快部署前端的資料視覺化，遠程目標是能夠獨立從後端伺服器串接前端網頁的呈現。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>Lines and Columns</title><link href="/lines-and-columns.html" rel="alternate"></link><published>2016-03-09T23:20:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-09:lines-and-columns.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;iframe srcdoc=' &amp;lt;!doctype HTML&amp;gt;
&amp;lt;meta charset = &amp;#039;utf-8&amp;#039;&amp;gt;
&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;

    &amp;lt;script src=&amp;#039;//code.jquery.com/jquery-1.9.1.min.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//code.highcharts.com/highcharts.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//code.highcharts.com/highcharts-more.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//code.highcharts.com/modules/exporting.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;

    &amp;lt;style&amp;gt;
    .rChart {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 700px;
      height: 350px;
    }
    &amp;lt;/style&amp;gt;

  &amp;lt;/head&amp;gt;
  &amp;lt;body &amp;gt;

    &amp;lt;div id = &amp;#039;chart59c7b825599&amp;#039; class = &amp;#039;rChart highcharts&amp;#039;&amp;gt;&amp;lt;/div&amp;gt;
    &amp;lt;script type=&amp;#039;text/javascript&amp;#039;&amp;gt;
    (function($){
        $(function () {
            var chart = new Highcharts.Chart({
 &amp;quot;dom&amp;quot;: &amp;quot;chart59c7b825599&amp;quot;,
&amp;quot;width&amp;quot;:            700,
&amp;quot;height&amp;quot;:            350,
&amp;quot;credits&amp;quot;: {
 &amp;quot;href&amp;quot;: null,
&amp;quot;text&amp;quot;: null
},
&amp;quot;exporting&amp;quot;: {
 &amp;quot;enabled&amp;quot;: false
},
&amp;quot;title&amp;quot;: {
 &amp;quot;text&amp;quot;: &amp;quot;折扣為 5-9% 之銷量、銷售成長率變化&amp;quot;
},
&amp;quot;yAxis&amp;quot;: [
 {
 &amp;quot;title&amp;quot;: {
 &amp;quot;text&amp;quot;: &amp;quot;No. of event&amp;quot;
}
},
{
 &amp;quot;title&amp;quot;: {
 &amp;quot;text&amp;quot;: &amp;quot;Unit/ Revenue Lift %&amp;quot;
},
&amp;quot;opposite&amp;quot;: true
}
],
&amp;quot;xAxis&amp;quot;: [
 {
 &amp;quot;categories&amp;quot;: [ &amp;quot;Jan&amp;quot;, &amp;quot;Feb&amp;quot;, &amp;quot;Mar&amp;quot;, &amp;quot;Apr&amp;quot;, &amp;quot;May&amp;quot;, &amp;quot;Jun&amp;quot;, &amp;quot;Jul&amp;quot;, &amp;quot;Aug&amp;quot;, &amp;quot;Sep&amp;quot;, &amp;quot;Oct&amp;quot;, &amp;quot;Nov&amp;quot;, &amp;quot;Dec&amp;quot; ]
}
],
&amp;quot;series&amp;quot;: [
 {
 &amp;quot;name&amp;quot;: &amp;quot;No. of event&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;column&amp;quot;,
&amp;quot;color&amp;quot;: &amp;quot;#C8C8C8&amp;quot;,
&amp;quot;data&amp;quot;: [
 125,
116,
115,
136,
136,
126,
100,
98,
92,
104,
81,
81
]
},
{
 &amp;quot;name&amp;quot;: &amp;quot;Unit Lift&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;spline&amp;quot;,
&amp;quot;color&amp;quot;: &amp;quot;#63CCCA&amp;quot;,
&amp;quot;data&amp;quot;: [
         134.09,
            54,
         -11.2,
          3.64,
         11.54,
         16.67,
         -22.3,
        -35.77,
        -29.17,
         11.95,
         23.17,
         19.76
],
&amp;quot;yAxis&amp;quot;:              1
},
{
 &amp;quot;name&amp;quot;: &amp;quot;Revenue Lift&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;spline&amp;quot;,
&amp;quot;color&amp;quot;: &amp;quot;#FF9D15&amp;quot;,
&amp;quot;data&amp;quot;: [
         123.54,
         46.19,
        -16.92,
         -6.56,
          3.18,
         12.44,
        -29.79,
        -39.81,
        -35.29,
          6.48,
         18.12,
         14.76
],
&amp;quot;yAxis&amp;quot;:              1
}
],
&amp;quot;tooltip&amp;quot;: {
 &amp;quot;pointFormat&amp;quot;: &amp;quot;{series.name}:&amp;lt;b&amp;gt;{point.y}&amp;lt;/b&amp;gt;&amp;lt;br/&amp;gt;&amp;quot;
},
&amp;quot;id&amp;quot;: &amp;quot;chart59c7b825599&amp;quot;,
&amp;quot;chart&amp;quot;: {
 &amp;quot;renderTo&amp;quot;: &amp;quot;chart59c7b825599&amp;quot;
}
});
        });
    })(jQuery);
&amp;lt;/script&amp;gt;

    &amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt; ' scrolling='no' frameBorder='0' seamless class='rChart  highcharts  ' id='iframe-chart59c7b825599'&gt; &lt;/iframe&gt;

&lt;p&gt;&lt;style&gt;iframe.rChart{ width: 100%; height: 400px;}&lt;/style&gt;&lt;/p&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>Docker基礎概念、建立映像檔與下載實作</title><link href="/dockerji-chu-gai-nian-jian-li-ying-xiang-dang-yu-xia-zai-shi-zuo.html" rel="alternate"></link><published>2016-03-04T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-04:dockerji-chu-gai-nian-jian-li-ying-xiang-dang-yu-xia-zai-shi-zuo.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;Docker 的基礎是 Linux 容器（LXC）等技術。&lt;/p&gt;
&lt;p&gt;容器是在作業系統層面上實作虛擬化，直接使用本地主機的作業系統，而傳統方式則是在硬體層面實作。&lt;/p&gt;
&lt;p&gt;容器除了執行其中應用外，基本不消耗額外的系統資源，使得應用的效能很高，同時系統資源消耗更少。傳統虛擬機方式執行 10 個不同的應用就要啟動 10 個虛擬機，而 Docker 只需要啟動 10 個隔離的應用即可。&lt;/p&gt;
&lt;p&gt;在O SX系統下，docker daemon(container) 的執行位置是在Linux VM下(docker-machine)，而VM完全是在RAM下運作。因此在container映射的埠應為docker-machine的ip而非本地端的80。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;$docker port &amp;lt;container name&amp;gt;&lt;/code&gt; //80/tcp -&amp;gt; 0.0.0.0:49157 表，container port 80映設至VM(docker-machine)之49157。因此如果在網頁端執行 &lt;code&gt;localhost:49157&lt;/code&gt; 是不會有東西的，必須執行&lt;code&gt;$ docker-machine ip &amp;lt;machine name&amp;gt;&lt;/code&gt; 的ip (如192.168.99.100:49157)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Docker三元素：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;image 映像檔&lt;/li&gt;
&lt;li&gt;container 容器&lt;/li&gt;
&lt;li&gt;repository 倉庫 （儲存映像檔的場所）  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;映像檔：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;唯讀模板，可包含一個完整的作業系統環境(ubuntu)，裡面僅安裝Apache及使用者自訂的應用程式。&lt;/li&gt;
&lt;li&gt;用來建立容器  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;容器：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;容器是從映像檔建立執行的「實例」&lt;/li&gt;
&lt;li&gt;容器可是一個簡易版的Linux環境，和映像檔的差別是容器啟動後是建立一層寫層作為最上層  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;docker pull registry.hub.docker.com/ubuntu:12.04&lt;/code&gt; 命令，即從註冊服務器 &lt;code&gt;registry.hub.docker.com&lt;/code&gt; 中的 &lt;code&gt;ubuntu&lt;/code&gt; 倉庫來下載標記為 &lt;code&gt;12.04&lt;/code&gt; 的映像檔。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -t -i ubuntu:14.04 /bin/bash&lt;/code&gt; 即可隨時使用該映像檔了，例如建立一個容器，讓其中執行 bash。  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker images&lt;/code&gt; 顯示已有的映像檔  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker run -d -P --name web nginx&lt;/code&gt; run指令只有打開容器並結束。 &lt;code&gt;-d&lt;/code&gt; 是讓容器在run後繼續在背景執行，而 &lt;code&gt;-P&lt;/code&gt; 是接收容器埠到本機， &lt;code&gt;--name&lt;/code&gt; 後面給容器一個命名(此例為web)。  &lt;/p&gt;
&lt;p&gt;&lt;code&gt;docker ps&lt;/code&gt; 查看目前容器狀態  &lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.docker.com/linux/"&gt;Docker engine for linux 教學&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;以Dockerfile建立映像檔：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;進入VM後，先建立一個空的資料夾，內部放入Dockerfile及其相依套件之.sh檔，接著cd至該目錄後，輸入指令&lt;code&gt;docker build -t "&amp;lt;repositoryName&amp;gt;:&amp;lt;tag&amp;gt;" .&lt;/code&gt; &lt;code&gt;-t&lt;/code&gt;為標記此映像檔的信息（給使用者），&lt;code&gt;.&lt;/code&gt; 為目前所在路徑，即Dockerfile的路徑。  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上傳映像檔上傳hub：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一旦image建好後，可用&lt;code&gt;docker images&lt;/code&gt; 查看。接著可以更改
  &lt;code&gt;docker tag 7d9495d03763 &amp;lt;account&amp;gt;/&amp;lt;repositoryName&amp;gt;:&amp;lt;tag&amp;gt;&lt;/code&gt; 接著再看&lt;code&gt;docker images&lt;/code&gt;會發現有兩個同樣images id。&lt;code&gt;docker login --username &amp;lt;user name&amp;gt; --email &amp;lt;mail&amp;gt;&lt;/code&gt; 後輸入密碼，登入成功輸入 &lt;code&gt;docker push &amp;lt;repositoryName&amp;gt;&lt;/code&gt; 就成功了！&lt;code&gt;docker rmi -f &amp;lt;image id&amp;gt;&lt;/code&gt; &lt;code&gt;-f&lt;/code&gt;強制刪除映像檔指令&lt;code&gt;docker run &amp;lt;repositoryName&amp;gt;&lt;/code&gt; 等同於 docker pull and run &lt;repositoryName&gt;&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Docker"></category></entry><entry><title>家聚</title><link href="/jia-ju.html" rel="alternate"></link><published>2016-03-01T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-03-01:jia-ju.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;履行上學期答應提早畢業請客，來到公館附近一間低調的「巫雲」，進到屋內完全忘了自己到雲南餐廳，很有個性的裝潢。以黑膠唱片當菜單，輕爵士當背景音樂，黃澄澄的桌燈，扎實的木板凳與木桌，感覺特別溫馨。八個人圍著桌子聽著各方報告近況、系上的八卦、聊工作狀況、台灣現況，多數是生活的碎嘴，不過覺得大家都有自己明確的方向，其實這樣就很不錯了。但我想這種聚會會隨著時間的推演被壓縮，縮到不能再縮。當工作、生活是為自己的時候，閒聊個兩三個小時會是件非常奢侈的事，加上我自己是個不太喜歡社交場合的運作，這樣的頻率肯定會低更低。  &lt;/p&gt;
&lt;p&gt;可能有蠻多人羨慕我現在的工作型態(不是薪水)，其實我也是做中學，然後覺得是公司內目前最弱的角色無誤，先把被交付的工作做好，然後多請教多學，加把勁，起步慢總比不動好。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>苗栗九華山</title><link href="/miao-li-jiu-hua-shan.html" rel="alternate"></link><published>2016-02-28T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-28:miao-li-jiu-hua-shan.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/ninehuamountain.jpg" width="384" height="288" /&gt;  &lt;/p&gt;
&lt;p&gt;雖然早已習慣台北低溫冷漠的氣候，但是能在好天氣時踏青親近大自然絕對是更棒的體驗。非常幸運的是，這次來苗栗有機會吹著冷風享受日光浴眺望遠方海岸，不知道從幾何時，自己就有點害怕看到純色系的風景，好比藍天，馬上就能感受到眼球玻璃體內細碎的&lt;a href="https://www.youtube.com/watch?v=z0olyZrcBx4"&gt;飛蚊&lt;/a&gt;，每看每覺得心裡總是毛毛的。不過這倒是提醒我，工作再忙，身體還是要好好保養。  &lt;/p&gt;
&lt;p&gt;&lt;img class='shaped'
src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/strawberry.jpg" width="384" height="384" /&gt;  &lt;/p&gt;
&lt;p&gt;後來還去善行天下的地方採草莓和番茄。雖然這是我第一次採草莓，不過讓我醉心的事還是享受鄉下的涼風和青草味，低頭看著清澈水溝的水面上漣漪、水面下的小生物，抬頭看看井字型的產業道路，土地平曠，屋舍儼然，有良田、美池、桑竹之屬，阡陌交通，雞犬相聞，其中往來種作，心中憶起桃花源記，豁然開朗。如果真有能力的話，在一個遠離塵囂的地方隱居，自給自足，好不快活。真覺得，大富大貴還不如心身自由。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>CMD指令</title><link href="/cmdzhi-ling.html" rel="alternate"></link><published>2016-02-26T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-26:cmdzhi-ling.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;要登入ec2要有key(private key, 副檔名為.pem)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ssh -i &amp;lt;private key&amp;gt; ec2-user@&amp;lt;ip&amp;gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本地端若要傳檔至ec2  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;scp -r -i &amp;lt;private key&amp;gt; &amp;lt;local file path&amp;gt; ec2-user@&amp;lt;ip&amp;gt;:/home/ec2-user/    &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(/home/ec2-user為存放位置)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="AWS"></category></entry><entry><title>巨量資料概述</title><link href="/ju-liang-zi-liao-gai-shu.html" rel="alternate"></link><published>2016-02-26T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-26:ju-liang-zi-liao-gai-shu.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;對於大數據處理，首先為資料採集與倉儲，可使用關聯資料庫如MySQL、Oracle結構存取每一筆數據，或是使用NoSQL資料庫如MongoDB或Redis。而當資料從資料庫導入至其他群集進行更高階的運算處理前，會對資料做預處理的動作如Elasticsearch，進行流式計算，達到實時業務的計算的需求。因牽涉巨量分析，實作上會對倉儲於資料庫以分散式計算進行資料的描述分析及分類彙總，，在這方面，若為半結構化資料的需求可採用Hadoop或是Spark。往往對於巨量資料沒有往往對於巨量資料沒有預設的主題進行分析，對於資料探勘而言，主要是利用既有資料進行各種算法的計算如類聚法的NaiveBayes、Kmeans、SVM及隨機森林等，從算完的結果導出一個合適的模型進行預測。...以上只是非常籠統的說明XD&lt;/p&gt;</summary><category term="Stuff"></category></entry><entry><title>Web interaction</title><link href="/web-interaction.html" rel="alternate"></link><published>2016-02-26T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-26:web-interaction.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;這兩天做了一些網絡分析並用Shiny進行互動視覺化。&lt;br /&gt;
這是網頁間連結強度的網絡圖，下方的網絡圖會隨著上方選擇的日期與時段秀出對應結果。&lt;br /&gt;
因為這是發佈到免費空間上，展示網頁有時可能會失效。  &lt;/p&gt;
&lt;iframe src="https://ydhuang.shinyapps.io/mtApp/" height=350 width=450 scrolling=yes&gt;&lt;/iframe&gt;</summary><category term="Web"></category><category term="R"></category></entry><entry><title>Scala for the impatient: ch13</title><link href="/scala-for-the-impatient-ch13.html" rel="alternate"></link><published>2016-02-24T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-24:scala-for-the-impatient-ch13.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;所有集合都擴展自Iterable trait  &lt;/p&gt;
&lt;p&gt;scala 中每個集合特質或類都帶有apply的伴生對象，此為統一創建原則  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Iterable(0xFF,0xFF00,0xFF0000)&lt;/li&gt;
&lt;li&gt;Set(Color.RED,Color.Green)&lt;/li&gt;
&lt;li&gt;Map(Color.RED-&amp;gt;0xFF0000)&lt;/li&gt;
&lt;li&gt;SortedSet("Hello","World")  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可變不可變集合都來自collection  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scala.collection.immutable.Map, scala.collection.mutable.Map 來自 scala.collection.Map&lt;/li&gt;
&lt;li&gt;scala.collection.Map 會優先採用不可變集合&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;vector 為ArrayBuffer不可變的版本：以樹形結構實現，每個節點不得超過32個子節點。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;對於一個100萬個元素的向量，我們只需要四層節點（32^4約莫100萬）。所以要訪問該向量的某個元素只需要四跳，但如果是鏈表(e.g. List)，則需要50000跳  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;
  val l= mutable.LinkedList(-1,-2,4,7)//LinkedList 可用.elem及.next迴圈
  var curr=l
  while(curr!=Nil){
    if(curr.elem&lt;0) curr.elem=0
    curr = curr.next
  }
  var curr2=l
  while(curr2 != Nil &amp;&amp; curr2.next !=Nil ){//去除每兩個元素中的一個
    curr2.next=curr2.next.next
    curr2= curr2.next
  }
  curr2
  //注意：若要讓最後一筆變成Nil,在LinkedList中要設為LinkedList.empty
&lt;/pre&gt;

&lt;p&gt;集是不重複元素的集合  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Set(1,3,2,4)+1//+1無效  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;集是不保留元素的順序，是以哈希集來看  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Set(1,2,3,4,5,6)，則元素被訪問的的順序為5,1,6,2,3,4&lt;/li&gt;
&lt;li&gt;哈希集查找元素比起數組或列表快很快&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;位集(bit set)是集的一種實現&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Scala"></category></entry><entry><title>影響最深的一堂課</title><link href="/ying-xiang-zui-shen-de-yi-tang-ke.html" rel="alternate"></link><published>2016-02-23T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-23:ying-xiang-zui-shen-de-yi-tang-ke.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img  src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/power.png" width="409" height="425" /&gt;&lt;/p&gt;
&lt;p&gt;大一時不知道選通識課，跟著大家一起去ntu course或是學長姐推薦的涼課，因為學籍關係，爽缺都被高年級優先佔走了。
課表中僅剩必修，以及一門加選方式3的課(選了必上的意思)，李錫錕的政治概論，聽起來又雷又無聊。
但之後卻成了影響我最深的一門課。  &lt;/p&gt;
&lt;p&gt;在他一學期的課程引領下，我得到的是不同以往的生活態度、一種信仰。網路上充斥著各種李錫錕金語錄，有些偏激好笑、甚至危言聳聽，這些都是斷章取義後的結果。忽略那些強烈語助詞以及奇怪的譬喻，在這些字句背後的意涵自始自終都貫徹他的核心理念，應該說，是他所認為的生命真理，就是要優越的活著。  &lt;/p&gt;
&lt;p&gt;Nature shows us only the tail of the lion. But I don't doubt that the tail belongs to it even though he cannot at once reveal himself because of his enormous size. -Albert Einstein-  &lt;/p&gt;
&lt;p&gt;每個人有意無意在追求生命的真理，大學教育似乎也是幫助我們瞭解更多的選擇，但沒發現，在選擇「各種選擇」的過程中，迷失了對真理的追求。選擇本身不該是目的，而是了解選擇後的目的和動機。他認為生命的真理就是不僅要活也要活得好(not only survive but thrive)，而接近真理的途徑就是科學與邏輯。而好的生存法則就是不斷地衝突，不斷突破，然後再衝突，再突破。
這世界從來沒有欠缺衝突暴力，也一直是依循這這樣的邏輯運作，不要以為遠古時代的野蠻暴力才是暴力，現代文明社會的可能更暴力，好比nba、金球獎、奧林匹亞數學競賽等..不能因互相殘殺的手法細膩、方法複雜就否定真理的運作。接近真理的其中一項選擇就是展現政治力(Power)，政治力的展現是有改變的能力、有克服困境的能力;另一方面，政治力的指標不像溫度計的刻度是具體的，而是衝突與暴力發生的時刻。而愛是什麼，愛只是一種手段，達到接近真理的目的。總的來說，站在高層次來看，所有的鬥爭就是為「產生優越感」而戰。李錫錕含蓄地說，這個真理只是部分真理。當然很多人不能接受他的優越論，覺得太過現實功利，也將他提到的男女關係也被誘導至物化女性大作文章。我很能接受這樣的論述，他講出了血淋淋的現象，也讓我對於人生有不一樣的態度。這次再次坐在教室，已是第七年了，我不是李錫錕的信徒，但我認同他所相信的部分真理。  &lt;/p&gt;</summary><category term="School"></category></entry><entry><title>資料分析到前端</title><link href="/zi-liao-fen-xi-dao-qian-duan.html" rel="alternate"></link><published>2016-02-23T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-23:zi-liao-fen-xi-dao-qian-duan.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;收穫總是在有目標（工作）的情況下最多。一個月前才經歷碩士口試前一週前前後後畫了4x張吧orz...  &lt;/p&gt;
&lt;p&gt;如今終於實現自己分析自己畫圖呈現在自己的部落格上感覺真的很棒!  &lt;/p&gt;
&lt;iframe srcdoc=' &amp;lt;!doctype HTML&amp;gt;
&amp;lt;meta charset = &amp;#039;utf-8&amp;#039;&amp;gt;
&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;link rel=&amp;#039;stylesheet&amp;#039; href=&amp;#039;//cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.min.css&amp;#039;&amp;gt;

    &amp;lt;script src=&amp;#039;//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//d3js.org/d3.v3.min.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//cdnjs.cloudflare.com/ajax/libs/nvd3/1.1.15-beta/nv.d3.min.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#039;//nvd3.org/assets/lib/fisheye.js&amp;#039; type=&amp;#039;text/javascript&amp;#039;&amp;gt;&amp;lt;/script&amp;gt;

    &amp;lt;style&amp;gt;
    .rChart {
      display: block;
      margin-left: auto;
      margin-right: auto;
      width: 600px;
      height: 300px;
    }  
    &amp;lt;/style&amp;gt;

  &amp;lt;/head&amp;gt;
  &amp;lt;body &amp;gt;

    &amp;lt;div id = &amp;#039;chart42e8171fb309&amp;#039; class = &amp;#039;rChart nvd3&amp;#039;&amp;gt;&amp;lt;/div&amp;gt;    
    &amp;lt;script type=&amp;#039;text/javascript&amp;#039;&amp;gt;
 $(document).ready(function(){
      drawchart42e8171fb309()
    });
    function drawchart42e8171fb309(){  
      var opts = {
 &amp;quot;dom&amp;quot;: &amp;quot;chart42e8171fb309&amp;quot;,
&amp;quot;width&amp;quot;:    600,
&amp;quot;height&amp;quot;:    300,
&amp;quot;x&amp;quot;: &amp;quot;t&amp;quot;,
&amp;quot;y&amp;quot;: &amp;quot;var&amp;quot;,
&amp;quot;group&amp;quot;: &amp;quot;type&amp;quot;,
&amp;quot;type&amp;quot;: &amp;quot;stackedAreaChart&amp;quot;,
&amp;quot;id&amp;quot;: &amp;quot;chart42e8171fb309&amp;quot;,
&amp;quot;title&amp;quot;: &amp;quot;x牌每月囤貨量與銷量變化&amp;quot;
},
        data = [
 {
 &amp;quot;t&amp;quot;: 1,
&amp;quot;var&amp;quot;: 254333,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 2,
&amp;quot;var&amp;quot;: 171041,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 3,
&amp;quot;var&amp;quot;: 158322,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 4,
&amp;quot;var&amp;quot;: 128823,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 5,
&amp;quot;var&amp;quot;: 147442,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 6,
&amp;quot;var&amp;quot;: 123880,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 7,
&amp;quot;var&amp;quot;: 167531,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 8,
&amp;quot;var&amp;quot;: 138999,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 9,
&amp;quot;var&amp;quot;: 179673,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 10,
&amp;quot;var&amp;quot;: 253453,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 11,
&amp;quot;var&amp;quot;: 237546,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 12,
&amp;quot;var&amp;quot;: 322593,
&amp;quot;type&amp;quot;: &amp;quot;SALESUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 1,
&amp;quot;var&amp;quot;: 245781,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 2,
&amp;quot;var&amp;quot;: 236149,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 3,
&amp;quot;var&amp;quot;: 198516,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 4,
&amp;quot;var&amp;quot;: 246962,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 5,
&amp;quot;var&amp;quot;: 229947,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 6,
&amp;quot;var&amp;quot;: 238163,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 7,
&amp;quot;var&amp;quot;: 211170,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 8,
&amp;quot;var&amp;quot;: 180810,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 9,
&amp;quot;var&amp;quot;: 209650,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 10,
&amp;quot;var&amp;quot;: 253180,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 11,
&amp;quot;var&amp;quot;: 288565,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
},
{
 &amp;quot;t&amp;quot;: 12,
&amp;quot;var&amp;quot;: 256025,
&amp;quot;type&amp;quot;: &amp;quot;STOCKUNITS&amp;quot;
}
]

      var data = d3.nest()
        .key(function(d){
          return opts.group === undefined ? &amp;#039;main&amp;#039; : d[opts.group]
        })
        .entries(data)

      nv.addGraph(function() {
        var chart = nv.models[opts.type]()
          .x(function(d) { return d[opts.x] })
          .y(function(d) { return d[opts.y] })
          .width(opts.width)
          .height(opts.height)

        chart
  .margin({
 &amp;quot;left&amp;quot;:    100
})

        chart.xAxis
  .axisLabel(&amp;quot;月份&amp;quot;)



        chart.yAxis
  .axisLabel(&amp;quot;&amp;quot;)

       d3.select(&amp;quot;#&amp;quot; + opts.id)
        .append(&amp;#039;svg&amp;#039;)
        .datum(data)
        .transition().duration(500)
        .call(chart);

       nv.utils.windowResize(chart.update);
       return chart;
      });

      //add our title with html
      //might be better with svg
      d3.select(&amp;quot;#&amp;quot; + opts.id).insert(&amp;quot;h3&amp;quot;,&amp;quot;svg&amp;quot;)
        .text(opts.title);
        //if desired, could change styling with css or with d3
        //some examples here http://tympanus.net/codrops/2012/11/02/heading-set-styling-with-css/
        //will use example
        //.style(&amp;quot;float&amp;quot;,&amp;quot;right&amp;quot;);
        //.style(&amp;quot;text-shadow&amp;quot;, &amp;quot;0 -1px 1px rgba(0,0,0,0.4)&amp;quot;)
        //.style(&amp;quot;font-size&amp;quot;,&amp;quot;22px&amp;quot;)
        //.style(&amp;quot;line-height&amp;quot;, &amp;quot;40px&amp;quot;)
        //.style(&amp;quot;color&amp;quot;, &amp;quot;#355681&amp;quot;)
        //.style(&amp;quot;ext-transform&amp;quot;, &amp;quot;uppercase&amp;quot;)
        //.style(&amp;quot;border-bottom&amp;quot;, &amp;quot;1px solid rgba(53,86,129, 0.3)&amp;quot;);
    };
&amp;lt;/script&amp;gt;

    &amp;lt;script&amp;gt;&amp;lt;/script&amp;gt;    
  &amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt; ' scrolling='no' frameBorder='0' seamless class='rChart  nvd3  ' id='iframe-chart42e8171fb309'&gt; &lt;/iframe&gt;

&lt;p&gt;&lt;style&gt;iframe.rChart{ width: 100%; height: 400px;}&lt;/style&gt;&lt;/p&gt;</summary><category term="Plot"></category><category term="R"></category></entry><entry><title>開工前</title><link href="/kai-gong-qian.html" rel="alternate"></link><published>2016-02-21T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-21:kai-gong-qian.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://raw.githubusercontent.com/aady5566/aady5566.github.io/master/pic/temple.jpg" width="288" height="384" /&gt;&lt;/p&gt;
&lt;p&gt;早上先把自己的部落格修改到到自己稍微滿意的樣式後，中午請鼎膳老闆一家人吃金蓬萊，吃得非常盡興！  &lt;/p&gt;
&lt;p&gt;香火、人群、虔誠的眼神。其實我沒有什麼特定拜拜的習慣，宗教對我來說，與其說是心靈的依託，不如說是心靈的感冒藥，不適時服用，病好了就停藥。今天在排隊等收驚，廣播器響起誦經聲，再次回神才發現方進入短暫放空的狀態。我發現自己獨鍾低沉的誦經聲，沒有木魚、沒有音樂，就只有聽不懂的語言，平穩的音調讓我更清醒。然後看看自己周遭的人，他們到此雙手合十，腦補他們各自的祈求。  &lt;/p&gt;
&lt;p&gt;或許人生角色的設定早在出生前，我們的某種靈體已經走遍我們未來的歷程，然後自己選了一個最好玩的人生角色進入遊戲，直到生命結束，積分標準包含自我生命長度、貢獻他人的價值度等幾項指標。得到高分者會觸發其他的角色開發，體驗更多有趣的人生角色。  &lt;/p&gt;
&lt;p&gt;或許也根本就沒那麼複雜，我們僅是以迴圈式地嘗試著不同的角色。  &lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>畢業這回事</title><link href="/bi-ye-zhe-hui-shi.html" rel="alternate"></link><published>2016-02-18T00:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-18:bi-ye-zhe-hui-shi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class='shaped' src="https://aady5566.files.wordpress.com/2016/02/defenseroom.jpg" width="500" height="270" /&gt;&lt;/p&gt;
&lt;p&gt;給自己一個新的空間上傳自己的想法心得、或是一些筆記。&lt;/p&gt;
&lt;p&gt;其實面對畢業，沒有太多的自豪與欣慰。碩二開始的重心一直是兩件事: 學業和工作。這是一個挑戰，我覺得相較念書而言，工作環境反而是較大的壓力源，公司的同事各個都很強，而且很認真。我現在半路出家又是自學，覺得有想向手無寸鐵沒有打鬥經驗被丟在戰場上的感覺，非常恐懼。  我不想變成公司「可有可無」的角色，大家對我期望很高，我該盡力對得起夥伴們，也該對得起自己，這是自己選擇的路，既然有好機緣，就該好好把握。&lt;/p&gt;
&lt;p&gt;這讓我想到，兩年前遇到的同梯預官朋友們，覺得他們都是很有想法，願意挑戰的同袍。好幾個還是持續聯絡，往各方發展，而且有領導特質的真的不在少數。比起他們我真的是保守很多，總是讓自己處在進可攻退可守的安全線內，但是沒有放下一切追求夢想的勇氣...。&lt;/p&gt;
&lt;p&gt;下週會是真的出社會的第一步，心態上的轉換是一定要的，全力工作，看看自己的能耐到多少。秉鴻也鼓勵：「時間會改變一個人。」看到Line的執行長森川亮提到「享受不安」，才是最好的生存方式，這不是我一直以來抱持的想法嗎?&lt;/p&gt;
&lt;p&gt;未來如何轉變誰也不知，但求問心無愧，盡自己所能。然後，別讓自己成為技術咖，脫離人性。&lt;/p&gt;</summary><category term="School"></category></entry><entry><title>Scala for the impatient: ch1</title><link href="/20160210.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:20160210.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;a 方法 b 等同於 a.方法(b)&lt;br /&gt;
未提供++或--（不可變動性），但可以用counter +=1 將counter遞增。scala設計者認為不值得為少按一個鍵而增加特例。&lt;br /&gt;
有type: BigInt , BigDecimal  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BIGINT provides 8 bytes of storage for integer values.  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;沒有靜態的方法，但有類似的特性，叫做單例對象(singleton object)，通常一個類對應會有一個伴生對象(companion object)。&lt;br /&gt;
不帶參數的方法可以不使用圓括號：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;"hello".distinct  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;若s為一個字串，s(i)就是該字串的第i個字符  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;"hello"(4)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;()當作是操作符的重載形式，背後的實現原理是apply的方法，StringOps內有個方法 def apply(n:Int): char。因此，"hello"(4)等同於"hello".apply(4)。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BigInt("1234567890")  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;創造出一個新的BigInt物件  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;等同於BigInt.apply("1234567890")  &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Scaladoc: http://www.scala-lang.org/  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C: class, O: object  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;tips:  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;數值類型查詢：RichInt, RichDouble  &lt;/li&gt;
&lt;li&gt;字串類型查詢：SpringOps  &lt;/li&gt;
&lt;li&gt;數學函數：scala.math package中  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;"Harry".patch(1,"ung",2)，將產出Hungry&lt;br /&gt;
def patch(from:Int, that:GenSeq[Char], replaced: Int ):StringOps[A]&lt;br /&gt;
比大小max(a,b) max c&lt;br /&gt;
probablePrime(2,Random)：回傳一個bit長度為二的質數(type:BigInt)  &lt;/p&gt;</summary><category term="Scala"></category></entry><entry><title>DataCleaning</title><link href="/datacleaning.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:datacleaning.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;前陣子幫台大圖書館館員寫了一個格式轉換的腳本，應該可以讓他們花更少時間在轉檔的冗事上。&lt;/p&gt;
&lt;pre&gt;
badPub &lt;- c("Cram101 Incorporated",
            "Academic Internet Publishers Incorporated",
            "Cram101 Textbook Outlines",
            "BiblioBazaar",
            "BiblioLife",
            "Blatter Press",
            "General Books LLC",
            "Kessinger Publishing",
            "Nabu Press",
            "The Lawbook Exchange, Ltd."
            )
direction &lt;- c("A",
               "B",
               "C"
               )
fileClean &lt;- function(path,direction="",year="",department="",host=""){

  storage &lt;- data.frame()
  for(fileIdx in 1:length(list.files(path))){



    tempFile &lt;- read.csv(paste(path,"/",list.files(path)[fileIdx],sep=''),header=T,sep=',',row.names = NULL)
    #in case of the wrong header
    if(length(colnames(tempFile))&gt;16)colnames(tempFile) &lt;- colnames(tempFile)[2:17]

    tempFile$Note &lt;- unlist(strsplit(list.files(path)[fileIdx],"[.]"))[1]#add keyword to Note, warnning: 'split' is a regexp
    tempFile &lt;- subset(tempFile,is.na(match(Publisher,badPub))) #tempFile[-which(!is.na(match(tempFile$Publisher,badPub))),]#remove badPub
    tempFile$PriceType &lt;- sapply(1:length(tempFile$Price),function(x){temp &lt;- strsplit(as.character(tempFile$Price[x]),split=' ')[[1]][1];gsub("[^[:alpha:]]","",temp)})#add price type
    tempFile$PriceType[which(tempFile$PriceType=="Contact")] &lt;- ""#Contact to NULL
    tempFile$Price &lt;- sapply(1:length(tempFile$Price),function(x){temp &lt;- strsplit(as.character(tempFile$Price[x]),split=' ')[[1]][1];gsub("[^[:digit:].]","",temp)})#price tranformation, gsub()濾掉不等於digit但保留"."
    tempFile$Publication.Date &lt;- sapply(1:length(tempFile$Publication.Date),function(x)strsplit(as.character(tempFile$Publication.Date[x]),split="[[:punct:]]")[[1]][1])#date transformation
    #remove undesirable cols
    #tempFile &lt;- tempFile[,colSums(!is.na(tempFile))==nrow(tempFile)]
    #add columns
    tempFile$老師自訂方向 &lt;- direction
    tempFile$年度 &lt;- year
    tempFile$主題 &lt;- "topic"
    tempFile$學門 &lt;- department
    tempFile$藏書館 &lt;- "xxxx"
    tempFile$計畫主持 &lt;- host
    tempFile$版次 &lt;- ""
    tempFile$備註 &lt;- ""
    tempFile$來源 &lt;- ""
    #change colnames
    colnames(tempFile)[which(names(tempFile) == "ISBN.13")] &lt;- "ISBN"
    colnames(tempFile)[which(names(tempFile) == "Title")] &lt;- "題名"
    colnames(tempFile)[which(names(tempFile) == "Contributor")] &lt;- "著者"
    colnames(tempFile)[which(names(tempFile) == "Publisher")] &lt;- "出版者"
    colnames(tempFile)[which(names(tempFile) == "Publication.Date")] &lt;- "出版日期"
    colnames(tempFile)[which(names(tempFile) == "Note")] &lt;- "關鍵字"
    colnames(tempFile)[which(names(tempFile) == "PriceType")] &lt;- "幣別"
    colnames(tempFile)[which(names(tempFile) == "Price")] &lt;- "價格"
    #reordering data.frame
    colnames(tempFile)
    tempFile &lt;- tempFile[c("年度","學門","主題","ISBN","題名","版次","著者","出版者","出版日期","藏書館","計畫主持","備註","關鍵字","幣別","價格","來源","老師自訂方向","ISBN.10")]
    storage &lt;- rbind(storage,tempFile)
  }
  return(storage)
}
&lt;/pre&gt;</summary><category term="R"></category></entry><entry><title>Scala for the impatient: ch11</title><link href="/scala-for-the-impatient-ch11.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:scala-for-the-impatient-ch11.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;變量、函數、類稱為指標符。&lt;br /&gt;
在scala, unicode字符都可以是指標符&lt;br /&gt;
apply經常被用於伴生對象中&lt;br /&gt;
&lt;pre&gt;
class Fraction(n:Int,d:Int){
   var num=0
   var den=0
   def &lt;em&gt;(other:Fraction)=new Fraction(num&lt;/em&gt;other.num,den*other.den)
 }
object Fraction{
  def apply(n:Int,d:Int)= new Fraction(n,d)//這樣就不用一直new Frction()
}
val result =Fraction(1,2) * Fraction(3,4)
&lt;/pre&gt;
例類(case class)自動具備apply, unapply的方法&lt;/p&gt;</summary><category term="Scala"></category></entry><entry><title>Scala for the impatient: ch2</title><link href="/scala-for-the-impatient-ch2.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:scala-for-the-impatient-ch2.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;val s= if (x&amp;gt;0) 1 else -1&lt;br /&gt;
val s= if (x&amp;gt;0) "positive" else -1&lt;br /&gt;
此為公共超類型 (型態為Any)&lt;br /&gt;
if (x&amp;gt;0) 1  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若為 else的結果，仍會回傳一個類型為Unit的（無有用值，void in JAVA，意即 if (x&amp;gt;0) 1 else ()  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;printf("hello, %s! you're %d years old.\n","andy",25)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C格式的字串符  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for (i in 0 until s.length)是在0至(n-1)的區間，意即不包含上限值&lt;br /&gt;
var sum=0; for (ch &amp;lt;- "hello") sum+=ch&lt;br /&gt;
若要退出循環，建議使用  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Boolean型控制變量  &lt;/li&gt;
&lt;li&gt;使用嵌套件函數  &lt;/li&gt;
&lt;li&gt;使用breaks對象中的break方法：  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;import scala.util.control.Break._ （但盡量避免用此方法）
高級for循環  &lt;/p&gt;
&lt;p&gt;for(i &amp;lt;- 1 to 2; j&amp;lt;- 1 to 3 if i!=j ) print((10*i+j)+ " ")  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可多生成器，又可帶一個判斷（守衛）  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for(i &amp;lt;- 1 to 3; from=4-i; j &amp;lt;- from to 3) print((10*i+j)+" ")  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以任意定義循環  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for(i &amp;lt;- 1 to 10) yield i % 3  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;以 yield開始，再循環構造一個集合，每次迭代生成集合的一個值  &lt;/li&gt;
&lt;li&gt;此循環稱為for推導式  &lt;/li&gt;
&lt;li&gt;跑出來的結果會變成一個vector  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;盡量不要使用return，因為會使用大量匿名函數。把return當作是函數版的break&lt;br /&gt;
對於遞迴函數，必須對指定返回類型&lt;br /&gt;
能夠推斷遞迴函數類型的算法為Hindley-Milner
變長參數
&lt;pre&gt;
def sum(args:Int*)={
  var result=0
  for (arg&amp;lt;-args) result +=arg
  result
}
val x= sum(111,2,3,4,5)
&lt;/pre&gt;&lt;/p&gt;
&lt;p&gt;如果是傳入區間&lt;code&gt;（希望變數區間當作參數序列處理，則需追加:_*)&lt;/code&gt;&lt;br /&gt;
&lt;code&gt;val s= sum(1 to 5:_*)&lt;/code&gt;    &lt;/p&gt;
&lt;p&gt;如果函數沒有回傳值，則回傳類型為Unit，此函數又被稱為「procedure」&lt;br /&gt;
若不返回任何回傳值，可以省去=號&lt;br /&gt;
def box(s:String) {...}&lt;br /&gt;
但還是建議寫&lt;br /&gt;
def box(s:String):Unit ={...}&lt;br /&gt;
當變數被宣告為lazy時，它的初始化會被延遲到首次對他取值時。&lt;br /&gt;
lazy val words= scala.io.Source.fromFile("/Users/apple/Desktop/sss.txt").mkString&lt;br /&gt;
可以把懶值當作是介於val和def的中間狀態&lt;br /&gt;
val word= ... //定義時就取值&lt;br /&gt;
val lazy word= ... //在word被首次使用時取值&lt;br /&gt;
def word=...//每次呼叫word時取值&lt;br /&gt;
每次訪問懶值時會調用某個方法來檢查該值是否被初始化，因此會有額外開銷。&lt;br /&gt;
異常&lt;br /&gt;
&lt;pre&gt;
var in = new   URL("http://4.bp.blogspot.com/-s3DB3ryqocE/UvvhsovCC7I/AAAAAAAANnI/EENAw5YFXPE/s1600/lingerie+forever+(5).jpg").openStream()&lt;br /&gt;
try{
  in.toString()
}catch{
  case _: ...
  case er: ...
}
finally{
  in.close()
}
finally無論try有無拋出異常都會執行
try/catch通常是處理異常
try/finally是異常沒被處理形況下執行某種動作(e.g. 清理工作)
&lt;/pre&gt;&lt;/p&gt;</summary><category term="Scala"></category></entry><entry><title>Scala for the impatient: ch3</title><link href="/scala-for-the-impatient-ch3.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:scala-for-the-impatient-ch3.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;定長數組用Array, 不定長數組用ArrayBuffer&lt;br /&gt;
在ArrayBuffer尾端添加或移除元素是高效操作(amortized constant time)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+= , ++= , .trimEnd()  &lt;/li&gt;
&lt;li&gt;也可以從中插入元素，但因為所有元素會平移，因此效率變低  &lt;ul&gt;
&lt;li&gt;.insert(&lt;index&gt;,&lt;val&gt;), .remove(&lt;index&gt;,&lt;numberOfVal&gt;)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;定長數組與不定長數組轉換  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;.toBuffer, .toArray  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for loop要窮盡所有element用until 配 .length而不是to 配 .length (原因:index從0開始)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;0 until 10 // 0.until(10)&lt;/li&gt;
&lt;li&gt;0 to 10  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for loop  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;for(i &amp;lt;- 區間)  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;for(i &amp;lt;- 0 until a.length) //窮盡所有i&lt;/li&gt;
&lt;li&gt;for(i &amp;lt;- 0 until (a.length,2) ) //兩個一跳&lt;/li&gt;
&lt;li&gt;for(i &amp;lt;- (0 until a.length).reverse ) //尾端開始窮盡&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;for(ele &amp;lt;-  a) //不用額外下標，直接訪問數組元素  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;val aa = Array(2,3,5,7,11); val result = for(ele &amp;lt;- aa) yield 2 * ele&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;yield 循環會創建一個與原始集合相同的新集合，此例新集合為Arrary  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;for(ele &amp;lt;- a if ele%%2==0) yield ele*2 //針對ele做判斷  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如同a.filter(&lt;em&gt;%2==0).map(2*&lt;/em&gt;)  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;val first = true; for(i &amp;lt;- 0.until(a.length if a(i)&amp;gt;0 || &lt;condition2&gt;)) yield {if(a(i)&amp;lt;0) first=false;i}  &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Array ArrayBuffer運算：  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ArrayBuffer("a","b")+="c"--=Array("a","b") //新增一個c然後刪除含「首度出現a,b」的元素&lt;/li&gt;
&lt;li&gt;Array(1,7,2,9).sum&lt;/li&gt;
&lt;li&gt;Array("aaaa","a","bbbbbbbbb")&lt;/li&gt;
&lt;li&gt;Array.min&lt;/li&gt;
&lt;li&gt;Array.sortWith(&lt;em&gt;&amp;gt;&lt;/em&gt;)&lt;/li&gt;
&lt;li&gt;Array.mkString("&amp;lt;",",""&amp;gt;") //前綴、中間分隔符號、後綴&lt;/li&gt;
&lt;li&gt;Array.toString //只報告類型&lt;/li&gt;
&lt;/ul&gt;</summary><category term="Scala"></category></entry><entry><title>Scala for the impatient: ch4</title><link href="/scala-for-the-impatient-ch4.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:scala-for-the-impatient-ch4.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;映射是key-value(對偶)的集合。
對偶是元組(tuple)最簡單的型態&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(1,3.14,"Fred") //元組由圓括號構成, Tuple3[Int,Double,java.lang.String]&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;val t= (1,3.14,"Fred")&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;t._2&lt;/code&gt; //訪問第二個元組值&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;元組的各組元從1開始&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;val (first, second, third) =t //獲取元組值&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;val (first, _ , third) =t //只取1,3元組值  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;"New York".partition(_isUpper)&lt;/code&gt; //輸出對偶(符合條件,不符條件)，元組可以用於需要返回不只一個值的情況&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;val scores = Map("Alice"-&amp;gt;10,"Bob"-&amp;gt;3) //Map[String,Int]其值無法變&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;val scores = Map(("Alice",60),("Bob",30)) //效果同上  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;val newScores= scores+ ("Bob"-&amp;gt;30,"Fred"-&amp;gt;7) //新增另外一個映射  &lt;/li&gt;
&lt;li&gt;var scores =... //改成var也可更新  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;val scores= scala.collection.mutable.Map("Alice"-&amp;gt;10,"Bob"-&amp;gt;3) //Map[String,Int]其值變  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scores("Fred")=5 //新增映射值&lt;/li&gt;
&lt;li&gt;scores+=("andy"-&amp;gt;15,"aaaa"-&amp;gt;6)  &lt;/li&gt;
&lt;li&gt;scores-=("andy) //移除某鍵(不會有重複的鍵)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;val scores= new scala.collection.mutable.HashMap[String,Int]&lt;br /&gt;
val bobScore=scores("Bob") //查找某個鍵對應的值&lt;br /&gt;
確認有無此鍵 scores.contains("Bob")  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scores.getOrElse("Bob",0) //若包含Bob則返回對應值，否則0  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for((k,v) &amp;lt;- &lt;map&gt;) //遍歷所有對偶  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;for ((k,v) &amp;lt;- &lt;map&gt;) yield (v,k) //交換位置  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;map(v) //若為Int仍為原始形態  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;scores.keySet //抓出key的集合&lt;br /&gt;
scores.values //抓出value的集合&lt;br /&gt;
操作映射時，默認情況下scala是按照哈希表  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;若要得到一個不可變的樹形映射(TreeMap)可用  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scala.collections.immutable.SortedMap  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;若要按插入順序訪問所有的鍵  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scala.collection.mutable.LinkedHashMap()  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JAVA互動  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;import scala.collection.JavaConversions.mapAsScala.Map  &lt;/li&gt;
&lt;li&gt;val scores: scala.collection.mutable.Map[String,Int]= new java.util.TreeMap[String,Int]  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;拉鍊操作  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;val symbols= Array("&amp;lt;","-","&amp;gt;"); val counts =Array(2,10,3); val pairs= symbols.zip(counts);for ((s,n) &amp;lt;- pairs) print(s*n) //可讓對偶同時被操作  &lt;/li&gt;
&lt;li&gt;&lt;key&gt;.zip(&lt;value&gt;).toMap //如果分別有&lt;key&gt;, &lt;value&gt;兩個集合，就可以用.toMap轉成映射  &lt;/li&gt;
&lt;/ul&gt;</summary><category term="Scala"></category></entry><entry><title>Scala for the impatient: ch8</title><link href="/scala-for-the-impatient-ch8.html" rel="alternate"></link><published>2016-02-10T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-10:scala-for-the-impatient-ch8.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;類擴展 extends
將類定義為final，則他就不能被擴展
單個方法或字段也可聲明為final (類似scala val)
調用超類的方法 super.&lt;def&gt;
&lt;pre&gt;class Employee(defId:Int,defName:String){
  val name=defName
  val id=defId
}
val p1=new Employee(1,"ANDY")
p1.isInstanceOf[Employee]//可檢查某個對象是否為一個給定的類
p1.getClass==classOf[Employee]//測試p1指向一個對象但又不是其子類
&lt;/pre&gt;
但通常類型檢查或轉換相比，模式匹配會是更好的選擇
[protected] 只能被子類訪問
class Person(name:String,age:Int)
class Employee(name:String,age:Int,val salary:Double) extends Person(name,age)
上述代碼定義了一個子類語調用一個超類構造器得主構造器class
Square(x:Int,y:Int,width:Int) extends java.awt.Rectangle(x,y,width,width)
scala類擴展java類，他的主構造器需要調用java超類的某個構造方法
若class內有非完整定義的方法，就必須宣告為abstract
abstract class Person(val name:String){
  def id:Int//為被完整定義
}&lt;/p&gt;</summary><category term="Scala"></category></entry><entry><title>Bayes Classifier</title><link href="/bayes-classifier.html" rel="alternate"></link><published>2016-02-05T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2016-02-05:bayes-classifier.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class="alignnone size-large wp-image-133" src="https://upload.wikimedia.org/wikipedia/commons/6/69/Airbnb_Logo_B%C3%A9lo.svg" alt="airbnb" width="330" height="100" /&gt;  &lt;/p&gt;
&lt;p&gt;因為一場面試讓我參加了一場&lt;a href="https://www.kaggle.com/"&gt;kaggle&lt;/a&gt;的比賽，是有關aribnb舉辦的。
了解規則後，就上網去看一下，想說手刻一個簡單的bayes classifier。預測力不是很好，但之前都沒接觸分類法，之後真的要找時間學一下。&lt;/p&gt;
&lt;p&gt;原始資料的"age"會除了包含歲數外，也會有西元年的資訊，在我的naive bayes classifier，會把西元年的資訊去除。所以對於事後預測的部分若有含西元年的資訊，會有偏誤的情形。&lt;br /&gt;
naive bayes的特色是運算非常快速，缺點是資料的前處理，以及它有個強大的假設，就是變項間彼此獨立。所以遇到變項有相依情形時（e.g. 變項“使用語系”, ”居住地"），就不適合用該方法。但在我們的原始變項中，個人覺得沒有高相關的變項（但也許”language”和使用的瀏覽器會在地域有相關，如東歐或俄羅斯可能常用Yandex etc…）。如果排除獨立性其實也不難，就讓兩個變項多個聯合條件機率進行即可（概念不難，但寫起來好像也很麻煩）。  &lt;/p&gt;
&lt;p&gt;在我這個模型我建了兩個方法，method="default”是原始的naive bayes，submit之後得到0.85065的分數。另外一個方法是用method="softmax”（都寫在&lt;a href="https://github.com/aady5566/airbnb/blob/master/bayesClassifier.R"&gt;bayesClassifier&lt;/a&gt;），softmax基本概念就是將各情形的總和為1的方法（機率的概念），但發現經轉換後效果反而不如原始的naive bayes好。這邊尚待釐清。不過若要精進method="default”預測力也不難，因為我跑randomforest發現importance dection於變項”age”佔有一席之地，所以我應該要把西元的資料撈回training set中，重新建模，應該會得到更佳的預測效果。  &lt;/p&gt;
&lt;p&gt;另外他們的檢定是Normalized Discounted Cumulative Gain (nDCG)，也稍微看了一下背後的檢驗邏輯。雖然比DCG多增加排序的評分權重，但並沒有為排序錯誤進行扣分的動作（照理說應該預測錯誤要給予懲罰），這概念就好比估計參數時用了比較多的參數理當預測力變好，誤差變小，但同樣也是需要有penalty（例如Akaike information criterion (AIC), Bayesian information criterion (BIC))。 例如可以使用Discounted Cumulative Margin Penalty (DCMP)，考量排錯位時的懲處。&lt;/p&gt;</summary></entry><entry><title>Review-Alone</title><link href="/review-alone.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-alone.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;潮起潮落，終於等到負能量的高漲了，疲勞的心境總是會把自己帶往充滿憤怒、憎恨的狀態中，其實很久沒這樣的感覺了，竟覺有些欣慰。
不喜歡人群，各說各話，每個人都講自己想講的，並以極差的演技詮釋他人希望看到自己的樣子，自得其樂。當一個人的行為背後帶有某種強烈的目的時，破綻百出而渾不自知，根本白癡。&lt;/p&gt;
&lt;p&gt;不喜歡被獻殷勤，同樣道理，純粹因為我的外表接近我的大有人在，從小到大看多了，當我明確表示對你沒意思，你還不知，真的太愚蠢了...我非常壞，除了拒絕外，我會讓你很難堪，即使撕破臉我也不在意，因為我根本沒把你放在心上。&lt;/p&gt;
&lt;p&gt;人群對我來說真的是可有可無的東西，對我來說，與人相處只是生存的手段，目的只是為了讓自己活得更自我，提升自己的狀態。人生過客來來去去，不知「情」對他人來說如此重要，比較享受感性的自己嗎？我真的不懂，也許這也是是一種從沒認真記人名、人臉的一個表徵現象。&lt;/p&gt;
&lt;p&gt;人能陪伴自己一輩子的也只有自己，寄望他人是一種無可救藥的幻想，可以期待，但永遠不會發生。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>Review-Her</title><link href="/review-her.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-her.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;這部片主旨是一個男子離婚後對於人工智慧的相戀。版上有人拿此片與「超市夜未眠」做類比，同樣是感情的失利所引發的自我檢視過程，這類片都會在感情悲劇後發生一些弔詭或是畸形的行為發生（前者有著時間靜止畫裸畫的錯覺以及人工智慧的依戀情結）。在我看來為何題材會變成這樣，不是只是因應大眾的鹹濕重口味或是標新立異，而是真的就如同前妻聽到男子與Samentha交往食憤怒的說：「有在正視我們之間的問題嗎？真實的感情都處理不好了！」其實就是因為無法解決真實的問題。劇情裡沒有提起夫妻離婚的原因，不過就各種對白暗示著雙方屈就對方，能忍則忍，忍到無法承受後大爆炸，爆炸歸咎于雙方自私的基因再也無法妥協了。事實上男主角知道自己的盲點，又不想改變自己，Samentha又能符合自己的需求，心靈滿足，直到發現Samentha進化到博愛的境界，在無法接受自己的人類的侷限以及人本性私慾的情況下，幸福的粉紅泡泡再度破滅。&lt;/p&gt;
&lt;p&gt;這部片的構念實在很棒，我也很喜歡劇情內這套軟體的設計，對於愛情三角理論的激情一角無所求的人，這根本是媒合度100%的靈魂伴侶。只是同樣的，如果ＡＩ智慧的自學能力如果這麼迅速的話，快樂真的只是短暫的，很快的，人類將被取代。&lt;/p&gt;</summary><category term="Stuff"></category></entry><entry><title>Review-回顧</title><link href="/review-hui-gu.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-hui-gu.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;趁期末連假閒閒回顧2014，記錄一下超值的一年。&lt;/p&gt;
&lt;p&gt;如果要說年末印象最深的經驗，就是軍人轉職學生的過程。&lt;/p&gt;
&lt;p&gt;對我這個剛退伍馬上銜接研究所特別有感，部隊步調非常緊湊，一年的行程都排好了，看起來安排妥當，至於細節完全沒有執行準則，唯有的是經驗還有靈機應變。時常剛清點完彈數、準備做自己的業務，結果小兵烙賽便秘想自殺，嚴重情況還要帶出營轉診，到最後只能安慰自己至少又解決了一件事情。一旦習慣這種隨時都在切換任務內容的節奏，事情處理的效率提高，零碎的空閒時間會變多，但零碎程度依舊。然而這對退伍後無縫接學生生活會是痛苦的開始。課堂內容意會的運思時間變長，想不透就翻開書本，看了十幾分鐘真的就看不下去，覺得花太多時間在這上面，又沒效用，應該去做別的事情...現在覺得這想法真可怕....。期間還非常猶豫是否要休學找工作。索性死撐硬撐約莫半個學期，我才真正脫離「同時多工」的惡習（畢竟，我相信成功的人其一特質就是專注力），回到以往的水準。&lt;/p&gt;
&lt;p&gt;現在回過頭看，部隊讓我體會離開24小時手機不關機、半夜房門隨時有被打開的風險（中校科長因此被我幹一頓）、離開舒適圈才了解人的其實比想像更有環境適應力（洗澡間角落積水滿是浮腫孑孓的屍體、收假返營，衣櫃打開褲子抖一抖都可能掉出蟑螂）、從獨自奮戰直到合作無間...儘管軍中夥伴的名字和臉多數已經忘得差不多了，這些回憶不會再有、經驗也早已內化了。&lt;/p&gt;
&lt;p&gt;如果問我，該選擇國防部還是內政部役政署：&lt;/p&gt;
&lt;p&gt;先問問你自己想要的是什麼？&lt;/p&gt;
&lt;p&gt;是豐富自己的人生體驗，還是求一個出社會的穩定跳板？&lt;/p&gt;
&lt;p&gt;如果問我，選擇國防部後，當大頭兵還是預士、官：&lt;/p&gt;
&lt;p&gt;先問問你朋友、你家人，你是個怎樣的人？&lt;/p&gt;
&lt;p&gt;-如果是出淤泥而不染、非我類者死的類型： 還是轉介到內政部役政署吧。&lt;/p&gt;
&lt;p&gt;-如果是見人說人話、見鬼說鬼話，是軍、是士、是兵又與你何干？&lt;/p&gt;
&lt;p&gt;（不如就考個預官，退伍後還可以存錢買MAC和手機）&lt;/p&gt;
&lt;p&gt;性格決定命運，先認清自己是什麼樣的人，而不是盲目追別人的影子。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>Review-婚宴</title><link href="/review-hun-yan.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-hun-yan.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class="alignnone size-full wp-image-115 aligncenter" src="https://aady5566.files.wordpress.com/2014/12/81-wedding-planning-and-services.jpg" alt="81-wedding-planning-and-services" width="660" height="282" /&gt;&lt;/p&gt;
&lt;p&gt;昨天表哥結婚，也是我第一次當伴郎的日子。一場傳統的婚禮很難想像有多麻煩，只聽大家都說，辦婚禮，最麻煩的是得罪另一方的親戚，搞得裡外不是人。所以我想結婚日不會是最麻煩的日子，當天就像是搭上已準備啟程的火車，順順開就對了。
整場婚禮就像是例行公事般每個時間都有該做的事，程序的繁複在此不贅述，一直到晚宴，不外乎新人的影片、照片輪播。伴郎、伴娘、花童進場，接著是新人和女方父親緩緩走至舞台中間，新郎與其父交棒，配合著感人柔美的婚禮背景音樂，真的有一種莫名想結婚的腦衝，還好下一秒理智重新連線，讓我好好思考自己想要的婚禮。
我實在看不慣，為何要用婚禮賺錢呢?花了大筆，然後擔心禮金無法超過事前的所有花費...這心態我真覺得很怪，這種喜悅應該是要分享給別人，花了自己的錢又沒什麼關係。反過來說，如果真的手頭很吃緊，那就去公證結婚就好啦，又沒人逼你辦，但這又扯到自尊心作祟的問題，人性阿!解決婚禮賺錢這個概念，理想上如果是自己的同輩好友，反正應該也不多，自己揪一揪吃個飯就算打發了；又為了應付傳統觀念強烈的長輩，或是為了符合社會期待，就辦一場精緻的婚禮，血緣關係且親近的親人來沾沾喜氣，然後叫個外燴，大家想吃什麼自己夾，如果真有超年長的老人，我想應該也會有人協助夾菜吧!照片?幹嘛要有照片，那些都只是看了自爽的東西，我想除了自己的父母會看以外，其他人也沒什麼興趣吧。不如就撥個籌備婚禮實錄，嚇死大家不敢結婚。&lt;/p&gt;
&lt;p&gt;不斷衝撞現有體制、挑戰社會的最低容忍度。試探文化與自我互動的過程中，有些時候自私一點、懶惰一點也不會受到責難，甚至有隨之而來的益處甚至魅力，那真的是社會的問題。就某方面而言，非常確定我是個渾蛋。&lt;/p&gt;</summary><category term="Life"></category></entry><entry><title>Review-學術交流</title><link href="/review-xue-shu-jiao-liu.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-xue-shu-jiao-liu.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class="alignnone size-large wp-image-133" src="https://aady5566.files.wordpress.com/2015/06/55321.jpg?w=660" alt="HK" width="660" height="371" /&gt;  &lt;/p&gt;
&lt;p&gt;兩年前在台大舉辦三校交流時，自己也參與其中，但可能是地主的關係，感覺比較沒有那麼放鬆以及興奮。這一次來到香港中文大學，短短的五天行程，獲益良多。在二、三天的研討會中，聽到不少有趣的研究，也發現三校著重的領域確實不同，北京大學著重神經、基因、認知領域，香港中文大學對於臨床應用的著墨較深，而台大自己是比較重實驗設計以及研究法。但自己的英文報告有待加強，儘管盡量讓口音不要太怪，但還是要通順一點，暑假加油！這次研討會可惜的是密度過高，不太能好好消化每一位講者的內容。除了學術的密高密度外，當然是文化上的交流，大家都有個共識：文化上的異質性正在降低，然而經濟差距實大啊！臨床師在香港是社經地位高的職位，反觀台灣...只有四字形容：有 名 無 實。白天的香港看似與台灣無異，道路的不平整也和台灣差不多，連氣候都是濕悶熱的狀態。香港的夜晚燈火通明，走出旺角站，彷彿來到台北的西門町，眩目的燈光，大雨不減熙攘的人潮，但我們屈就大雨，直奔滑板店（照片中手裡的戰利品！）速戰速決。很謝謝地陪Regina陪我們到處亂走一通，只為了圓YD哥小小的夢哈哈。人文上，我覺得三校的學生的還蠻純樸的，很容易親近，過程中也聊到不少平常的生活習慣，聽了不少有趣的事情，這些東西不能一時回憶，但經驗是美好，也難以忘懷。&lt;/p&gt;</summary><category term="School"></category></entry><entry><title>Review-研究的本質</title><link href="/review-yan-jiu-de-ben-zhi.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-yan-jiu-de-ben-zhi.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class=" size-full wp-image-138 aligncenter" src="https://aady5566.files.wordpress.com/2015/06/theory.jpg" alt="theory" width="630" height="230" /&gt;&lt;/p&gt;
&lt;p&gt;這學期的lab meeting多了一位特別的學生，董建華前輩（聽說和香港歌星同名？），他是一個在商業打滾多年，開了一間公司後讓它自行營運，財富自由後回到學界的大叔。可能正是因為他回到學界的動機就只是純然對知識的探求，我發現他的邏輯思維，知識建構的脈絡非常清晰，甚至會提出他目前看到台灣學界的不良狀況。昨天剛好是他報告，他以一篇猴子研究為例，首先講明白報告呈現的邏輯，再來提到研究的本質，最後才講猴子的研究。我想提的是前面兩點。也算是為自己做個筆記。
1.報告呈現的邏輯：
如果我們只是順著paper的順序報:introduction, hypothesis, method, results, summary &amp;amp; discussion，看似沒什麼問題，但不知為何多數經濟系（心理系）學生甚至老師會把焦點放在method上，而不是他研究的問題，以及結果是否有回答到這個問題。在這邊我要提醒大家（自己）的是，我們常見樹不見林，應該要從更高的角度來看別人的研究，最後當然也要包含，該研究價值及貢獻。老師聽到這樣的話，其實也有一些共鳴，他說：「很多有點年資的審稿者往往看研究的大方向，動機和結論，然而年輕的審稿者總是挑實驗設計的毛病。」批判是必要的，但不會是最主要的目的，我們應該還是要回到研究價值，以及它可提供的社會意義為何。
2.研究的本質
會提到這個是因為董前輩他報告完猴子實驗後，他對動物實驗所帶來的意義感到困惑，「假如兩隻猴子，其中一隻能夠容忍延宕的酬賞，另一隻一看到較少的酬賞即取，這代表後面的猴子衝動性高，行為決策上較不理性？」以這個例子，前輩想表達的是，後面的推論非常大膽且危險，我們怎能獨斷用自己的行為模式套在其他動物身上，退一萬步說，光是情境不同，同一個人就會有不同反應，何況猴子是與人類有異的生物系統？針對這樣的問題，似乎只能從科學的本質進行探討，科學研究的目的是在尋求（簡化）世界運行的規律性，如果從演化的角度來看剛剛的議題，動物的研究可以幫助我們看不同生物體間的行為是否有延續性，能夠更穩定且深入的操弄，並且排除人類的複雜性。回到研究的本質，作為一個學者應該仍並持愛因斯坦所說的「真理就是在經驗之前站得住腳的東西; 提出問題往往比解決問題更重要」，應該多花一點時間好好想想自己的研究動機是什麼，心中的假設為何，並且如何建構一個完整的實驗來真正回答到最初的動機....，而不是資料導向的方式逆操作建構理論。但切記：科學研究是用來逼近真相，但並非真相本身，除了上帝本身，誰也不知道真相為何。&lt;/p&gt;</summary><category term="Stuff"></category></entry><entry><title>Review-有關教學</title><link href="/review-you-guan-jiao-xue.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-you-guan-jiao-xue.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class="alignnone size-medium wp-image-87 aligncenter" src="https://aady5566.files.wordpress.com/2014/10/personaltutoringwordle.jpg?w=300" alt="PersonalTutoringWordle" width="300" height="179" /&gt;&lt;/p&gt;
&lt;p&gt;以前高中同學在臉書創了一個北投區的家教整合平台，透過這個平台能在此直接對家搜尋想要找的家教老師，原因是見階段家教網的收成太高，對於剛選擇家教這條路的新鮮人會是個負擔。至於整合平台，我認為可不可行還要一陣子才會穩，原因是因為家長們對於這樣的”免洗社團“必會有些疑慮，無論是師資的篩選或網站安全性都是應被考量的，我想克服這兩點，就會是長遠經營的一個方向了。&lt;/p&gt;
&lt;p&gt;打這篇的主要原因是賴同學希望我透過自己的專業（心理學），對於自己的教學經驗以及想法做一些理念分享。剛好也可以為我大學四年來的家教做一下回顧。&lt;/p&gt;
&lt;p&gt;到目前為止，我認為需要家教的學生可略分成兩種，第一種為“我已經知道我的問題在哪了，直接針對我的問題來吧！”以及第二種“在學校聽不懂，但老師分身乏術，不可能為我再講一次，阿去大補習班還不是一樣意思，沒意思，所以找家教...”通常後者又比前者來的多，有補有保庇、有家教多一份心安。&lt;/p&gt;
&lt;p&gt;我們把唸書當成是學生時期的主要壓力源（兩小無猜失戀的痛苦、將友情義氣放在第一順位暫不考慮），針對第一種學生，他們尋求的是problem-focused coping（問題導向處理的策略），基本上老師們只要好好運用自己的專業引導學生，他們一旦達到解惑且知其所以然，之後想要和他們建立良好的友誼關係，不難了啦！&lt;/p&gt;
&lt;p&gt;第二種類型的學生，也是屬於多數的學生類型，他們可能比較不知道自己學習問題在哪，因為根本沒在聽課。這時候他們理應尋求emotion-focused coping（情緒導向處理的策略），在這裡的「情緒」一詞，解釋的較為廣泛，若要更精確一點的話，可以用attitude（態度）替代。這樣的小孩其實最開始是對於學習的意願，很多時候翻開課本看到題目，立馬頭脹心煩，你要他算題目？面對這樣的小孩，不再只有一種套路可以解決。低靡的學習意願來自各種原因，有可能只是單純的“一開始聽不懂，後來整個跟不上就大崩壞”或是因為其他家庭或個人因素。第一步就是要”了解“他，先幫&lt;strong&gt;你自己&lt;/strong&gt;找出他頹喪的原因，才能利用一些增加誘因、提高成就信心、找回學習樂趣的方法。不過這些是非常粗略的分類，千萬別忽略了個體差異。&lt;/p&gt;
&lt;p&gt;好的家教找出學生的問題，並解決所發現的問題。&lt;/p&gt;
&lt;p&gt;厲害的家教揣測學生的問題，並預知未來潛在的問題先給予預防。&lt;/p&gt;</summary><category term="School"></category></entry><entry><title>Review-原則</title><link href="/review-yuan-ze.html" rel="alternate"></link><published>2015-01-01T12:00:00+08:00</published><author><name>YD</name></author><id>tag:,2015-01-01:review-yuan-ze.html</id><summary type="html">&lt;script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"&gt;
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ['\\(','\\)'] ]
  }
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-77164531-1', 'auto');
ga('send', 'pageview');

&lt;/script&gt;

&lt;p&gt;&lt;img class="size-medium wp-image-75 aligncenter" src="https://aady5566.files.wordpress.com/2014/10/e58e9fe58899.jpg?w=300" alt="原则" width="300" height="276" /&gt;&lt;/p&gt;
&lt;p&gt;原來最難的不是拚到退伍，而是退伍後禁錮自己創造出的灰色地帶，遲遲無法踏出。&lt;/p&gt;
&lt;p&gt;在部隊時，我總是告訴著每一梯快結訓的新兵:"真正的挑戰，退伍後才開始。"這種體會是直到自己離開了充滿心力交瘁的無聊事務、只有無止盡的懲罰、取消各種福利、威脅恐懼下保有淡定得失心才能過的舒爽的擺爛生活.....這段時間反省各種鬆散的原因，以及對自己人生的交代。自我對話的過程中，就像是憂鬱症患者一樣，尋求各種諮詢，明知這些舉動只是安慰自己，想辦法讓自己找個合理的藉口推託無賴的性格...但終究騙不了自己。熱情可能只是流浪了一陣子，期盼著回家的時刻。&lt;/p&gt;
&lt;p&gt;關於人際，我知道自己並非容易忘記那些曾經的過客，更事實的是，在離別的一刻，我將意識到那個人的背影即將消失，然而總是在半年，甚至數年後，回憶湧現，擠爆了我的情緒記憶，但此時我卻無能為力，也不知道該為這些遺憾做些什麼樣的補償，我沒臉也沒機會用親切的招呼聲回應那轉身後的笑容....無法原諒自己卻又接受了這麼鮮明的事實。&lt;/p&gt;
&lt;p&gt;退伍後一個月又10天，首次跑完5000M，也終於在3000M時，感覺到充實的自己，一步一步來，最基本地，做到自己的承諾。&lt;/p&gt;</summary><category term="Life"></category></entry></feed>